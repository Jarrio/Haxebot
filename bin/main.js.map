{
"version":3,
"file":"main.js",
"sourceRoot":"",
"sources":["file:///C:/HaxeToolkit/haxe/std/DateTools.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/Std.hx","file:///C:/HaxeToolkit/haxe/std/StringBuf.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/String.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/Date.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/EReg.hx","file:///C:/HaxeToolkit/haxe/std/EnumValue.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/HxOverrides.hx","file:///C:/HaxeToolkit/haxe/std/js/Lib.hx","file:///C:/HaxeToolkit/haxe/std/IntIterator.hx","file:///C:/HaxeToolkit/haxe/std/Lambda.hx","file:///C:/HaxeToolkit/haxe/std/haxe/ds/Map.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/Main.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/Universe.hx","file:///C:/HaxeToolkit/haxe/std/haxe/ds/Vector.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/bits/git/src/bits/Bits.hx","file:///C:/HaxeToolkit/haxe/std/Any.hx","file:///C:/HaxeToolkit/haxe/std/haxe/Rest.hx","file:///C:/HaxeToolkit/haxe/std/js/Browser.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/haxe/ds/StringMap.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/hxnodejs/git/src/sys/io/File.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/Query.hx","file:///C:/HaxeToolkit/haxe/std/StringTools.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/Reflect.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/haxe/NativeStackTrace.hx","file:///C:/HaxeToolkit/haxe/std/js/Boot.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/safety/git/src/Safety.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/Math.hx","file:///C:/HaxeToolkit/haxe/std/haxe/SysTools.hx","file:///C:/HaxeToolkit/haxe/std/haxe/iterators/StringIteratorUnicode.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/hxnodejs/git/src/Sys.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/hxnodejs/git/src/js/Node.hx","file:///C:/HaxeToolkit/haxe/std/haxe/DynamicAccess.hx","file:///C:/HaxeToolkit/haxe/std/haxe/io/Output.hx","file:///C:/HaxeToolkit/haxe/std/haxe/Int64.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/haxe/io/Bytes.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/hxnodejs/git/src/js/node/buffer/Buffer.hx","file:///C:/HaxeToolkit/haxe/std/haxe/io/Input.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/Type.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/Array.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/Util.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Api.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/System.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/systems/CommandBase.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/macros/SystemMacros.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/Family.hx","file:///C:/HaxeToolkit/haxe/std/haxe/iterators/ArrayKeyValueIterator.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Archive.hx","file:///C:/HaxeToolkit/haxe/std/js/lib/HaxeKeyValueIterator.hx","file:///C:/HaxeToolkit/haxe/std/js/lib/Map.hx","file:///C:/HaxeToolkit/haxe/std/js/lib/KeyValue.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/AutoRole.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/AutoThread.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Boop.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Code.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/CodeLineNumbers.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Color.hx","file:///C:/HaxeToolkit/haxe/std/js/lib/HaxeIterator.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/systems/CommandDbBase.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/DeleteProject.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Emoji.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/util/EcsTools.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Everyone.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Haxelib.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Help.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Hi.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/JamSuggestionBox.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Notify.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/PinMessage.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Poll.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/haxe/ds/IntMap.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/node/16,10,3/ts/AnyOf4.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Quote.hx","file:///C:/HaxeToolkit/haxe/std/haxe/EnumTools.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/RecordSet.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/React.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/node/16,10,3/ts/AnyOf2.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Reminder.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Roundup.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/RoundupRoundup.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Rtfm.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/systems/TextCommandBase.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Run2.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/hxnodejs/git/src/sys/FileSystem.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Say.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/ScamPrevention.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/discordjs/discordjs/src/discord_js/MessageEmbed.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Showcase.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Snippet.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/ThreadCount.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/Translate.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/events/PinMessageInfo.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/mod/RateLimit.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/mod/Social.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/mod/Tracker.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/commands/types/Duration.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/components/ShowcaseModalSubmit.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/components/TextCommand.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/database/MyRecord.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/database/types/DBEmoji.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/database/DBMacros.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/database/types/DBQuote.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/database/types/DBRateLimit.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/database/types/DBReminder.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/database/types/DBSnippet.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/ColumnDefinition.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/DatabaseError.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/DatabaseFactory.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/macros/DatabaseTypes.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/DatabaseResult.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/DatabaseSchema.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/DebugUtils.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/Record.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/RelationshipDefinitions.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/TableSchema.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/TableSchemaDiff.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-mysql/src/db/mysql/MySqlDataTypeMapper.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/logging/git/src/logging/Logger.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-mysql/src/db/mysql/MySqlDatabase.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-mysql/src/db/mysql/MySqlDatabaseType.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-mysql/src/db/mysql/MySqlTable.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-mysql/src/db/mysql/Utils.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/db-core/src/db/utils/SqlUtils.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/discordjs/discordjs/src/discord_builder/APIActionRowComponent.hx","file:///C:/HaxeToolkit/haxe/std/haxe/iterators/RestIterator.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/discordjs/discordjs/src/discord_builder/APIButtonComponentBase.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/discordjs/discordjs/src/discord_builder/APITextInputComponent.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/discordjs/discordjs/src/discord_builder/ButtonBuilder.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/discordjs/discordjs/src/discord_builder/ModalBuilder.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/discordjs/discordjs/src/discord_builder/SharedSlashCommandOptions.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/Components.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/Entity.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/Phase.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/TableType.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/core/ComponentManager.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/core/EntityManager.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/core/FamilyManager.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/core/ResourceManager.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/ds/Signal.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/ds/SparseSet.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/aidan-ecs/git/src/ecs/ds/Unit.hx","file:///C:/HaxeToolkit/haxe/std/haxe/CallStack.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/haxe/Exception.hx","file:///C:/HaxeToolkit/haxe/std/haxe/Int32.hx","file:///C:/HaxeToolkit/haxe/std/haxe/Int64Helper.hx","file:///C:/HaxeToolkit/haxe/std/haxe/Log.hx","file:///C:/HaxeToolkit/haxe/std/haxe/Timer.hx","file:///C:/HaxeToolkit/haxe/std/haxe/ValueException.hx","file:///C:/HaxeToolkit/haxe/std/haxe/crypto/Sha1.hx","file:///C:/HaxeToolkit/haxe/std/haxe/ds/BalancedTree.hx","file:///C:/HaxeToolkit/haxe/std/haxe/ds/EnumValueMap.hx","file:///C:/HaxeToolkit/haxe/std/haxe/ds/List.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/haxe/ds/ObjectMap.hx","file:///C:/HaxeToolkit/haxe/std/haxe/ds/ReadOnlyArray.hx","file:///C:/HaxeToolkit/haxe/std/haxe/exceptions/PosException.hx","file:///C:/HaxeToolkit/haxe/std/haxe/exceptions/NotImplementedException.hx","file:///C:/HaxeToolkit/haxe/std/haxe/http/HttpBase.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/http/git/src/haxe/http/HttpNodeJs.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/haxe/io/ArrayBufferView.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/haxe/io/BytesBuffer.hx","file:///C:/HaxeToolkit/haxe/std/haxe/io/Eof.hx","file:///C:/HaxeToolkit/haxe/std/haxe/io/FPHelper.hx","file:///C:/HaxeToolkit/haxe/std/haxe/io/Path.hx","file:///C:/HaxeToolkit/haxe/std/js/_std/haxe/io/UInt8Array.hx","file:///C:/HaxeToolkit/haxe/std/haxe/iterators/ArrayIterator.hx","file:///C:/HaxeToolkit/haxe/std/haxe/iterators/DynamicAccessIterator.hx","file:///C:/HaxeToolkit/haxe/std/haxe/iterators/DynamicAccessKeyValueIterator.hx","file:///C:/HaxeToolkit/haxe/std/haxe/iterators/MapKeyValueIterator.hx","file:///C:/HaxeToolkit/haxe/std/haxe/iterators/RestKeyValueIterator.hx","file:///C:/HaxeToolkit/haxe/std/haxe/iterators/StringIterator.hx","file:///C:/HaxeToolkit/haxe/std/haxe/iterators/StringKeyValueIterator.hx","file:///C:/HaxeToolkit/haxe/std/haxe/macro/Expr.hx","file:///C:/HaxeToolkit/haxe/std/haxe/macro/ExprTools.hx","file:///C:/HaxeToolkit/haxe/std/haxe/macro/Printer.hx","file:///C:/HaxeToolkit/haxe/std/js/html/CanvasElement.hx","file:///C:/HaxeToolkit/haxe/std/js/lib/ArrayBuffer.hx","file:///C:/HaxeToolkit/haxe/std/js/lib/Object.hx","file:///C:/HaxeToolkit/haxe/std/js/lib/Set.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/hxnodejs/git/src/js/node/KeyValue.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/hxnodejs/git/src/js/node/stream/Writable.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/hxnodejs/git/src/js/node/url/URLSearchParams.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/logging/git/src/logging/LogManager.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/logging/git/src/logging/adaptors/NullLogAdaptor.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/logging/git/src/logging/formatters/DefaultFormatter.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/mysql/src/mysql/MySqlError.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/mysql/src/mysql/MySqlResult.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/mysql/src/mysql/impl/DatabaseConnectionBase.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/mysql/src/mysql/impl/nodejs/DatabaseConnection.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/promises/src/promises/PromiseUtils.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/queues-core/git/src/queues/NonQueue.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/queues-core/git/src/queues/SimpleQueue.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/safety/git/src/safety/SafetyException.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/safety/git/src/safety/NullPointerException.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/hx4compat/std/sys/db/Mysql.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/hxnodejs/git/src/sys/io/FileInput.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/.haxelib/hxnodejs/git/src/sys/io/FileOutput.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/systems/DatabaseSystem.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/systems/MessageRouter.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/promises/src/thenshim/js/JSPromiseFactory.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/promises/src/thenshim/Promise.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/haxe_modules/promises/src/thenshim/Thenable.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/util/DiscordUtil.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/util/Duration.hx","file:///C:/Users/j/Documents/Projects/haxe/nodejs/Haxebot/src/util/Random.hx"],
"sourcesContent":["/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/**\r\n\tThe DateTools class contains some extra functionalities for handling `Date`\r\n\tinstances and timestamps.\r\n\r\n\tIn the context of Haxe dates, a timestamp is defined as the number of\r\n\tmilliseconds elapsed since 1st January 1970.\r\n**/\r\nclass DateTools {\r\n\t#if php\r\n\t#elseif (neko && !(macro || interp))\r\n\tstatic var date_format = neko.Lib.load(\"std\", \"date_format\", 2);\r\n\t#else\r\n\tstatic var DAY_SHORT_NAMES = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n\tstatic var DAY_NAMES = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n\tstatic var MONTH_SHORT_NAMES = [\r\n\t\t\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\r\n\t];\r\n\tstatic var MONTH_NAMES = [\r\n\t\t\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n\t];\r\n\r\n\tprivate static function __format_get(d:Date, e:String):String {\r\n\t\treturn switch (e) {\r\n\t\t\tcase \"%\":\r\n\t\t\t\t\"%\";\r\n\t\t\tcase \"a\":\r\n\t\t\t\tDAY_SHORT_NAMES[d.getDay()];\r\n\t\t\tcase \"A\":\r\n\t\t\t\tDAY_NAMES[d.getDay()];\r\n\t\t\tcase \"b\", \"h\":\r\n\t\t\t\tMONTH_SHORT_NAMES[d.getMonth()];\r\n\t\t\tcase \"B\":\r\n\t\t\t\tMONTH_NAMES[d.getMonth()];\r\n\t\t\tcase \"C\":\r\n\t\t\t\tStringTools.lpad(Std.string(Std.int(d.getFullYear() / 100)), \"0\", 2);\r\n\t\t\tcase \"d\":\r\n\t\t\t\tStringTools.lpad(Std.string(d.getDate()), \"0\", 2);\r\n\t\t\tcase \"D\":\r\n\t\t\t\t__format(d, \"%m/%d/%y\");\r\n\t\t\tcase \"e\":\r\n\t\t\t\tStd.string(d.getDate());\r\n\t\t\tcase \"F\":\r\n\t\t\t\t__format(d, \"%Y-%m-%d\");\r\n\t\t\tcase \"H\", \"k\":\r\n\t\t\t\tStringTools.lpad(Std.string(d.getHours()), if (e == \"H\") \"0\" else \" \", 2);\r\n\t\t\tcase \"I\", \"l\":\r\n\t\t\t\tvar hour = d.getHours() % 12;\r\n\t\t\t\tStringTools.lpad(Std.string(hour == 0 ? 12 : hour), if (e == \"I\") \"0\" else \" \", 2);\r\n\t\t\tcase \"m\":\r\n\t\t\t\tStringTools.lpad(Std.string(d.getMonth() + 1), \"0\", 2);\r\n\t\t\tcase \"M\":\r\n\t\t\t\tStringTools.lpad(Std.string(d.getMinutes()), \"0\", 2);\r\n\t\t\tcase \"n\":\r\n\t\t\t\t\"\\n\";\r\n\t\t\tcase \"p\":\r\n\t\t\t\tif (d.getHours() > 11) \"PM\"; else \"AM\";\r\n\t\t\tcase \"r\":\r\n\t\t\t\t__format(d, \"%I:%M:%S %p\");\r\n\t\t\tcase \"R\":\r\n\t\t\t\t__format(d, \"%H:%M\");\r\n\t\t\tcase \"s\":\r\n\t\t\t\tStd.string(Std.int(d.getTime() / 1000));\r\n\t\t\tcase \"S\":\r\n\t\t\t\tStringTools.lpad(Std.string(d.getSeconds()), \"0\", 2);\r\n\t\t\tcase \"t\":\r\n\t\t\t\t\"\\t\";\r\n\t\t\tcase \"T\":\r\n\t\t\t\t__format(d, \"%H:%M:%S\");\r\n\t\t\tcase \"u\":\r\n\t\t\t\tvar t = d.getDay();\r\n\t\t\t\tif (t == 0) \"7\" else Std.string(t);\r\n\t\t\tcase \"w\":\r\n\t\t\t\tStd.string(d.getDay());\r\n\t\t\tcase \"y\":\r\n\t\t\t\tStringTools.lpad(Std.string(d.getFullYear() % 100), \"0\", 2);\r\n\t\t\tcase \"Y\":\r\n\t\t\t\tStd.string(d.getFullYear());\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new haxe.exceptions.NotImplementedException(\"Date.format %\" + e + \"- not implemented yet.\");\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static function __format(d:Date, f:String):String {\r\n\t\tvar r = new StringBuf();\r\n\t\tvar p = 0;\r\n\t\twhile (true) {\r\n\t\t\tvar np = f.indexOf(\"%\", p);\r\n\t\t\tif (np < 0)\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tr.addSub(f, p, np - p);\r\n\t\t\tr.add(__format_get(d, f.substr(np + 1, 1)));\r\n\r\n\t\t\tp = np + 2;\r\n\t\t}\r\n\t\tr.addSub(f, p, f.length - p);\r\n\t\treturn r.toString();\r\n\t}\r\n\t#end\r\n\r\n\t/**\r\n\t\tFormat the date `d` according to the format `f`. The format is\r\n\t\tcompatible with the `strftime` standard format, except that there is no\r\n\t\tsupport in Flash and JS for day and months names (due to lack of proper\r\n\t\tinternationalization API). On Haxe/Neko/Windows, some formats are not\r\n\t\tsupported.\r\n\r\n\t\t```haxe\r\n\t\tvar t = DateTools.format(Date.now(), \"%Y-%m-%d_%H:%M:%S\");\r\n\t\t// 2016-07-08_14:44:05\r\n\r\n\t\tvar t = DateTools.format(Date.now(), \"%r\");\r\n\t\t// 02:44:05 PM\r\n\r\n\t\tvar t = DateTools.format(Date.now(), \"%T\");\r\n\t\t// 14:44:05\r\n\r\n\t\tvar t = DateTools.format(Date.now(), \"%F\");\r\n\t\t// 2016-07-08\r\n\t\t```\r\n\t**/\r\n\tpublic static function format(d:Date, f:String):String {\r\n\t\t#if (neko && !(macro || interp))\r\n\t\treturn new String(untyped date_format(d.__t, f.__s));\r\n\t\t#elseif php\r\n\t\treturn php.Global.strftime(f, php.Syntax.int(@:privateAccess d.__t));\r\n\t\t#else\r\n\t\treturn __format(d, f);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the result of adding timestamp `t` to Date `d`.\r\n\r\n\t\tThis is a convenience function for calling\r\n\t\t`Date.fromTime(d.getTime() + t)`.\r\n\t**/\r\n\tpublic static inline function delta(d:Date, t:Float):Date {\r\n\t\treturn Date.fromTime(d.getTime() + t);\r\n\t}\r\n\r\n\tstatic var DAYS_OF_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n\r\n\t/**\r\n\t\tReturns the number of days in the month of Date `d`.\r\n\r\n\t\tThis method handles leap years.\r\n\t**/\r\n\tpublic static function getMonthDays(d:Date):Int {\r\n\t\tvar month = d.getMonth();\r\n\t\tvar year = d.getFullYear();\r\n\r\n\t\tif (month != 1)\r\n\t\t\treturn DAYS_OF_MONTH[month];\r\n\r\n\t\tvar isB = ((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0);\r\n\t\treturn if (isB) 29 else 28;\r\n\t}\r\n\r\n\t/**\r\n\t\tConverts a number of seconds to a timestamp.\r\n\t**/\r\n\tpublic static inline function seconds(n:Float):Float {\r\n\t\treturn n * 1000.0;\r\n\t}\r\n\r\n\t/**\r\n\t\tConverts a number of minutes to a timestamp.\r\n\t**/\r\n\tpublic static inline function minutes(n:Float):Float {\r\n\t\treturn n * 60.0 * 1000.0;\r\n\t}\r\n\r\n\t/**\r\n\t\tConverts a number of hours to a timestamp.\r\n\t**/\r\n\tpublic static inline function hours(n:Float):Float {\r\n\t\treturn n * 60.0 * 60.0 * 1000.0;\r\n\t}\r\n\r\n\t/**\r\n\t\tConverts a number of days to a timestamp.\r\n\t**/\r\n\tpublic static inline function days(n:Float):Float {\r\n\t\treturn n * 24.0 * 60.0 * 60.0 * 1000.0;\r\n\t}\r\n\r\n\t/**\r\n\t\tSeparate a date-time into several components\r\n\t**/\r\n\tpublic static function parse(t:Float) {\r\n\t\tvar s = t / 1000;\r\n\t\tvar m = s / 60;\r\n\t\tvar h = m / 60;\r\n\t\treturn {\r\n\t\t\tms: t % 1000,\r\n\t\t\tseconds: Std.int(s % 60),\r\n\t\t\tminutes: Std.int(m % 60),\r\n\t\t\thours: Std.int(h % 24),\r\n\t\t\tdays: Std.int(h / 24),\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t\tBuild a date-time from several components\r\n\t**/\r\n\tpublic static function make(o:{\r\n\t\tms:Float,\r\n\t\tseconds:Int,\r\n\t\tminutes:Int,\r\n\t\thours:Int,\r\n\t\tdays:Int\r\n\t}) {\r\n\t\treturn o.ms + 1000.0 * (o.seconds + 60.0 * (o.minutes + 60.0 * (o.hours + 24.0 * o.days)));\r\n\t}\r\n\r\n\t#if (js || flash || php || cpp || python)\r\n\t/**\r\n\t\tRetrieve Unix timestamp value from Date components. Takes same argument sequence as the Date constructor.\r\n\t**/\r\n\tpublic static #if (js || flash || php) inline #end function makeUtc(year:Int, month:Int, day:Int, hour:Int, min:Int, sec:Int):Float {\r\n\t\t#if (js || flash || python)\r\n\t\treturn untyped Date.UTC(year, month, day, hour, min, sec);\r\n\t\t#elseif php\r\n\t\treturn php.Global.gmmktime(hour, min, sec, month + 1, day, year) * 1000;\r\n\t\t#elseif cpp\r\n\t\treturn untyped __global__.__hxcpp_utc_date(year, month, day, hour, min, sec) * 1000.0;\r\n\t\t#else\r\n\t\t// TODO\r\n\t\treturn 0.;\r\n\t\t#end\r\n\t}\r\n\t#end\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport js.Boot;\r\nimport js.Syntax;\r\n\r\n@:keepInit\r\n@:coreApi class Std {\r\n\t@:deprecated('Std.is is deprecated. Use Std.isOfType instead.')\r\n\tpublic static inline function is(v:Dynamic, t:Dynamic):Bool {\r\n\t\treturn isOfType(v, t);\r\n\t}\r\n\r\n\tpublic static inline function isOfType(v:Dynamic, t:Dynamic):Bool {\r\n\t\treturn @:privateAccess js.Boot.__instanceof(v, t);\r\n\t}\r\n\r\n\tpublic static inline function downcast<T:{}, S:T>(value:T, c:Class<S>):S @:privateAccess {\r\n\t\treturn if (js.Boot.__downcastCheck(value, c)) cast value else null;\r\n\t}\r\n\r\n\t@:deprecated('Std.instance() is deprecated. Use Std.downcast() instead.')\r\n\tpublic static inline function instance<T:{}, S:T>(value:T, c:Class<S>):S {\r\n\t\treturn downcast(value, c);\r\n\t}\r\n\r\n\t@:pure\r\n\tpublic static function string(s:Dynamic):String {\r\n\t\treturn @:privateAccess js.Boot.__string_rec(s, \"\");\r\n\t}\r\n\r\n\tpublic static inline function int(x:Float):Int {\r\n\t\treturn (cast x) | 0;\r\n\t}\r\n\r\n\t@:pure\r\n\tpublic static function parseInt(x:String):Null<Int> {\r\n\t\t#if (js_es >= 5)\r\n\t\tfinal v = js.Lib.parseInt(x);\r\n\t\t#else\r\n\t\t// before ES5, octal was supported in some implementations, so we need to explicitly use base 10 or 16\r\n\t\tif (x == null)\r\n\t\t\treturn null;\r\n\t\tvar v:Float = Math.NaN;\r\n\t\tfor (i => c in StringTools.keyValueIterator(x)) {\r\n\t\t\tif ((c <= 8 || c >= 14) && !(c == ' '.code || c == '-'.code || c == '+'.code)) {\r\n\t\t\t\tfinal nc = js.Syntax.code(\"{0}[{1}]\", x, i + 1);\r\n\t\t\t\tv = js.Lib.parseInt(x, c == '0'.code && (nc == \"x\" || nc == \"X\") ? 16 : 10);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t#end\r\n\t\tif (Math.isNaN(v))\r\n\t\t\treturn null;\r\n\t\treturn cast v;\r\n\t}\r\n\r\n\tpublic static inline function parseFloat(x:String):Float {\r\n\t\treturn js.Syntax.code(\"parseFloat({0})\", x);\r\n\t}\r\n\r\n\tpublic static function random(x:Int):Int {\r\n\t\treturn x <= 0 ? 0 : Math.floor(Math.random() * x);\r\n\t}\r\n\r\n\tstatic function __init__():Void untyped {\r\n\t\t__feature__(\"js.Boot.getClass\",\r\n\t\t\tObject.defineProperty(String.prototype, \"__class__\",\r\n\t\t\t\t{value: __feature__(\"Type.resolveClass\", $hxClasses[\"String\"] = String, String), enumerable: false, writable: true}));\r\n\t\t__feature__(\"js.Boot.isClass\", String.__name__ = \"String\");\r\n\t\t__feature__(\"Type.resolveClass\", $hxClasses[\"Array\"] = Array);\r\n\t\t__feature__(\"js.Boot.isClass\", Array.__name__ = \"Array\");\r\n\t\t__feature__(\"Date.*\", {\r\n\t\t\t__feature__(\"js.Boot.getClass\",\r\n\t\t\t\tjs.Syntax.code('Date')\r\n\t\t\t\t\t.prototype.__class__ = __feature__(\"Type.resolveClass\", $hxClasses[\"Date\"] = js.Syntax.code('Date'), js.Syntax.code('Date')));\r\n\t\t\t__feature__(\"js.Boot.isClass\", js.Syntax.code('Date').__name__ = \"Date\");\r\n\t\t});\r\n\t\t__feature__(\"Int.*\", js.Syntax.code('var Int = { };'));\r\n\t\t__feature__(\"Dynamic.*\", js.Syntax.code('var Dynamic = { };'));\r\n\t\t__feature__(\"Float.*\", js.Syntax.code('var Float = Number'));\r\n\t\t__feature__(\"Bool.*\", js.Syntax.code('var Bool = Boolean'));\r\n\t\t__feature__(\"Class.*\", js.Syntax.code('var Class = { };'));\r\n\t\t__feature__(\"Enum.*\", js.Syntax.code('var Enum = { };'));\r\n\t\t#if (js_es < 5)\r\n\t\t__feature__(\"Array.map\", if (Array.prototype.map == null) Array.prototype.map = function(f) {\r\n\t\t\tvar a = [];\r\n\t\t\tfor (i in 0...__this__.length)\r\n\t\t\t\ta[i] = f(__this__[i]);\r\n\t\t\treturn a;\r\n\t\t});\r\n\t\t__feature__(\"Array.filter\", if (Array.prototype.filter == null) Array.prototype.filter = function(f) {\r\n\t\t\tvar a = [];\r\n\t\t\tfor (i in 0...__this__.length) {\r\n\t\t\t\tvar e = __this__[i];\r\n\t\t\t\tif (f(e))\r\n\t\t\t\t\ta.push(e);\r\n\t\t\t}\r\n\t\t\treturn a;\r\n\t\t});\r\n\t\t#end\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/**\r\n\tA String buffer is an efficient way to build a big string by appending small\r\n\telements together.\r\n\r\n\tUnlike String, an instance of StringBuf is not immutable in the sense that\r\n\tit can be passed as argument to functions which modify it by appending more\r\n\tvalues.\r\n**/\r\nclass StringBuf {\r\n\tvar b:String;\r\n\r\n\t/**\r\n\t\tThe length of `this` StringBuf in characters.\r\n\t**/\r\n\tpublic var length(get, never):Int;\r\n\r\n\t/**\r\n\t\tCreates a new StringBuf instance.\r\n\r\n\t\tThis may involve initialization of the internal buffer.\r\n\t**/\r\n\tpublic inline function new() {\r\n\t\tb = \"\";\r\n\t}\r\n\r\n\tinline function get_length():Int {\r\n\t\treturn b.length;\r\n\t}\r\n\r\n\t/**\r\n\t\tAppends the representation of `x` to `this` StringBuf.\r\n\r\n\t\tThe exact representation of `x` may vary per platform. To get more\r\n\t\tconsistent behavior, this function should be called with\r\n\t\tStd.string(x).\r\n\r\n\t\tIf `x` is null, the String \"null\" is appended.\r\n\t**/\r\n\tpublic inline function add<T>(x:T):Void {\r\n\t\tb += x;\r\n\t}\r\n\r\n\t/**\r\n\t\tAppends the character identified by `c` to `this` StringBuf.\r\n\r\n\t\tIf `c` is negative or has another invalid value, the result is\r\n\t\tunspecified.\r\n\t**/\r\n\tpublic inline function addChar(c:Int):Void {\r\n\t\tb += String.fromCharCode(c);\r\n\t}\r\n\r\n\t/**\r\n\t\tAppends a substring of `s` to `this` StringBuf.\r\n\r\n\t\tThis function expects `pos` and `len` to describe a valid substring of\r\n\t\t`s`, or else the result is unspecified. To get more robust behavior,\r\n\t\t`this.add(s.substr(pos,len))` can be used instead.\r\n\r\n\t\tIf `s` or `pos` are null, the result is unspecified.\r\n\r\n\t\tIf `len` is omitted or null, the substring ranges from `pos` to the end\r\n\t\tof `s`.\r\n\t**/\r\n\tpublic inline function addSub(s:String, pos:Int, ?len:Int):Void {\r\n\t\tb += (len == null ? s.substr(pos) : s.substr(pos, len));\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the content of `this` StringBuf as String.\r\n\r\n\t\tThe buffer is not emptied by this operation.\r\n\t**/\r\n\tpublic inline function toString():String {\r\n\t\treturn b;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n@:coreApi extern class String {\r\n\tvar length(default, null):Int;\r\n\r\n\t@:pure function new(string:String):Void;\r\n\t@:pure function toUpperCase():String;\r\n\t@:pure function toLowerCase():String;\r\n\t@:pure function charAt(index:Int):String;\r\n\t@:pure function indexOf(str:String, ?startIndex:Int):Int;\r\n\t@:pure function lastIndexOf(str:String, ?startIndex:Int):Int;\r\n\t@:pure function split(delimiter:String):Array<String>;\r\n\t@:pure function toString():String;\r\n\t@:pure function substring(startIndex:Int, ?endIndex:Int):String;\r\n\r\n\t@:pure inline function charCodeAt(index:Int):Null<Int> {\r\n\t\treturn @:privateAccess HxOverrides.cca(this, index);\r\n\t}\r\n\r\n\t@:pure inline function substr(pos:Int, ?len:Int):String {\r\n\t\treturn @:privateAccess HxOverrides.substr(this, pos, len);\r\n\t}\r\n\r\n\t@:pure static inline function fromCharCode(code:Int):String {\r\n\t\treturn untyped __define_feature__('String.fromCharCode', js.Syntax.code(\"String.fromCodePoint({0})\", code));\r\n\t}\r\n\r\n\t#if (js_es <= 5)\r\n\tstatic function __init__():Void {\r\n\t\tuntyped __feature__('String.fromCharCode',\r\n\t\t\tjs.Syntax.code(\"if( String.fromCodePoint == null ) String.fromCodePoint = function(c) { return c < 0x10000 ? String.fromCharCode(c) : String.fromCharCode((c>>10)+0xD7C0)+String.fromCharCode((c&0x3FF)+0xDC00); }\"));\r\n\t}\r\n\t#end\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n@:coreApi extern class Date {\r\n\t@:pure function new(year:Int, month:Int, day:Int, hour:Int, min:Int, sec:Int):Void;\r\n\t@:pure function getTime():Float;\r\n\t@:pure function getHours():Int;\r\n\t@:pure function getMinutes():Int;\r\n\t@:pure function getSeconds():Int;\r\n\t@:pure function getFullYear():Int;\r\n\t@:pure function getMonth():Int;\r\n\t@:pure function getDate():Int;\r\n\t@:pure function getDay():Int;\r\n\r\n\t@:pure function getUTCHours():Int;\r\n\t@:pure function getUTCMinutes():Int;\r\n\t@:pure function getUTCSeconds():Int;\r\n\t@:pure function getUTCFullYear():Int;\r\n\t@:pure function getUTCMonth():Int;\r\n\t@:pure function getUTCDate():Int;\r\n\t@:pure function getUTCDay():Int;\r\n\t@:pure function getTimezoneOffset():Int;\r\n\r\n\t@:pure inline function toString():String {\r\n\t\treturn @:privateAccess HxOverrides.dateStr(this);\r\n\t}\r\n\r\n\t@:pure static inline function now():Date {\r\n\t\treturn js.Syntax.construct(Date);\r\n\t}\r\n\r\n\t@:pure static inline function fromTime(t:Float):Date {\r\n\t\treturn js.Syntax.construct(Date, t);\r\n\t}\r\n\r\n\t@:pure static inline function fromString(s:String):Date {\r\n\t\treturn @:privateAccess HxOverrides.strDate(s);\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n@:coreApi class EReg {\r\n\tvar r:HaxeRegExp;\r\n\r\n\tpublic inline function new(r:String, opt:String):Void {\r\n\t\tthis.r = new HaxeRegExp(r, opt.split(\"u\").join(\"\")); // 'u' (utf8) depends on page encoding\r\n\t}\r\n\r\n\tpublic function match(s:String):Bool {\r\n\t\tif (r.global)\r\n\t\t\tr.lastIndex = 0;\r\n\t\tr.m = r.exec(s);\r\n\t\tr.s = s;\r\n\t\treturn (r.m != null);\r\n\t}\r\n\r\n\tpublic function matched(n:Int):String {\r\n\t\treturn if (r.m != null && n >= 0 && n < r.m.length) r.m[n] else throw \"EReg::matched\";\r\n\t}\r\n\r\n\tpublic function matchedLeft():String {\r\n\t\tif (r.m == null)\r\n\t\t\tthrow \"No string matched\";\r\n\t\treturn r.s.substr(0, r.m.index);\r\n\t}\r\n\r\n\tpublic function matchedRight():String {\r\n\t\tif (r.m == null)\r\n\t\t\tthrow \"No string matched\";\r\n\t\tvar sz = r.m.index + r.m[0].length;\r\n\t\treturn r.s.substr(sz, r.s.length - sz);\r\n\t}\r\n\r\n\tpublic function matchedPos():{pos:Int, len:Int} {\r\n\t\tif (r.m == null)\r\n\t\t\tthrow \"No string matched\";\r\n\t\treturn {pos: r.m.index, len: r.m[0].length};\r\n\t}\r\n\r\n\tpublic function matchSub(s:String, pos:Int, len:Int = -1):Bool {\r\n\t\treturn if (r.global) {\r\n\t\t\tr.lastIndex = pos;\r\n\t\t\tr.m = r.exec(len < 0 ? s : s.substr(0, pos + len));\r\n\t\t\tvar b = r.m != null;\r\n\t\t\tif (b) {\r\n\t\t\t\tr.s = s;\r\n\t\t\t}\r\n\t\t\tb;\r\n\t\t} else {\r\n\t\t\t// TODO: check some ^/$ related corner cases\r\n\t\t\tvar b = match(len < 0 ? s.substr(pos) : s.substr(pos, len));\r\n\t\t\tif (b) {\r\n\t\t\t\tr.s = s;\r\n\t\t\t\tr.m.index += pos;\r\n\t\t\t}\r\n\t\t\tb;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic function split(s:String):Array<String> {\r\n\t\t// we can't use directly s.split because it's ignoring the 'g' flag\r\n\t\tvar d = \"#__delim__#\";\r\n\t\treturn replace(s, d).split(d);\r\n\t}\r\n\r\n\tpublic inline function replace(s:String, by:String):String {\r\n\t\treturn (cast s).replace(r, by);\r\n\t}\r\n\r\n\tpublic function map(s:String, f:EReg->String):String {\r\n\t\tvar offset = 0;\r\n\t\tvar buf = new StringBuf();\r\n\t\tdo {\r\n\t\t\tif (offset >= s.length)\r\n\t\t\t\tbreak;\r\n\t\t\telse if (!matchSub(s, offset)) {\r\n\t\t\t\tbuf.add(s.substr(offset));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tvar p = matchedPos();\r\n\t\t\tbuf.add(s.substr(offset, p.pos - offset));\r\n\t\t\tbuf.add(f(this));\r\n\t\t\tif (p.len == 0) {\r\n\t\t\t\tbuf.add(s.substr(p.pos, 1));\r\n\t\t\t\toffset = p.pos + 1;\r\n\t\t\t} else\r\n\t\t\t\toffset = p.pos + p.len;\r\n\t\t} while (r.global);\r\n\t\tif (!r.global && offset > 0 && offset < s.length)\r\n\t\t\tbuf.add(s.substr(offset));\r\n\t\treturn buf.toString();\r\n\t}\r\n\r\n\tpublic static inline function escape(s:String):String {\r\n\t\treturn (cast s).replace(escapeRe, \"\\\\$&\");\r\n\t}\r\n\r\n\tstatic var escapeRe = new js.lib.RegExp(\"[.*+?^${}()|[\\\\]\\\\\\\\]\", \"g\");\r\n}\r\n\r\n@:native(\"RegExp\")\r\nprivate extern class HaxeRegExp extends js.lib.RegExp {\r\n\tvar m:js.lib.RegExp.RegExpMatch;\r\n\tvar s:String;\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/**\r\n\tAn abstract type that represents any enum value.\r\n\tSee `Type` for the Haxe Reflection API.\r\n\r\n\t@see https://haxe.org/manual/types-enum-instance.html\r\n**/\r\n@:coreType abstract EnumValue {\r\n\t/**\r\n\t\tMatches enum instance `e` against pattern `pattern`, returning `true` if\r\n\t\tmatching succeeded and `false` otherwise.\r\n\r\n\t\tExample usage:\r\n\r\n\t\t```haxe\r\n\t\tif (e.match(pattern)) {\r\n\t\t\t// codeIfTrue\r\n\t\t} else {\r\n\t\t\t// codeIfFalse\r\n\t\t}\r\n\t\t```\r\n\r\n\t\tThis is equivalent to the following code:\r\n\r\n\t\t```haxe\r\n\t\tswitch (e) {\r\n\t\t\tcase pattern:\r\n\t\t\t\t// codeIfTrue\r\n\t\t\tcase _:\r\n\t\t\t\t// codeIfFalse\r\n\t\t}\r\n\t\t```\r\n\r\n\t\tThis method is implemented in the compiler. This definition exists only\r\n\t\tfor documentation.\r\n\t**/\r\n\tpublic function match(pattern:Dynamic):Bool {\r\n\t\treturn false;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n@:noDoc\r\nclass HxOverrides {\r\n\tstatic function dateStr(date:Date):String {\r\n\t\tvar m = date.getMonth() + 1;\r\n\t\tvar d = date.getDate();\r\n\t\tvar h = date.getHours();\r\n\t\tvar mi = date.getMinutes();\r\n\t\tvar s = date.getSeconds();\r\n\t\treturn date.getFullYear() + \"-\" + (if (m < 10) \"0\" + m else \"\" + m) + \"-\" + (if (d < 10) \"0\" + d else \"\" + d) + \" \"\r\n\t\t\t+ (if (h < 10) \"0\" + h else \"\" + h) + \":\" + (if (mi < 10) \"0\" + mi else \"\" + mi) + \":\" + (if (s < 10) \"0\" + s else \"\" + s);\r\n\t}\r\n\r\n\tstatic function strDate(s:String):Date {\r\n\t\tswitch (s.length) {\r\n\t\t\tcase 8: // hh:mm:ss\r\n\t\t\t\tvar k = s.split(\":\");\r\n\t\t\t\tvar d = js.Syntax.construct(Date);\r\n\t\t\t\t(cast d)[cast \"setTime\"](0);\r\n\t\t\t\t(cast d)[cast \"setUTCHours\"](k[0]);\r\n\t\t\t\t(cast d)[cast \"setUTCMinutes\"](k[1]);\r\n\t\t\t\t(cast d)[cast \"setUTCSeconds\"](k[2]);\r\n\t\t\t\treturn d;\r\n\t\t\tcase 10: // YYYY-MM-DD\r\n\t\t\t\tvar k = s.split(\"-\");\r\n\t\t\t\treturn new Date(cast k[0], (cast k[1]) - 1, cast k[2], 0, 0, 0);\r\n\t\t\tcase 19: // YYYY-MM-DD hh:mm:ss\r\n\t\t\t\tvar k = s.split(\" \");\r\n\t\t\t\tvar y = k[0].split(\"-\");\r\n\t\t\t\tvar t = k[1].split(\":\");\r\n\t\t\t\treturn new Date(cast y[0], (cast y[1]) - 1, cast y[2], cast t[0], cast t[1], cast t[2]);\r\n\t\t\tdefault:\r\n\t\t\t\tthrow \"Invalid date format : \" + s;\r\n\t\t}\r\n\t}\r\n\r\n\t@:pure\r\n\tstatic function cca(s:String, index:Int):Null<Int> {\r\n\t\tvar x = (cast s).charCodeAt(index);\r\n\t\tif (x != x) // fast isNaN\r\n\t\t\treturn js.Lib.undefined; // isNaN will still return true\r\n\t\treturn x;\r\n\t}\r\n\r\n\t@:pure\r\n\tstatic function substr(s:String, pos:Int, ?len:Int):String {\r\n\t\tif (len == null) {\r\n\t\t\tlen = s.length;\r\n\t\t} else if (len < 0) {\r\n\t\t\tif (pos == 0)\r\n\t\t\t\tlen = s.length + len;\r\n\t\t\telse\r\n\t\t\t\treturn \"\";\r\n\t\t}\r\n\r\n\t\t#if (js_es < 5)\r\n\t\tif (pos < 0) {\r\n\t\t\tpos = s.length + pos;\r\n\t\t\tif (pos < 0)\r\n\t\t\t\tpos = 0;\r\n\t\t}\r\n\t\t#end\r\n\r\n\t\treturn (cast s).substr(pos, len);\r\n\t}\r\n\r\n\t@:pure\r\n\tstatic function indexOf<T>(a:Array<T>, obj:T, i:Int) {\r\n\t\tvar len = a.length;\r\n\t\tif (i < 0) {\r\n\t\t\ti += len;\r\n\t\t\tif (i < 0)\r\n\t\t\t\ti = 0;\r\n\t\t}\r\n\t\twhile (i < len) {\r\n\t\t\tif (js.Syntax.strictEq(a[i], obj))\r\n\t\t\t\treturn i;\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\r\n\t@:pure\r\n\tstatic function lastIndexOf<T>(a:Array<T>, obj:T, i:Int) {\r\n\t\tvar len = a.length;\r\n\t\tif (i >= len)\r\n\t\t\ti = len - 1;\r\n\t\telse if (i < 0)\r\n\t\t\ti += len;\r\n\t\twhile (i >= 0) {\r\n\t\t\tif (js.Syntax.strictEq(a[i], obj))\r\n\t\t\t\treturn i;\r\n\t\t\ti--;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tstatic function remove<T>(a:Array<T>, obj:T) {\r\n\t\tvar i = a.indexOf(obj);\r\n\t\tif (i == -1)\r\n\t\t\treturn false;\r\n\t\ta.splice(i, 1);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@:pure\r\n\tstatic function iter<T>(a:Array<T>):Iterator<T>\r\n\t\tuntyped {\r\n\t\t\treturn {\r\n\t\t\t\tcur: 0,\r\n\t\t\t\tarr: a,\r\n\t\t\t\thasNext: function() {\r\n\t\t\t\t\treturn __this__.cur < __this__.arr.length;\r\n\t\t\t\t},\r\n\t\t\t\tnext: function() {\r\n\t\t\t\t\treturn __this__.arr[__this__.cur++];\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t@:ifFeature(\"anon_read.keyValueIterator\", \"dynamic_read.keyValueIterator\", \"closure_read.keyValueIterator\")\r\n\tstatic function keyValueIter<T>( a : Array<T> ) {\r\n\t\treturn new haxe.iterators.ArrayKeyValueIterator(a);\r\n\t}\r\n\r\n\t@:pure\r\n\tstatic function now(): Float return js.lib.Date.now();\r\n\r\n\tstatic function __init__()\r\n\t\tuntyped {\r\n\t\t\t#if (js_es < 5)\r\n\t\t\t__feature__('HxOverrides.indexOf',\r\n\t\t\t\tif (Array.prototype.indexOf) js.Syntax.code(\"HxOverrides\").indexOf = function(a, o, i) return Array.prototype.indexOf.call(a, o, i));\r\n\t\t\t__feature__('HxOverrides.lastIndexOf',\r\n\t\t\t\tif (Array.prototype.lastIndexOf) js.Syntax.code(\"HxOverrides\").lastIndexOf = function(a, o, i) return Array.prototype.lastIndexOf.call(a, o, i));\r\n\t\t\t#end\r\n\r\n\t\t\t__feature__('HxOverrides.now',\r\n\t\t\t\tif (js.Syntax.typeof(performance) != 'undefined' && js.Syntax.typeof(performance.now) == 'function') {\r\n\t\t\t\t\tHxOverrides.now = performance.now.bind(performance);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js;\r\n\r\n/**\r\n\tPlatform-specific JavaScript Library. Provides some platform-specific functions\r\n\tfor the JavaScript target.\r\n**/\r\nclass Lib {\r\n\t/**\r\n\t\tInserts a 'debugger' statement that will make a breakpoint if a debugger is available.\r\n\t**/\r\n\tpublic static inline function debug() {\r\n\t\tjs.Syntax.code(\"debugger\");\r\n\t}\r\n\r\n\t/**\r\n\t\tInserts an `import` expression that loads JavaScript object from\r\n\t\ta module or file specified in the `module` argument.\r\n\t**/\r\n\tpublic static inline function dynamicImport(module:String):js.lib.Promise<Dynamic> {\r\n\t\treturn js.Syntax.code(\"import({0})\", module);\r\n\t}\r\n\r\n\t/**\r\n\t\tDisplay an alert message box containing the given message.\r\n\t\t@deprecated Use Browser.alert() instead.\r\n\t**/\r\n\t@:deprecated(\"Lib.alert() is deprecated, use Browser.alert() instead\")\r\n\tpublic static function alert(v:Dynamic) {\r\n\t\tjs.Syntax.code(\"alert\")(@:privateAccess js.Boot.__string_rec(v, \"\"));\r\n\t}\r\n\r\n\tpublic static inline function eval(code:String):Dynamic {\r\n\t\treturn js.Syntax.code(\"eval\")(code);\r\n\t}\r\n\r\n\t/**\r\n\t\tInserts a `require` expression that loads JavaScript object from\r\n\t\ta module or file specified in the `module` argument.\r\n\r\n\t\tThis is only supported in environments where `require` function\r\n\t\tis available, such as Node.js or RequireJS.\r\n\t**/\r\n\textern public static inline function require(module:String):Dynamic {\r\n\t\treturn js.Syntax.code(\"require\")(module);\r\n\t}\r\n\r\n\t/**\r\n\t\tNative JavaScript `parseInt` function.\r\n\r\n\t\tIts specification is different from `Std.parseInt`, so one\r\n\t\tmight want to access the native one.\r\n\t**/\r\n\tpublic static var parseInt(get, never):(string:String, ?radix:Int) -> Float;\r\n\r\n\textern static inline function get_parseInt():(string:String, ?radix:Int) -> Float {\r\n\t\treturn js.Syntax.code(\"parseInt\");\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns JavaScript `undefined` value.\r\n\r\n\t\tNote that this is only needed in very rare cases when working with external JavaScript code.\r\n\r\n\t\tIn Haxe, `null` is used to represent the absence of a value.\r\n\t**/\r\n\tpublic static var undefined(get, never):Dynamic;\r\n\r\n\tstatic inline function get_undefined():Dynamic {\r\n\t\treturn js.Syntax.code(\"undefined\");\r\n\t}\r\n\r\n\t/**\r\n\t\t`nativeThis` is the JavaScript `this`, which is semantically different\r\n\t\tfrom the Haxe `this`. Use `nativeThis` only when working with external\r\n\t\tJavaScript code.\r\n\r\n\t\tIn Haxe, `this` is always bound to a class instance.\r\n\t\tIn JavaScript, `this` in a function can be bound to an arbitrary\r\n\t\tvariable when the function is called using `func.call(thisObj, ...)` or\r\n\t\t`func.apply(thisObj, [...])`.\r\n\r\n\t\tRead more at https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\r\n\t**/\r\n\tpublic static var nativeThis(get, never):Dynamic;\r\n\r\n\textern static inline function get_nativeThis():Dynamic {\r\n\t\treturn js.Syntax.code(\"this\");\r\n\t}\r\n\r\n\t/**\r\n\t\tCall JavaScript `typeof` operator on the `o` value\r\n\t\tand return a string representing the JavaScript type of a value.\r\n\r\n\t\tRead more at https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof\r\n\t**/\r\n\textern public static inline function typeof(o:Dynamic):String {\r\n\t\treturn js.Syntax.typeof(o);\r\n\t}\r\n\r\n\t/**\r\n\t\tAn alias of the JS \"global\" object.\r\n\r\n\t\tConcretely, it is set as the first defined value in the list of\r\n\t\t`window`, `global`, `self`, and `this` in the top-level of the compiled output.\r\n\t**/\r\n\tpublic static var global(get, never):Dynamic;\r\n\r\n\textern static inline function get_global():Dynamic {\r\n\t\treturn untyped __define_feature__(\"js.Lib.global\", js.Syntax.code(\"$global\")); // $global is generated by the compiler\r\n\t}\r\n\r\n\t/**\r\n\t\tRe-throw last caught exception, preserving original stack information.\r\n\r\n\t\tCalling this is only possible inside a catch statement.\r\n\t**/\r\n\t@:pure(false) public static function rethrow() {\r\n\t\t// function is implemented in the compiler\r\n\t}\r\n\r\n\t/**\r\n\t\tGet original caught exception object, before unwrapping the `js.Boot.HaxeError`.\r\n\r\n\t\tCan be useful if we want to redirect the original error into some external API (e.g. Promise or node.js callbacks).\r\n\r\n\t\tCalling this is only possible inside a catch statement.\r\n\t**/\r\n\tpublic static function getOriginalException():Dynamic {\r\n\t\treturn null; // function is implemented in the compiler\r\n\t}\r\n\r\n\t/**\r\n\t\tGenerate next unique id\r\n\t**/\r\n\t@:allow(haxe.ds.ObjectMap.assignId)\r\n\tstatic inline function getNextHaxeUID():Int {\r\n\t\treturn js.Syntax.code(\"{0}.$haxeUID++\", untyped __define_feature__(\"$global.$haxeUID\", global));\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/**\r\n\tIntIterator is used for implementing interval iterations.\r\n\r\n\tIt is usually not used explicitly, but through its special syntax:\r\n\t`min...max`\r\n\r\n\tWhile it is possible to assign an instance of IntIterator to a variable or\r\n\tfield, it is worth noting that IntIterator does not reset after being used\r\n\tin a for-loop. Subsequent uses of the same instance will then have no\r\n\teffect.\r\n\r\n\t@see https://haxe.org/manual/lf-iterators.html\r\n**/\r\nclass IntIterator {\r\n\tvar min:Int;\r\n\tvar max:Int;\r\n\r\n\t/**\r\n\t\tIterates from `min` (inclusive) to `max` (exclusive).\r\n\r\n\t\tIf `max <= min`, the iterator will not act as a countdown.\r\n\t**/\r\n\tpublic inline function new(min:Int, max:Int) {\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns true if the iterator has other items, false otherwise.\r\n\t**/\r\n\tpublic inline function hasNext() {\r\n\t\treturn min < max;\r\n\t}\r\n\r\n\t/**\r\n\t\tMoves to the next item of the iterator.\r\n\r\n\t\tIf this is called while hasNext() is false, the result is unspecified.\r\n\t**/\r\n\tpublic inline function next() {\r\n\t\treturn min++;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport haxe.ds.List;\r\n\r\n/**\r\n\tThe `Lambda` class is a collection of methods to support functional\r\n\tprogramming. It is ideally used with `using Lambda` and then acts as an\r\n\textension to Iterable types.\r\n\r\n\tOn static platforms, working with the Iterable structure might be slower\r\n\tthan performing the operations directly on known types, such as Array and\r\n\tList.\r\n\r\n\tIf the first argument to any of the methods is null, the result is\r\n\tunspecified.\r\n\r\n\t@see https://haxe.org/manual/std-Lambda.html\r\n**/\r\nclass Lambda {\r\n\t/**\r\n\t\tCreates an Array from Iterable `it`.\r\n\r\n\t\tIf `it` is an Array, this function returns a copy of it.\r\n\t**/\r\n\tpublic static function array<A>(it:Iterable<A>):Array<A> {\r\n\t\tvar a = new Array<A>();\r\n\t\tfor (i in it)\r\n\t\t\ta.push(i);\r\n\t\treturn a;\r\n\t}\r\n\r\n\t/**\r\n\t\tCreates a List form Iterable `it`.\r\n\r\n\t\tIf `it` is a List, this function returns a copy of it.\r\n\t**/\r\n\tpublic static function list<A>(it:Iterable<A>):List<A> {\r\n\t\tvar l = new List<A>();\r\n\t\tfor (i in it)\r\n\t\t\tl.add(i);\r\n\t\treturn l;\r\n\t}\r\n\r\n\t/**\r\n\t\tCreates a new Array by applying function `f` to all elements of `it`.\r\n\t\tThe order of elements is preserved.\r\n\t\tIf `f` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static inline function map<A, B>(it:Iterable<A>, f:(item:A) -> B):Array<B> {\r\n\t\treturn [for (x in it) f(x)];\r\n\t}\r\n\r\n\t/**\r\n\t\tSimilar to map, but also passes the index of each element to `f`.\r\n\t\tThe order of elements is preserved.\r\n\t\tIf `f` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static inline function mapi<A, B>(it:Iterable<A>, f:(index:Int, item:A) -> B):Array<B> {\r\n\t\tvar i = 0;\r\n\t\treturn [for (x in it) f(i++, x)];\r\n\t}\r\n\r\n\t/**\r\n\t\tConcatenate a list of iterables.\r\n\t\tThe order of elements is preserved.\r\n\t**/\r\n\tpublic static inline function flatten<A>(it:Iterable<Iterable<A>>):Array<A> {\r\n\t\treturn [for (e in it) for (x in e) x];\r\n\t}\r\n\r\n\t/**\r\n\t\tA composition of map and flatten.\r\n\t\tThe order of elements is preserved.\r\n\t\tIf `f` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static inline function flatMap<A, B>(it:Iterable<A>, f:(item:A) -> Iterable<B>):Array<B> {\r\n\t\treturn Lambda.flatten(Lambda.map(it, f));\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if `it` contains `elt`.\r\n\r\n\t\tThis function returns true as soon as an element is found which is equal\r\n\t\tto `elt` according to the `==` operator.\r\n\r\n\t\tIf no such element is found, the result is false.\r\n\t**/\r\n\tpublic static function has<A>(it:Iterable<A>, elt:A):Bool {\r\n\t\tfor (x in it)\r\n\t\t\tif (x == elt)\r\n\t\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if `it` contains an element for which `f` is true.\r\n\r\n\t\tThis function returns true as soon as an element is found for which a\r\n\t\tcall to `f` returns true.\r\n\r\n\t\tIf no such element is found, the result is false.\r\n\r\n\t\tIf `f` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static function exists<A>(it:Iterable<A>, f:(item:A) -> Bool) {\r\n\t\tfor (x in it)\r\n\t\t\tif (f(x))\r\n\t\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if `f` is true for all elements of `it`.\r\n\r\n\t\tThis function returns false as soon as an element is found for which a\r\n\t\tcall to `f` returns false.\r\n\r\n\t\tIf no such element is found, the result is true.\r\n\r\n\t\tIn particular, this function always returns true if `it` is empty.\r\n\r\n\t\tIf `f` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static function foreach<A>(it:Iterable<A>, f:(item:A) -> Bool) {\r\n\t\tfor (x in it)\r\n\t\t\tif (!f(x))\r\n\t\t\t\treturn false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t\tCalls `f` on all elements of `it`, in order.\r\n\r\n\t\tIf `f` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static function iter<A>(it:Iterable<A>, f:(item:A) -> Void) {\r\n\t\tfor (x in it)\r\n\t\t\tf(x);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a Array containing those elements of `it` for which `f` returned\r\n\t\ttrue.\r\n\t\tIf `it` is empty, the result is the empty Array even if `f` is null.\r\n\t\tOtherwise if `f` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static function filter<A>(it:Iterable<A>, f:(item:A) -> Bool) {\r\n\t\treturn [for (x in it) if (f(x)) x];\r\n\t}\r\n\r\n\t/**\r\n\t\tFunctional fold on Iterable `it`, using function `f` with start argument\r\n\t\t`first`.\r\n\r\n\t\tIf `it` has no elements, the result is `first`.\r\n\r\n\t\tOtherwise the first element of `it` is passed to `f` alongside `first`.\r\n\t\tThe result of that call is then passed to `f` with the next element of\r\n\t\t`it`, and so on until `it` has no more elements.\r\n\r\n\t\tIf `it` or `f` are null, the result is unspecified.\r\n\t**/\r\n\tpublic static function fold<A, B>(it:Iterable<A>, f:(item:A, result:B) -> B, first:B):B {\r\n\t\tfor (x in it)\r\n\t\t\tfirst = f(x, first);\r\n\t\treturn first;\r\n\t}\r\n\r\n\t/**\r\n\t\tSimilar to fold, but also passes the index of each element to `f`.\r\n\r\n\t\tIf `it` or `f` are null, the result is unspecified.\r\n\t**/\r\n\tpublic static function foldi<A, B>(it:Iterable<A>, f:(item:A, result:B, index:Int) -> B, first:B):B {\r\n\t\tvar i = 0;\r\n\t\tfor (x in it) {\r\n\t\t\tfirst = f(x, first, i);\r\n\t\t\t++i;\r\n\t\t}\r\n\t\treturn first;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the number of elements in `it` for which `pred` is true, or the\r\n\t\ttotal number of elements in `it` if `pred` is null.\r\n\r\n\t\tThis function traverses all elements.\r\n\t**/\r\n\tpublic static function count<A>(it:Iterable<A>, ?pred:(item:A) -> Bool) {\r\n\t\tvar n = 0;\r\n\t\tif (pred == null)\r\n\t\t\tfor (_ in it)\r\n\t\t\t\tn++;\r\n\t\telse\r\n\t\t\tfor (x in it)\r\n\t\t\t\tif (pred(x))\r\n\t\t\t\t\tn++;\r\n\t\treturn n;\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if Iterable `it` does not contain any element.\r\n\t**/\r\n\tpublic static function empty<T>(it:Iterable<T>):Bool {\r\n\t\treturn !it.iterator().hasNext();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the index of the first element `v` within Iterable `it`.\r\n\r\n\t\tThis function uses operator `==` to check for equality.\r\n\r\n\t\tIf `v` does not exist in `it`, the result is -1.\r\n\t**/\r\n\tpublic static function indexOf<T>(it:Iterable<T>, v:T):Int {\r\n\t\tvar i = 0;\r\n\t\tfor (v2 in it) {\r\n\t\t\tif (v == v2)\r\n\t\t\t\treturn i;\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the first element of `it` for which `f` is true.\r\n\r\n\t\tThis function returns as soon as an element is found for which a call to\r\n\t\t`f` returns true.\r\n\r\n\t\tIf no such element is found, the result is null.\r\n\r\n\t\tIf `f` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static function find<T>(it:Iterable<T>, f:(item:T) -> Bool):Null<T> {\r\n\t\tfor (v in it) {\r\n\t\t\tif (f(v))\r\n\t\t\t\treturn v;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the index of the first element of `it` for which `f` is true.\r\n\r\n\t\tThis function returns as soon as an element is found for which a call to\r\n\t\t`f` returns true.\r\n\r\n\t\tIf no such element is found, the result is -1.\r\n\r\n\t\tIf `f` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static function findIndex<T>(it:Iterable<T>, f:(item:T) -> Bool):Int {\r\n\t\tvar i = 0;\r\n\t\tfor (v in it) {\r\n\t\t\tif (f(v))\r\n\t\t\t\treturn i;\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a new Array containing all elements of Iterable `a` followed by\r\n\t\tall elements of Iterable `b`.\r\n\r\n\t\tIf `a` or `b` are null, the result is unspecified.\r\n\t**/\r\n\tpublic static function concat<T>(a:Iterable<T>, b:Iterable<T>):Array<T> {\r\n\t\tvar l = new Array();\r\n\t\tfor (x in a)\r\n\t\t\tl.push(x);\r\n\t\tfor (x in b)\r\n\t\t\tl.push(x);\r\n\t\treturn l;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.ds;\r\n\r\nimport haxe.ds.StringMap;\r\nimport haxe.ds.IntMap;\r\nimport haxe.ds.ObjectMap;\r\nimport haxe.ds.EnumValueMap;\r\nimport haxe.Constraints.IMap;\r\n\r\n/**\r\n\tMap allows key to value mapping for arbitrary value types, and many key\r\n\ttypes.\r\n\r\n\tThis is a multi-type abstract, it is instantiated as one of its\r\n\tspecialization types depending on its type parameters.\r\n\r\n\tA Map can be instantiated without explicit type parameters. Type inference\r\n\twill then determine the type parameters from the usage.\r\n\r\n\tMaps can also be created with `[key1 => value1, key2 => value2]` syntax.\r\n\r\n\tMap is an abstract type, it is not available at runtime.\r\n\r\n\t@see https://haxe.org/manual/std-Map.html\r\n**/\r\n@:transitive\r\n@:multiType(@:followWithAbstracts K)\r\nabstract Map<K, V>(IMap<K, V>) {\r\n\t/**\r\n\t\tCreates a new Map.\r\n\r\n\t\tThis becomes a constructor call to one of the specialization types in\r\n\t\tthe output. The rules for that are as follows:\r\n\r\n\t\t1. if `K` is a `String`, `haxe.ds.StringMap` is used\r\n\t\t2. if `K` is an `Int`, `haxe.ds.IntMap` is used\r\n\t\t3. if `K` is an `EnumValue`, `haxe.ds.EnumValueMap` is used\r\n\t\t4. if `K` is any other class or structure, `haxe.ds.ObjectMap` is used\r\n\t\t5. if `K` is any other type, it causes a compile-time error\r\n\r\n\t\t(Cpp) Map does not use weak keys on `ObjectMap` by default.\r\n\t**/\r\n\tpublic function new();\r\n\r\n\t/**\r\n\t\tMaps `key` to `value`.\r\n\r\n\t\tIf `key` already has a mapping, the previous value disappears.\r\n\r\n\t\tIf `key` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic inline function set(key:K, value:V)\r\n\t\tthis.set(key, value);\r\n\r\n\t/**\r\n\t\tReturns the current mapping of `key`.\r\n\r\n\t\tIf no such mapping exists, `null` is returned.\r\n\r\n\t\tNote that a check like `map.get(key) == null` can hold for two reasons:\r\n\r\n\t\t1. the map has no mapping for `key`\r\n\t\t2. the map has a mapping with a value of `null`\r\n\r\n\t\tIf it is important to distinguish these cases, `exists()` should be\r\n\t\tused.\r\n\r\n\t\tIf `key` is `null`, the result is unspecified.\r\n\t**/\r\n\t@:arrayAccess public inline function get(key:K)\r\n\t\treturn this.get(key);\r\n\r\n\t/**\r\n\t\tReturns true if `key` has a mapping, false otherwise.\r\n\r\n\t\tIf `key` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic inline function exists(key:K)\r\n\t\treturn this.exists(key);\r\n\r\n\t/**\r\n\t\tRemoves the mapping of `key` and returns true if such a mapping existed,\r\n\t\tfalse otherwise.\r\n\r\n\t\tIf `key` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic inline function remove(key:K)\r\n\t\treturn this.remove(key);\r\n\r\n\t/**\r\n\t\tReturns an Iterator over the keys of `this` Map.\r\n\r\n\t\tThe order of keys is undefined.\r\n\t**/\r\n\tpublic inline function keys():Iterator<K> {\r\n\t\treturn this.keys();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns an Iterator over the values of `this` Map.\r\n\r\n\t\tThe order of values is undefined.\r\n\t**/\r\n\tpublic inline function iterator():Iterator<V> {\r\n\t\treturn this.iterator();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns an Iterator over the keys and values of `this` Map.\r\n\r\n\t\tThe order of values is undefined.\r\n\t**/\r\n\tpublic inline function keyValueIterator():KeyValueIterator<K, V> {\r\n\t\treturn this.keyValueIterator();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a shallow copy of `this` map.\r\n\r\n\t\tThe order of values is undefined.\r\n\t**/\r\n\tpublic inline function copy():Map<K, V> {\r\n\t\treturn cast this.copy();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a String representation of `this` Map.\r\n\r\n\t\tThe exact representation depends on the platform and key-type.\r\n\t**/\r\n\tpublic inline function toString():String {\r\n\t\treturn this.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tRemoves all keys from `this` Map.\r\n\t**/\r\n\tpublic inline function clear():Void {\r\n\t\tthis.clear();\r\n\t}\r\n\r\n\t@:arrayAccess @:noCompletion public inline function arrayWrite(k:K, v:V):V {\r\n\t\tthis.set(k, v);\r\n\t\treturn v;\r\n\t}\r\n\r\n\t@:to static inline function toStringMap<K:String, V>(t:IMap<K, V>):StringMap<V> {\r\n\t\treturn new StringMap<V>();\r\n\t}\r\n\r\n\t@:to static inline function toIntMap<K:Int, V>(t:IMap<K, V>):IntMap<V> {\r\n\t\treturn new IntMap<V>();\r\n\t}\r\n\r\n\t@:to static inline function toEnumValueMapMap<K:EnumValue, V>(t:IMap<K, V>):EnumValueMap<K, V> {\r\n\t\treturn new EnumValueMap<K, V>();\r\n\t}\r\n\r\n\t@:to static inline function toObjectMap<K:{}, V>(t:IMap<K, V>):ObjectMap<K, V> {\r\n\t\treturn new ObjectMap<K, V>();\r\n\t}\r\n\r\n\t@:from static inline function fromStringMap<V>(map:StringMap<V>):Map<String, V> {\r\n\t\treturn cast map;\r\n\t}\r\n\r\n\t@:from static inline function fromIntMap<V>(map:IntMap<V>):Map<Int, V> {\r\n\t\treturn cast map;\r\n\t}\r\n\r\n\t@:from static inline function fromObjectMap<K:{}, V>(map:ObjectMap<K, V>):Map<K, V> {\r\n\t\treturn cast map;\r\n\t}\r\n}\r\n","import db.Record;\r\nimport database.DBEvents;\r\nimport discord_js.VoiceState;\r\nimport discord_js.VoiceChannel;\r\nimport discord_js.ThreadChannel;\r\nimport discord_builder.ContextMenuCommandBuilder;\r\nimport components.TextCommand;\r\nimport discord_builder.SlashCommandSubcommandBuilder;\r\nimport discord_js.GuildMember;\r\nimport discord_js.PermissionFlags;\r\nimport firebase.web.auth.Auth;\r\nimport haxe.Rest;\r\nimport discord_api_types.Routes;\r\nimport discord_js.rest.REST;\r\nimport discord_js.ApplicationCommandManager.ApplicationCommandData;\r\nimport discord_js.Snowflake;\r\nimport discord_js.ApplicationCommand;\r\nimport haxe.extern.EitherType;\r\nimport discord_js.User;\r\nimport discord_builder.SlashCommandMentionableOption;\r\nimport discord_builder.SlashCommandRoleOption;\r\nimport discord_builder.SlashCommandChannelOption;\r\nimport discord_builder.SlashCommandBooleanOption;\r\nimport discord_builder.SlashCommandUserOption;\r\nimport discord_js.TextChannel;\r\nimport discord_js.Message;\r\nimport discord_builder.SlashCommandNumberOption;\r\nimport discord_builder.SlashCommandStringOption;\r\nimport discord_builder.SharedSlashCommandOptions;\r\nimport components.Command;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport discord_builder.SlashCommandBuilder;\r\nimport discord_js.ClientOptions.IntentFlags;\r\nimport discord_js.Client;\r\nimport haxe.Json;\r\nimport sys.io.File;\r\nimport ecs.Universe;\r\nimport haxe.Timer;\r\nimport commands.*;\r\nimport commands.mod.*;\r\nimport firebase.web.app.FirebaseApp;\r\nimport js.lib.Promise;\r\nimport commands.AutoRole;\r\nimport commands.mod.Social;\r\nimport commands.events.PinMessageInfo;\r\nimport js.Browser;\r\nimport commands.types.ContextMenuTypes;\r\nimport commands.ThreadCount;\r\nimport discord_js.GuildScheduledEvent;\r\nimport commands.JamSuggestionBox;\r\nimport systems.MessageRouter;\r\nimport commands.Roundup;\r\nimport commands.Everyone;\r\nimport systems.DatabaseSystem;\r\nimport Query;\r\nimport commands.Run2;\r\n\r\nclass Main {\r\n\tpublic static var app:FirebaseApp;\r\n\tpublic static var logged_in:Bool = false;\r\n\tpublic static var auth:firebase.web.auth.User;\r\n\tpublic static var client:Client;\r\n\tpublic static var registered_commands:Map<String, ApplicationCommand> = [];\r\n\tpublic static var commands_active:Bool = false;\r\n\tpublic static var connected:Bool = false;\r\n\tpublic static var keys:TKeys;\r\n\tpublic static var state:TState;\r\n\tpublic static var command_file:Array<TCommands>;\r\n\tpublic static var universe:Universe;\r\n\tpublic static var dm_help_tracking:Map<String, Float> = [];\r\n\tprivate static var active_systems:Map<String, Bool> = [];\r\n\t#if block\r\n\tpublic static final guild_id:String = \"416069724158427137\";\r\n\t#else\r\n\tpublic static final guild_id:String = \"162395145352904705\";\r\n\t#end\r\n\r\n\tpublic static var discord(get, never):TDiscordConfig;\r\n\r\n\tstatic function get_discord() {\r\n\t\tvar config = null;\r\n\t\t#if block\r\n\t\tconfig = Main.keys.discord_test;\r\n\t\t#else\r\n\t\tconfig = Main.keys.discord_live;\r\n\t\t#end\r\n\t\treturn config;\r\n\t}\r\n\r\n\tpublic static function token(rest:REST):Promise<Dynamic> {\r\n\t\tvar commands = parseCommands();\r\n\t\tvar get = rest.put(\r\n\t\t\tRoutes.applicationGuildCommands(discord.client_id, Main.guild_id),\r\n\t\t\t{body: commands}\r\n\t\t);\r\n\t\treturn get;\r\n\t}\r\n\r\n\tpublic static function start() {\r\n\t\tuniverse = Universe.create({\r\n\t\t\tentities: 1000,\r\n\t\t\tphases: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'systems',\r\n\t\t\t\t\tenabled: true,\r\n\t\t\t\t\tsystems: [MessageRouter, DatabaseSystem]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'messages',\r\n\t\t\t\t\tenabled: #if block true #else true #end,\r\n\t\t\t\t\tsystems: [ThreadCount, ScamPrevention, JamSuggestionBox, Showcase, RateLimit]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'testing',\r\n\t\t\t\t\tenabled: #if block true #else false #end,\r\n\t\t\t\t\tsystems: [\r\n\t\t\t\t\t\tDeleteProject,\r\n\t\t\t\t\t\tEmoji,\r\n\t\t\t\t\t\tHaxelib,\r\n\t\t\t\t\t\tHi, Boop,\r\n\t\t\t\t\t\tRun2,\r\n\t\t\t\t\t\tEveryone,\r\n\t\t\t\t\t\tRoundup,\r\n\t\t\t\t\t\tRoundupRoundup,\r\n\t\t\t\t\t\tPinMessageInfo, Tracker, Quote, Snippet, Api, Notify, Code, CodeLineNumbers, React, Say, Poll],\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'main',\r\n\t\t\t\t\tenabled: #if block false #else true #end,\r\n\t\t\t\t\tsystems: [\r\n\t\t\t\t\t\tDeleteProject,\r\n\t\t\t\t\t\tHaxelib,\r\n\t\t\t\t\t\tEmoji,\r\n\t\t\t\t\t\tEveryone,\r\n\t\t\t\t\t\tTracker,\r\n\t\t\t\t\t\tPinMessageInfo,\r\n\t\t\t\t\t\t#if update\r\n\t\t\t\t\t\tHelppls Ban, Helpdescription,\r\n\t\t\t\t\t\t#end\r\n\t\t\t\t\t\tRoundupRoundup,\r\n\t\t\t\t\t\tAutoThread,\r\n\t\t\t\t\t\tSnippet,\r\n\t\t\t\t\t\tPinMessage,\r\n\t\t\t\t\t\tReminder,\r\n\t\t\t\t\t\tSocial,\r\n\t\t\t\t\t\tRun2,\r\n\t\t\t\t\t\tAutoRole,\r\n\t\t\t\t\t\tQuote,\r\n\t\t\t\t\t\tApi,\r\n\t\t\t\t\t\tReact,\r\n\t\t\t\t\t\tNotify,\r\n\t\t\t\t\t\tRtfm,\r\n\t\t\t\t\t\tPoll,\r\n\t\t\t\t\t\tBoop,\r\n\t\t\t\t\t\tArchive,\r\n\t\t\t\t\t\tHelp,\r\n\t\t\t\t\t\tTranslate,\r\n\t\t\t\t\t\tHi,\r\n\t\t\t\t\t\tRoundup,\r\n\t\t\t\t\t\tCodeLineNumbers,\r\n\t\t\t\t\t\tSay,\r\n\t\t\t\t\t\tColor\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t\tvar e = DBEvents.GetAllRecords('state', (response) -> {\r\n\t\t\t#if block\r\n\t\t\tstate = Json.parse(File.getContent('./config/state.json'));\r\n\t\t\treturn;\r\n\t\t\t#end\r\n\t\t\tswitch (response) {\r\n\t\t\t\tcase Records(data):\r\n\t\t\t\t\tstate = {\r\n\t\t\t\t\t\tnext_roundup: 0,\r\n\t\t\t\t\t\troundup_roundup: null,\r\n\t\t\t\t\t\tsnippet_tags: null\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (d in data) {\r\n\t\t\t\t\t\tvar value:Dynamic = d.field('value');\r\n\t\t\t\t\t\tswitch (d.field('key')) {\r\n\t\t\t\t\t\t\tcase 'next_roundup':\r\n\t\t\t\t\t\t\t\tstate.next_roundup = value;\r\n\t\t\t\t\t\t\tcase 'roundup_roundup':\r\n\t\t\t\t\t\t\t\tstate.roundup_roundup = value;\r\n\t\t\t\t\t\t\tcase 'snippet_tags':\r\n\t\t\t\t\t\t\t\tstate.snippet_tags = value;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\ttrace(d.field('key'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttrace(response);\r\n\t\t\t}\r\n\t\t});\r\n\t\tuniverse.setComponents(universe.createEntity(), e);\r\n\r\n\t\tclient = new Client({\r\n\t\t\tintents: [\r\n\t\t\t\tIntentFlags.GUILDS,\r\n\t\t\t\tIntentFlags.MESSAGE_CONTENT,\r\n\t\t\t\tIntentFlags.GUILD_MESSAGES,\r\n\t\t\t\tIntentFlags.GUILD_SCHEDULED_EVENTS,\r\n\t\t\t\tIntentFlags.DIRECT_MESSAGES,\r\n\t\t\t\tIntentFlags.GUILD_MEMBERS,\r\n\t\t\t\tIntentFlags.GUILD_MESSAGE_REACTIONS,\r\n\t\t\t\tIntentFlags.GUILD_VOICE_STATES,\r\n\t\t\t\tIntentFlags.DIRECT_MESSAGE_REACTIONS\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t\tclient.once('ready', (clients) -> {\r\n\t\t\ttrace('Ready!');\r\n\t\t\tMain.client = cast clients[0];\r\n\t\t\tconnected = true;\r\n\r\n\t\t\tvar rest = new REST({version: '9'}).setToken(discord.token);\r\n\t\t\tvar res = token(rest);\r\n\t\t\tres.then(function(foo:Array<RegisteredApplicationCommand>) {\r\n\t\t\t\tcommands_active = true;\r\n\t\t\t\tfor (item in foo) {\r\n\t\t\t\t\ttrace('DEBUG - ${item.name} is REGISTERED');\r\n\t\t\t\t}\r\n\t\t\t\t#if block\r\n\t\t\t\ttrace('DEBUG - TESTING ON DEVELOPER TOKEN NOT FOR LIVE');\r\n\t\t\t\t#end\r\n\t\t\t}, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tclient.on('guildMemberAdd', (member:GuildMember) -> {\r\n\t\t\ttrace('member ${member.user.tag}');\r\n\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.add_event_role, member);\r\n\t\t\t// universe.setComponents(universe.createEntity(), CommandForward.auto_thread, member);\r\n\t\t});\r\n\r\n\t\tclient.on('guildScheduledEventCreate', (event:GuildScheduledEvent) -> {\r\n\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.create_event, event);\r\n\t\t});\r\n\r\n\t\tclient.on('guildScheduledEventUpdate', (event:GuildScheduledEvent) -> {\r\n\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.scheduled_event_update, event);\r\n\t\t\t// universe.setComponents(universe.createEntity(), CommandForward.auto_thread, member);\r\n\t\t});\r\n\r\n\t\tclient.on('voiceStateUpdate', (old:VoiceState, updated:VoiceState) -> {\r\n\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.roundup_member_update, old, updated);\r\n\t\t\t//universe.setComponents(universe.createEntity(), CommandForward.add_event_role, member);\r\n\t\t\t// universe.setComponents(universe.createEntity(), CommandForward.auto_thread, member);\r\n\t\t});\r\n\r\n\t\tclient.on('messageCreate', (message:Message) -> {\r\n\t\t\tif (message.author.bot || message.system) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.new_message, message);\r\n\t\t});\r\n\r\n\t\tclient.on('ChatInputAutoCompleteEvent', (incoming) -> {\r\n\t\t\ttrace('disconnected');\r\n\t\t\ttrace(incoming);\r\n\t\t});\r\n\r\n\t\tclient.on('threadCreate', (thread:ThreadChannel) -> {\r\n\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.thread_pin_message,\r\n\t\t\t\tthread);\r\n\t\t});\r\n\r\n\t\tclient.on('interactionCreate', function(interaction:BaseCommandInteraction) {\r\n\t\t\tif (interaction.isButton()) {\r\n\t\t\t\tif (interaction.customId == 'showcase_agree') {\r\n\t\t\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.showcase_agree,\r\n\t\t\t\t\t\tinteraction);\r\n\t\t\t\t}\r\n\t\t\t\tif (interaction.customId == 'showcase_disagree') {\r\n\t\t\t\t\tuniverse.setComponents(universe.createEntity(),\r\n\t\t\t\t\t\tCommandForward.showcase_disagree, interaction);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (interaction.customId == 'snippet_left') {\r\n\t\t\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.snippet_left,\r\n\t\t\t\t\t\tinteraction);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (interaction.customId == 'snippet_right') {\r\n\t\t\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.snippet_right,\r\n\t\t\t\t\t\tinteraction);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (interaction.isModalSubmit()) {\r\n\t\t\t\t\r\n\t\t\t\tswitch ((interaction.customId:CommandForward)) {\r\n\t\t\t\t\tcase quote_edit:\r\n\t\t\t\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.quote_edit,\r\n\t\t\t\t\t\t\tinteraction);\r\n\t\t\t\t\tcase quote_set:\r\n\t\t\t\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.quote_set,\r\n\t\t\t\t\t\t\tinteraction);\r\n\t\t\t\t\tcase code_paste:\r\n\t\t\t\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.code_paste,\r\n\t\t\t\t\t\t\tinteraction);\r\n\t\t\t\t\tcase emoji_edit:\r\n\t\t\t\t\t\tuniverse.setComponents(universe.createEntity(), CommandForward.emoji_edit,\r\n\t\t\t\t\t\t\tinteraction);\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ttrace(interaction.customId);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (interaction.isMessageContextMenuCommand()) {\r\n\t\t\t\tvar type:ContextMenuTypes = switch(interaction.commandName) {\r\n\t\t\t\t\tcase 'Pin Message':\r\n\t\t\t\t\t\tPinMessage;\r\n\t\t\t\t\tcase 'Line Numbers': \r\n\t\t\t\t\t\tCodeLineNumbers;\r\n\t\t\t\t\tcase 'Delete Project': \r\n\t\t\t\t\t\tDeleteProject;\r\n\t\t\t\t\tdefault: \r\n\t\t\t\t\t\tnone;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (type != none) {\r\n\t\t\t\t\tuniverse.setComponents(universe.createEntity(), type, interaction);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttrace(interaction.isAutocomplete());\r\n\t\t\tif (!interaction.isCommand() && !interaction.isAutocomplete()\r\n\t\t\t\t&& !interaction.isChatInputCommand()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar command = createCommand(interaction);\r\n\t\t\tuniverse.setComponents(universe.createEntity(), command, interaction);\r\n\t\t});\r\n\r\n\t\tclient.login(discord.token);\r\n\t\tnew Timer(500).run = function() {\r\n\t\t\tif (!connected || !commands_active) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tuniverse.update(1);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static function supressEmbeds(message:Message) {\r\n\t\tvar content = message.content;\r\n\t\t\r\n\t}\r\n\r\n\tpublic static function createCommand(interaction:BaseCommandInteraction) {\r\n\t\tvar command:Command = {\r\n\t\t\tname: interaction.commandName,\r\n\t\t\tcontent: null\r\n\t\t}\r\n\r\n\t\tswitch (command.name) {\r\n\t\t\tcase 'helppls':\r\n\t\t\t\tvar time = Date.now().getTime();\r\n\t\t\t\tdm_help_tracking.set(interaction.user.id, time);\r\n\t\t\tdefault:\r\n\t\t}\r\n\r\n\t\tvar enum_id = command.name.charAt(0).toUpperCase() + command.name.substring(1);\r\n\r\n\t\tfor (value in command_file) {\r\n\t\t\tif (value.name != command.name) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (value.params == null) {\r\n\t\t\t\tvar id = '';\r\n\t\t\t\tif (value.type == menu) {\r\n\t\t\t\t\tid = value.id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tid = enum_id;\r\n\t\t\t\t}\r\n\t\t\t\tcommand.content = Type.createEnum(CommandOptions, id);\r\n\t\t\t} else {\r\n\t\t\t\tvar subcommand = null;\r\n\t\t\t\tvar params = new Array<Dynamic>();\r\n\t\t\t\tfor (param in value.params) {\r\n\t\t\t\t\tswitch (param.type) {\r\n\t\t\t\t\t\tcase user:\r\n\t\t\t\t\t\t\tparams.push(interaction.options.getUser(param.name));\r\n\t\t\t\t\t\tcase bool:\r\n\t\t\t\t\t\t\tparams.push(interaction.options.getBoolean(param.name));\r\n\t\t\t\t\t\tcase mention:\r\n\t\t\t\t\t\t\tparams.push(interaction.options.getMentionable(param.name));\r\n\t\t\t\t\t\tcase channel:\r\n\t\t\t\t\t\t\tparams.push(interaction.options.getChannel(param.name));\r\n\t\t\t\t\t\tcase role:\r\n\t\t\t\t\t\t\tparams.push(interaction.options.getRole(param.name));\r\n\t\t\t\t\t\tcase string:\r\n\t\t\t\t\t\t\tparams.push(interaction.options.getString(param.name));\r\n\t\t\t\t\t\tcase number:\r\n\t\t\t\t\t\t\tparams.push(interaction.options.getNumber(param.name));\r\n\t\t\t\t\t\tcase subcommand:\r\n\t\t\t\t\t\t\tvar type = interaction.options.getSubcommand();\r\n\t\t\t\t\t\t\tif (param.name != type) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsubcommand = type;\r\n\t\t\t\t\t\t\t// params.push(type);\r\n\t\t\t\t\t\t\tfor (subparam in param.params) {\r\n\t\t\t\t\t\t\t\tparseIncomingCommand(params, subparam, interaction);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tthrow 'Something went wrong.';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (subcommand != null) {\r\n\t\t\t\t\tenum_id += subcommand.charAt(0).toUpperCase() + subcommand.substring(1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcommand.content = Type.createEnum(CommandOptions, enum_id, params);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn command;\r\n\r\n\t\tif (command.content == null) {\r\n\t\t\ttrace(interaction);\r\n\t\t\ttrace(enum_id);\r\n\t\t\ttrace('Unmatched command. (${command.name})');\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tstatic function parseIncomingCommand(args:Array<Dynamic>, param:TCommands,\r\n\t\t\tinteraction:BaseCommandInteraction) {\r\n\t\tswitch (param.type) {\r\n\t\t\tcase user:\r\n\t\t\t\targs.push(interaction.options.getUser(param.name));\r\n\t\t\tcase bool:\r\n\t\t\t\targs.push(interaction.options.getBoolean(param.name));\r\n\t\t\tcase mention:\r\n\t\t\t\targs.push(interaction.options.getMentionable(param.name));\r\n\t\t\tcase channel:\r\n\t\t\t\targs.push(interaction.options.getChannel(param.name));\r\n\t\t\tcase role:\r\n\t\t\t\targs.push(interaction.options.getRole(param.name));\r\n\t\t\tcase string:\r\n\t\t\t\targs.push(interaction.options.getString(param.name));\r\n\t\t\tcase number:\r\n\t\t\t\targs.push(interaction.options.getNumber(param.name));\r\n\t\t\tdefault:\r\n\t\t\t\tthrow 'Something went wrong.';\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static function getCommand(name:String) {\r\n\t\tif (Main.registered_commands == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tfor (command in Main.registered_commands) {\r\n\t\t\tif (name == command.name) {\r\n\t\t\t\treturn command;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tstatic function saveCommand(command:ApplicationCommand) {\r\n\t\tMain.registered_commands.set(command.name, command);\r\n\t\ttrace('registered ${command.name}');\r\n\t}\r\n\r\n\tstatic function main() {\r\n\t\ttry {\r\n\t\t\tkeys = Json.parse(File.getContent('./config/keys.json'));\r\n\t\t\tcommand_file = Json.parse(File.getContent('./config/commands.json'));\r\n\t\t} catch (e ) {\r\n\t\t\ttrace(e.message);\r\n\t\t}\r\n\r\n\t\tif (keys == null || discord.token == null) {\r\n\t\t\tthrow('Enter your discord auth token.');\r\n\t\t}\r\n\r\n\t\tMain.app = FirebaseApp.initializeApp(keys.firebase);\r\n\t\tAuth.signInWithEmailAndPassword(Auth.getAuth(), keys.username, keys.password)\r\n\t\t\t.then(function(res) {\r\n\t\t\t\ttrace('logged in');\r\n\t\t\t\tvar doc = Firestore.doc(Firestore.getFirestore(app), 'discord/admin');\r\n\t\t\t\tFirestore.onSnapshot(doc, function(resp) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t#if !block\r\n\t\t\t\t\tadmin = resp.data();\r\n\t\t\t\t\t#end\r\n\t\t\t\t\tMain.auth = res.user;\r\n\t\t\t\t\tMain.logged_in = true;\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\tstart();\r\n\t}\r\n\r\n\tstatic public function updateState(field:String, value:Dynamic) {\r\n\t\tvar record = new Record();\r\n\t\trecord.field('key', field);\r\n\t\trecord.field('value', value);\r\n\t\t\r\n\t\tvar e = DBEvents.Update('state', record, Query.query($key = field), (response) -> {\r\n\t\t\tswitch(response) {\r\n\t\t\t\tcase Success(message, data):\r\n\t\t\t\t\ttrace('updated state');\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttrace(response);\r\n\t\t\t}\r\n\t\t});\r\n\t\tuniverse.setComponents(universe.createEntity(), e);\r\n\t\treturn;\r\n\t\t#if !block\r\n\t\tvar doc = Firestore.doc(Firestore.getFirestore(app), 'discord/admin');\r\n\t\tFirestore.updateDoc(doc, field, value).then(null, function(err) {\r\n\t\t\ttrace(err);\r\n\t\t\tBrowser.console.dir(err);\r\n\t\t});\r\n\t\t#else\r\n\t\t\tFile.saveContent('./config/state.json', Json.stringify(state));\r\n\t\t#end\r\n\t}\r\n\r\n\tstatic function parseCommands() {\r\n\t\tif (command_file == null || command_file.length == 0) {\r\n\t\t\tthrow 'No commands configured in the config.json file.';\r\n\t\t}\r\n\r\n\t\tvar commands = new Array<AnySlashCommand>();\r\n\t\tfor (command in command_file) {\r\n\t\t\t#if !block\r\n\t\t\tif (command.is_public != null && !command.is_public) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t#end\r\n\t\t\tvar permission = CommandPermission.fromString(command.permissions);\r\n\t\t\tif (permission == null) {\r\n\t\t\t\tpermission = everyone;\r\n\t\t\t}\r\n\r\n\t\t\tif (command.type == menu) {\r\n\t\t\t\tcommands.push(\r\n\t\t\t\t\tnew ContextMenuCommandBuilder().setName(command.name)\r\n\t\t\t\t\t\t.setType(command.menu_type)\r\n\t\t\t\t\t\t.setDefaultMemberPermissions(permission));\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar main_command = new SlashCommandBuilder().setName(command.name)\r\n\t\t\t\t.setDescription(command.description)\r\n\t\t\t\t.setDefaultMemberPermissions(permission);\r\n\r\n\t\t\tif (command.params != null) {\r\n\t\t\t\tfor (param in command.params) {\r\n\t\t\t\t\tvar autocomplete = false;\r\n\r\n\t\t\t\t\tswitch (param.type) {\r\n\t\t\t\t\t\tcase subcommand:\r\n\t\t\t\t\t\t\tvar subcommand = new SlashCommandSubcommandBuilder().setName(param.name)\r\n\t\t\t\t\t\t\t\t.setDescription(param.description);\r\n\t\t\t\t\t\t\tfor (subparam in param.params) {\r\n\t\t\t\t\t\t\t\tvar autocomplete = false;\r\n\t\t\t\t\t\t\t\tif (subparam.autocomplete != null) {\r\n\t\t\t\t\t\t\t\t\tautocomplete = subparam.autocomplete;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tparseCommandType(subparam, autocomplete, subcommand);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tmain_command.addSubcommand(subcommand);\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tif (param.autocomplete != null) {\r\n\t\t\t\t\t\t\t\tautocomplete = param.autocomplete;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tparseCommandType(param, autocomplete, cast main_command);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcommands.push(main_command);\r\n\t\t}\r\n\t\treturn commands;\r\n\t}\r\n\r\n\tstatic function parseCommandType(param:TCommands, autocomplete:Bool,\r\n\t\t\tbuilder:SharedSlashCommandOptions) {\r\n\t\tswitch (param.type) {\r\n\t\t\tcase user:\r\n\t\t\t\tbuilder.addUserOption(\r\n\t\t\t\t\tnew SlashCommandUserOption().setName(param.name)\r\n\t\t\t\t\t\t.setDescription(param.description)\r\n\t\t\t\t\t\t.setRequired(param.required));\r\n\t\t\tcase string:\r\n\t\t\t\tvar cmd = new SlashCommandStringOption().setName(param.name)\r\n\t\t\t\t\t.setRequired(param.required)\r\n\t\t\t\t\t.setAutocomplete(autocomplete);\r\n\t\t\t\tif (param.description != null) {\r\n\t\t\t\t\tcmd = cmd.setDescription(param.description);\r\n\t\t\t\t}\r\n\t\t\t\tif (param.choices != null && !autocomplete) {\r\n\t\t\t\t\tvar choices = [];\r\n\t\t\t\t\tfor (option in param.choices) {\r\n\t\t\t\t\t\tchoices.push({name: option.name, value: option.value});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcmd.addChoices(...Rest.of(choices));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbuilder.addStringOption(cmd);\r\n\t\t\tcase bool:\r\n\t\t\t\tbuilder.addBooleanOption(\r\n\t\t\t\t\tnew SlashCommandBooleanOption().setName(param.name)\r\n\t\t\t\t\t\t.setDescription(param.description)\r\n\t\t\t\t\t\t.setRequired(param.required));\r\n\t\t\tcase channel:\r\n\t\t\t\tbuilder.addChannelOption(\r\n\t\t\t\t\tnew SlashCommandChannelOption().setName(param.name)\r\n\t\t\t\t\t\t.setDescription(param.description)\r\n\t\t\t\t\t\t.setRequired(param.required));\r\n\t\t\tcase role:\r\n\t\t\t\tbuilder.addRoleOption(\r\n\t\t\t\t\tnew SlashCommandRoleOption().setName(param.name)\r\n\t\t\t\t\t\t.setDescription(param.description)\r\n\t\t\t\t\t\t.setRequired(param.required));\r\n\t\t\tcase mention:\r\n\t\t\t\tbuilder.addMentionableOption(\r\n\t\t\t\t\tnew SlashCommandMentionableOption().setName(param.name)\r\n\t\t\t\t\t\t.setDescription(param.description)\r\n\t\t\t\t\t\t.setRequired(param.required));\r\n\t\t\tcase number:\r\n\t\t\t\tbuilder.addNumberOption(\r\n\t\t\t\t\tnew SlashCommandNumberOption().setName(param.name)\r\n\t\t\t\t\t\t.setDescription(param.description)\r\n\t\t\t\t\t\t.setRequired(param.required));\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n}\r\n\r\nenum abstract CommandPermission(Int) to Int {\r\n\tvar admin = PermissionFlags.ADMINISTRATOR;\r\n\tvar supermod = PermissionFlags.BAN_MEMBERS;\r\n\tvar everyone = VIEW_CHANNEL | SEND_MESSAGES;\r\n\r\n\t@:from public static function fromString(value:String):CommandPermission {\r\n\t\treturn switch (value) {\r\n\t\t\tcase \"admin\": admin;\r\n\t\t\tcase \"supermod\": supermod;\r\n\t\t\tcase \"everyone\": everyone;\r\n\t\t\tdefault: everyone;\r\n\t\t}\r\n\t}\r\n}\r\n\r\ntypedef THelpPls = {\r\n\tvar user:User;\r\n\tvar content:String;\r\n\tvar message:Message;\r\n}\r\n\r\ntypedef TKeys = {\r\n\tvar username:String;\r\n\tvar password:String;\r\n\tvar firebase:FirebaseOptions;\r\n\tvar deepl_key:String;\r\n\tvar discord_live:TDiscordConfig;\r\n\tvar discord_test:TDiscordConfig;\r\n\tvar twitter_token:String;\r\n\tvar showcase_hook:String;\r\n\tvar showcase_hook_debug:String;\r\n\tvar suggestionbox_hook:String;\r\n\tvar twitch_client_id:String;\r\n\tvar twitch_secret:String;\r\n\tvar mysql:TMysqlConfig;\r\n\tvar haxeip:String;\r\n\tvar haxelib:String;\r\n}\r\n\r\ntypedef TMysqlConfig = {\r\n\tvar user:String;\r\n\tvar pass:String;\r\n\tvar host:String;\r\n\tvar database:String;\r\n}\r\n\r\ntypedef TDiscordConfig = {\r\n\tvar token:String;\r\n\tvar secret:String;\r\n\tvar server_id:String;\r\n\tvar client_id:String;\r\n}\r\n\r\ntypedef TState = {\r\n\t@:optional var macros:Bool;\r\n\t@:optional var twitter_since_id:String;\r\n\tvar snippet_tags:Array<String>;\r\n\tvar next_roundup:Int;\r\n\tvar roundup_roundup:TRoundup;\r\n}\r\n\r\ntypedef TRoundup = {\r\n\tvar event_id:String;\r\n\tvar event_ping:Int;\r\n\tvar host:String;\r\n\tvar announced:Bool;\r\n}\r\n\r\ntypedef Foo = ApplicationCommandData;\r\n\r\ntypedef TCommands = {\r\n\tvar type:CommandType;\r\n\tvar menu_type:ContextMenuCommandType;\r\n\tvar name:String;\r\n\tvar description:String;\r\n\tvar id:String;\r\n\t@:optional var is_public:Bool;\r\n\t@:optional var permissions:String;\r\n\t@:optional var params:Array<TCommands>;\r\n\t@:optional var required:Bool;\r\n\t@:optional var autocomplete:Bool;\r\n\t@:optional var choices:Array<{name:String, value:EitherType<Int, String>}>;\r\n}\r\n\r\ntypedef RegisteredApplicationCommand = {\r\n\tpublic var application_id:Snowflake;\r\n\tpublic var default_permission:Bool;\r\n\tpublic var default_member_permission:Dynamic;\r\n\tpublic var description:String;\r\n\tpublic var guild_id:Snowflake;\r\n\tpublic var id:Snowflake;\r\n\tpublic var name:String;\r\n\tpublic var options:Array<ApplicationCommandOption>;\r\n\tpublic var type:CommandType;\r\n}\r\n\r\nenum abstract CommandType(String) {\r\n\tvar subcommand;\r\n\tvar menu;\r\n\tvar string;\r\n\tvar number;\r\n\tvar user;\r\n\tvar channel;\r\n\tvar role;\r\n\tvar bool;\r\n\tvar mention;\r\n}\r\n\r\nenum abstract CommandForward(String) from String {\r\n\tvar new_message;\r\n\tvar suggestion_box;\r\n\tvar create_event;\r\n\tvar scheduled_event_update;\r\n\tvar keyword_tracker;\r\n\tvar roundup_member_update;\r\n\tvar snippet_left;\r\n\tvar snippet_right;\r\n\tvar thread_pin_message;\r\n\tvar helppls;\r\n\tvar message_context_menu;\r\n\tvar scam_prevention;\r\n\tvar react;\r\n\tvar showcase;\r\n\tvar showcase_agree;\r\n\tvar showcase_disagree;\r\n\tvar showcase_message;\r\n\tvar quote_set;\r\n\tvar quote_edit;\r\n\tvar code_paste;\r\n\tvar add_event_role;\r\n\tvar auto_thread;\r\n\tvar thread_count;\r\n\tvar rate_limit;\r\n\tvar emoji_edit;\r\n}\r\n","package ecs;\r\n\r\nimport haxe.Exception;\r\nimport haxe.ds.Vector;\r\nimport ecs.core.EntityManager;\r\nimport ecs.core.FamilyManager;\r\nimport ecs.core.ResourceManager;\r\nimport ecs.core.ComponentManager;\r\n\r\n#if macro\r\nimport ecs.ds.Set;\r\nimport ecs.ds.Result;\r\nimport ecs.macros.Utils;\r\nimport ecs.macros.UniverseMacros;\r\nimport ecs.macros.ComponentCache;\r\nimport ecs.macros.ResourceCache;\r\nimport ecs.macros.FamilyCache;\r\nimport haxe.macro.Type;\r\nimport haxe.macro.Expr;\r\nimport haxe.macro.Context;\r\n\r\nusing Safety;\r\nusing Lambda;\r\nusing EnumValue;\r\nusing haxe.macro.Tools;\r\n\r\nprivate class SystemSpec\r\n{\r\n    public final type : Type;\r\n\r\n    public final pos : Position;\r\n\r\n    public final enabled : Bool;\r\n\r\n    public function new(_type, _pos, _enabled)\r\n    {\r\n        type    = _type;\r\n        pos     = _pos;\r\n        enabled = _enabled;\r\n    }\r\n}\r\n\r\nprivate class PhaseSpec\r\n{\r\n    public final name : String;\r\n\r\n    public final enabled : Bool;\r\n\r\n    public final systems : Array<SystemSpec>;\r\n\r\n    public function new(_name, _enabled, _systems)\r\n    {\r\n        name    = _name;\r\n        enabled = _enabled;\r\n        systems = _systems;\r\n    }\r\n}\r\n\r\nprivate class UniverseSpec\r\n{\r\n    public final name : String;\r\n\r\n    public final entities : Int;\r\n\r\n    public final phases : Array<PhaseSpec>;\r\n\r\n    public function new(_name, _entities, _phases)\r\n    {\r\n        name     = _name;\r\n        entities = _entities;\r\n        phases   = _phases;\r\n    }\r\n}\r\n\r\nprivate function buildTypePath(_existing : String, _expr : Expr) : Result<String, String>\r\n{\r\n    return switch _expr.expr\r\n    {\r\n        case EConst(CIdent(s)):\r\n            Ok('$s.$_existing');\r\n        case EField(e, field):\r\n            buildTypePath('$field.$_existing', e);\r\n        case other:\r\n            Error('unsupported expression in type path : $other');\r\n    }\r\n}\r\n\r\n#end\r\n\r\nclass Universe\r\n{\r\n    @:ignoreInstrument public static macro function create(_spec : Expr)\r\n    {\r\n        final registerSystem = (e : Expr) -> {\r\n            return switch e.expr\r\n            {\r\n                case EConst(CIdent(i)):\r\n                    final t = try Context.getType(i) catch (exn) Context.error('Failed to get the type of \"$i\" : $exn', e.pos);\r\n\r\n                    return new SystemSpec(t, e.pos, true);\r\n                case EField(inner, field):\r\n                    switch buildTypePath(field, inner)\r\n                    {\r\n                        case Ok(path):\r\n                            final t = try Context.getType(path) catch (exn) Context.error('Failed to get the type of \"$path\" : $exn', e.pos);\r\n\r\n                            return new SystemSpec(t, e.pos, true);\r\n                        case Error(error):\r\n                            Context.error(error, e.pos);\r\n                    }\r\n                case other:\r\n                    Context.error('Expression is not a valid type path : $other', e.pos);\r\n            }\r\n        }\r\n\r\n        final extractPhase = (e : Expr) -> {\r\n            return switch e.expr\r\n            {\r\n                case EObjectDecl(fields):\r\n                    final name = switch fields.find(i -> i.field == 'name')\r\n                    {\r\n                        case null:\r\n                            Context.error('Phase does not contain a field called \"name\"', e.pos);\r\n                        case field:\r\n                            switch field.expr.expr\r\n                            {\r\n                                case EConst(CString(v)): v;\r\n                                case _: Context.error('field called \"name\" was not a string literal', field.expr.pos);\r\n                            }\r\n                    }\r\n                    final enabled = switch fields.find(i -> i.field == 'enabled')\r\n                    {\r\n                        case null:\r\n                            true;\r\n                        case field:\r\n                            switch field.expr.expr\r\n                            {\r\n                                case EConst(CIdent('true')): true;\r\n                                case EConst(CIdent('false')): false;\r\n                                case _: Context.error('field called \"enabled\" was not a boolean literal', field.expr.pos);\r\n                            }\r\n                    }\r\n                    final systems = switch fields.find(i -> i.field == 'systems')\r\n                    {\r\n                        case null:\r\n                            Context.error('Phase does not contain a field called \"systems\"', e.pos);\r\n                        case field:\r\n                            switch field.expr.expr\r\n                            {\r\n                                case EArrayDecl(values):\r\n                                    values.map(registerSystem);\r\n                                case _:\r\n                                    Context.error('field called \"systems\" was not an array declaration', field.expr.pos);\r\n                            }\r\n                    }\r\n\r\n                    new PhaseSpec(name, enabled, systems);\r\n                case _:\r\n                    Context.error('Phase definition must be an object declaration', e.pos);\r\n            }\r\n        }\r\n\r\n        final spec = switch _spec.expr\r\n        {\r\n            case EObjectDecl(fields):\r\n                final name = switch fields.find(i -> i.field == 'name')\r\n                {\r\n                    case null:\r\n                        'universe';\r\n                    case field:\r\n                        switch field.expr.expr\r\n                        {\r\n                            case EConst(CString(v)): v;\r\n                            case _: Context.error('field called \"name\" was not a string literal', field.expr.pos);\r\n                        }\r\n                }\r\n                final capacity = switch fields.find(i -> i.field == 'entities')\r\n                {\r\n                    case null:\r\n                        Context.error('Object has no field with the name \"entities\"', _spec.pos);\r\n                    case field:\r\n                        switch field.expr.expr\r\n                        {\r\n                            case EConst(CInt(v)): Std.parseInt(v);\r\n                            case _: Context.error('field called \"entities\" was not an integer literal', field.expr.pos);\r\n                        }\r\n                }\r\n                final phases = switch fields.find(i -> i.field == 'phases')\r\n                {\r\n                    case null:\r\n                        Context.error('Object has no field with the name \"phases\"', _spec.pos);\r\n                    case field:\r\n                        switch field.expr.expr\r\n                        {\r\n                            case EArrayDecl(values):\r\n                                values.map(extractPhase);\r\n                            case _: Context.error('field called \"phases\" was not an array declaratioon', field.expr.pos);\r\n                        }\r\n                }\r\n\r\n                new UniverseSpec(name, capacity, phases);\r\n            case _:\r\n                Context.error('Universe definition must be an object declaration', _spec.pos);\r\n        }\r\n\r\n        // Register a dependency to the calling module and the invalidation file\r\n        // This means the compiler will invalidate the module whenever the file changes\r\n\r\n        final module = Context.getLocalModule();\r\n\r\n        if (invalidationFile != null)\r\n        {\r\n#if (debug && !ecs.no_debug_output)\r\n            Sys.println('[ecs] Registered $module to have a dependency to the invalidation file');\r\n#end\r\n    \r\n            Context.registerModuleDependency(module, invalidationFile);\r\n        }\r\n\r\n        return macro {\r\n            // pre-allocate the phases and reserve a vector to contain all a phases systems.\r\n            // Do not allocate the phases right now, they need a reference to the universe so we defer that til afterwards.\r\n            final phases = {\r\n                final vec = new haxe.ds.Vector($v{ spec.phases.length });\r\n\r\n                $b{ [\r\n                    for (idx => phase in spec.phases)\r\n                    {\r\n                        macro vec.set(\r\n                            $v{ idx },\r\n                            new ecs.Phase(\r\n                                $v{ phase.enabled },\r\n                                $v{ phase.name },\r\n                                new haxe.ds.Vector($v{ phase.systems.length }),\r\n                                new haxe.ds.Vector($v{ phase.systems.length }))\r\n                        );\r\n                    }\r\n                ] }\r\n\r\n                vec;\r\n            }\r\n\r\n            final entities = new ecs.core.EntityManager($v{ spec.entities });\r\n            final components = {\r\n                final vec = new haxe.ds.Vector<Any>($v{ getComponentCount() });\r\n    \r\n                $b{\r\n                    [\r\n                        for (_ => value in getComponentMap())\r\n                        {\r\n                            final ct = value.type.toComplexType();\r\n            \r\n                            macro vec.set($v{ value.id }, new ecs.Components<$ct>($v{ getComponentCount() }));\r\n                        }\r\n                    ]\r\n                }\r\n\r\n                new ecs.core.ComponentManager(entities, vec);\r\n            }\r\n            final resources = new ecs.core.ResourceManager(new bits.Bits($v{ getResourceCount() }), new haxe.ds.Vector($v{ getResourceCount() }));\r\n            final families = {\r\n                final vec = new haxe.ds.Vector($v{ getFamilyCount() });\r\n\r\n                $b{ [\r\n                    for (idx => family in getFamilies())\r\n                    {\r\n                        macro {\r\n                            final cmpBits = new bits.Bits($v{ getComponentCount() });\r\n    \r\n                            $b{ [\r\n                                for (field in family.components)\r\n                                {\r\n                                    macro cmpBits.set($v{ field.uID });\r\n                                }\r\n                            ] }\r\n    \r\n                            final resBits = new bits.Bits($v{ getResourceCount() });\r\n    \r\n                            $b{ [\r\n                                for (field in family.resources)\r\n                                {\r\n                                    macro resBits.set($v{ field.uID });\r\n                                }\r\n                            ] }\r\n    \r\n                            vec.set($v{ idx }, new ecs.Family($v{ idx }, cmpBits, resBits, $v{ spec.entities }));\r\n                        }\r\n                    }\r\n                ] }\r\n\r\n                new ecs.core.FamilyManager(components, resources, vec);\r\n            }\r\n\r\n            final u = new ecs.Universe(entities, components, resources, families, phases);\r\n\r\n            // Second iteration over phases, now we allocate all our systems.\r\n            $b{ [\r\n                for (i => phase in spec.phases)\r\n                {\r\n                    macro {\r\n                        final phase = phases.get($v{ i });\r\n\r\n                        $b{ [\r\n                            for (j => system in phase.systems)\r\n                            {\r\n                                final tp = switch system.type\r\n                                {\r\n                                    case TInst(_.get() => cType, params):\r\n                                        @:privateAccess haxe.macro.TypeTools.toTypePath(cType, params);\r\n                                    case other:\r\n                                        // TODO : Keep the pos of the type so we can report the error at the right location.\r\n                                        Context.error('Expected system to be an instance : $other', system.pos);\r\n                                }\r\n\r\n                                macro {\r\n                                    final s = new $tp(u);\r\n\r\n                                    @:privateAccess phase.systems.set($v{ j }, s);\r\n                                    @:privateAccess phase.enabledSystems.set($v{ j }, $v{ system.enabled });\r\n\r\n                                    $e{ if (phase.enabled && system.enabled) macro s.onEnabled(); else macro null }\r\n                                };\r\n                            }\r\n                        ] }\r\n                    }\r\n                }\r\n            ] }\r\n\r\n            for (idx in 0...u.families.number)\r\n            {\r\n                u.families.tryActivate(idx);\r\n            }\r\n\r\n            u;\r\n        }\r\n    }\r\n\r\n    public final entities : EntityManager;\r\n    public final components : ComponentManager;\r\n    public final resources : ResourceManager;\r\n    public final families : FamilyManager;\r\n    public final phases : Vector<Phase>;\r\n\r\n    public function new(_entities, _components, _resources, _families, _phases)\r\n    {\r\n        entities   = _entities;\r\n        components = _components;\r\n        resources  = _resources;\r\n        families   = _families;\r\n        phases     = _phases;\r\n    }\r\n\r\n    public function update(_dt : Float)\r\n    {\r\n        for (phase in phases)\r\n        {\r\n            phase.update(_dt);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates a new entity within this universe.\r\n     * If the maximum number of entities has been reached an exception is thrown.\r\n     */\r\n    public function createEntity()\r\n    {\r\n\t\t\t\r\n        return entities.create();\r\n    }\r\n\r\n    /**\r\n     * Destroy an entity and all its attached components from this universe.\r\n     * If the universe does not contain the entity then no operation is performed.\r\n     * @param _entity Entity to delete.\r\n     */\r\n    public function deleteEntity(_entity)\r\n    {\r\n        families.whenEntityDestroyed(_entity);\r\n        components.clear(_entity);\r\n        entities.destroy(_entity.id());\r\n    }\r\n\r\n    public function getPhase(_name)\r\n    {\r\n        for (phase in phases)\r\n        {\r\n            if (phase.name == _name)\r\n            {\r\n                return phase;\r\n            }\r\n        }\r\n\r\n        throw new Exception('Unable to find a phase with the name $_name');\r\n    }\r\n\r\n    /**\r\n     * Sets any number of components on an entity in a specific universe.\r\n     * The final argument is a rest argument meaning it can take in any number of arguments.\r\n     * \r\n     * Example usage for `using ecs.macros.UniverseMacros;`\r\n     * \r\n     * ```\r\n     * unverse.setComponents(myEntity,\r\n     *     new Position(32, 32),\r\n     *     new Velocity(),\r\n     *     new Sprite('assets/player.png'));\r\n     * ```\r\n     * \r\n     * Along with the usual variable, function, and constructor expressions if the component has a constructor\r\n     * with no arguments then simply passing in the type will construct a new component for it.\r\n     * \r\n     * ```\r\n     * universe.setComponents(myEntity,\r\n     *     new Position(32, 32),\r\n     *     Velocity,\r\n     *     new Sprite('assets/player.png));\r\n     * ```\r\n     * \r\n     * It is also possible to use basic types for components.\r\n     * \r\n     * ```\r\n     * universe.setComponents(myEntity, 7, 4.2, true, 'hello world');\r\n     * ```\r\n     * \r\n     * Attempting to add a component which is not used in any families will result in a compiler warning and that\r\n     * expression will not be typed (no functions or property getters would be called if used).\r\n     * Setting a component onto an entity which already has a component of that type will replace it.\r\n     * \r\n     * @param _entity Entity to add components to.\r\n     * @param _components Components to add.\r\n     */\r\n    @:ignoreInstrument public macro function setComponents(self : Expr, _entity : Expr, _components : Array<Expr>)\r\n    {\r\n        final exprs  = [ macro final _ecsTmpEntity = $e{ _entity } ];\r\n        final added  = new Set();\r\n        final insert = (id, compExpr) -> {\r\n            exprs.push(macro $e{ self }.components.set(_ecsTmpEntity, $v{ id }, $e{ compExpr }));\r\n    \r\n            for (familyID in ecs.macros.FamilyCache.getFamilyIDsWithComponent(id))\r\n            {\r\n                added.add(familyID);\r\n            }\r\n        }\r\n    \r\n        for (component in _components)\r\n        {\r\n            switch component.expr\r\n            {\r\n                case EConst(CIdent(s)):\r\n                    switch isLocalIdent(s, Context.getLocalType().getClass(), Context.getLocalTVars())\r\n                    {\r\n                        case Some(type):\r\n                            switch getComponentID(signature(type))\r\n                            {\r\n                                case Some(id): insert(id, component);\r\n                                case None: Context.warning('Local ident $s : $type is not used in any families', component.pos);\r\n                            }\r\n                        case None:\r\n                            final resolved  = try Context.getType(s) catch (_) Context.error('Unable to get type of component expression ${ component.toString() }', component.pos);\r\n                            final signature = signature(resolved);\r\n    \r\n                            switch getComponentID(signature)\r\n                            {\r\n                                case Some(id):\r\n                                    switch resolved.toComplexType()\r\n                                    {\r\n                                        case TPath(tp): insert(id, macro new $tp());\r\n                                        case other: Context.error('Component ${ other.toString() } should be TPath', component.pos);\r\n                                    }\r\n                                case None: Context.warning('Component $resolved is not used in any families', component.pos);\r\n                            }\r\n                    }\r\n                // We need to handle ENew separately as Context.typeof won't give typedef as a type.\r\n                case ENew(tp, _):\r\n                    final resolved = {\r\n                        try\r\n                        {\r\n                            final t = Context.getType(printTypePath(tp));\r\n\r\n                            switch t\r\n                            {\r\n                                case TType(_, _):\r\n                                    t;\r\n                                case _:\r\n                                    throw new Exception('Not a typedef');\r\n                            }\r\n                        }\r\n                        catch (exn)\r\n                        {\r\n                            try Context.typeof(component) catch (exn) Context.error('unable to get type ${ component.toString() } : $exn', component.pos);\r\n                        }\r\n                    }\r\n                    final signature = signature(resolved);\r\n\r\n                    switch getComponentID(signature)\r\n                    {\r\n                        case Some(id): insert(id, component);\r\n                        case None: Context.warning('Component ${ resolved } is not used in any families', component.pos);\r\n                    }\r\n                case _:\r\n                    final resolved  = try Context.typeof(component) catch (e) Context.error('Unable to get the type of ${ component.toString() } : $e', component.pos);\r\n                    final signature = signature(resolved);\r\n\r\n                    switch getComponentID(signature)\r\n                    {\r\n                        case Some(id): insert(id, component);\r\n                        case None: Context.warning('Component ${ resolved } is not used in any families', component.pos);\r\n                    }\r\n            }\r\n        }\r\n    \r\n        // After all `set` functions are called check each family which could have been modified by the components added.\r\n        exprs.push(macro final ecsEntCompFlags = $e{ self }.components.flags[_ecsTmpEntity.id()]);\r\n\r\n        // With static loaded the `added` set contains all families which could have been effected by the components added.\r\n        // So we only need to check those ones.\r\n        for (familyID in added)\r\n        {\r\n            exprs.push(macro final ecsTmpFamily = $e{ self }.families.get($v{ familyID }));\r\n            exprs.push(macro if (ecsEntCompFlags.areSet(ecsTmpFamily.componentsMask)) {\r\n                ecsTmpFamily.add(_ecsTmpEntity);\r\n            });\r\n        }\r\n    \r\n        return macro $b{ exprs };\r\n    }\r\n\r\n    /**\r\n     * Removes any number of components from an entity in a given universe.\r\n     * The final argument is a rest argument meaning it can take in any number of arguments.\r\n     * \r\n     * Example usage for `using ecs.macros.UniverseMacros;`\r\n     * \r\n     * ```\r\n     * universe.removeComponents(myEntity, Position, Velocity, Sprite);\r\n     * ```\r\n     * \r\n     * Attempting to remove a component which is not used in any families will result in a compiler warning\r\n     * and that expression will be skipped.\r\n     * @param _universe Universe which contains the entity.\r\n     * @param _entity Entity to remove components from.\r\n     * @param _components Components to remove.\r\n     */\r\n    @:ignoreInstrument public macro function removeComponents(_universe : ExprOf<Universe>, _entity : Expr, _components : Array<Expr>)\r\n    {\r\n        final exprs  = [ macro final _ecsTmpEntity = $e{ _entity } ];\r\n        final added  = new Set();\r\n        final insert = id -> {\r\n            exprs.push(macro $e{ _universe }.components.remove(_ecsTmpEntity, $v{ id }));\r\n\r\n            for (familyID in getFamilyIDsWithComponent(id))\r\n            {\r\n                added.add(familyID);\r\n            }\r\n        };\r\n    \r\n        for (component in _components)\r\n        {\r\n            switch component.expr\r\n            {\r\n                case EConst(CIdent(s)):\r\n                    switch isLocalIdent(s, Context.getLocalType().getClass(), Context.getLocalTVars())\r\n                    {\r\n                        case Some(type):\r\n                            switch getComponentID(signature(type))\r\n                            {\r\n                                case Some(id): insert(id);\r\n                                case None: Context.warning('Component ${ type } is not used in any families', component.pos);\r\n                            }\r\n                        case None:\r\n                            final resolved  = try Context.getType(s) catch (_) Context.error('Unable to get type of component expression ${ component.toString() }', component.pos);\r\n                            final signature = signature(resolved);\r\n    \r\n                            switch getComponentID(signature)\r\n                            {\r\n                                case Some(id): insert(id);\r\n                                case None: Context.warning('Component ${ resolved } is not used in any families', component.pos);\r\n                            }\r\n                    }\r\n                case _: Context.error('Unsupported component expression ${ component.toString() }', component.pos);\r\n            }\r\n        }\r\n    \r\n        // After all `remove` functions are called check each family which could have been modified by the components removed.\r\n        exprs.push(macro final ecsEntCompFlags = $e{ _universe }.components.flags[_ecsTmpEntity.id()]);\r\n\r\n        // With static loaded the `added` set contains all families which could have been effected by the components added.\r\n        // So we only need to check those ones.\r\n        for (familyID in added)\r\n        {\r\n            exprs.push(macro final ecsTmpFamily = $e{ _universe }.families.get($v{ familyID }));\r\n            exprs.push(macro if (!ecsEntCompFlags.areSet(ecsTmpFamily.componentsMask)) {\r\n                ecsTmpFamily.remove(_ecsTmpEntity);\r\n            });\r\n        }\r\n    \r\n        return macro $b{ exprs };\r\n    }\r\n\r\n    /**\r\n     * Add any number of resources to a given universe.\r\n     * The final argument is a rest argument meaning it can take in any number of arguments.\r\n     * \r\n     * Example usage for `using ecs.macros.UniverseMacros;`\r\n     * \r\n     * ```\r\n     * unverse.setResource(\r\n     *     new LevelData('assets/level1.json'),\r\n     *     new SpriteBatcher());\r\n     * ```\r\n     * \r\n     * Along with the usual variable, function, and constructor expressions if the resource has a constructor\r\n     * with no arguments then simply passing in the type will construct it.\r\n     * \r\n     * ```\r\n     * universe.setResources(\r\n     *     new LevelData('assets/level1.json'),\r\n     *     SpriteBatcher);\r\n     * ```\r\n     * \r\n     * It is also possible to use basic types for resources.\r\n     * \r\n     * ```\r\n     * universe.setResources(7, 4.2, true, 'hello world');\r\n     * ```\r\n     * \r\n     * Attempting to add a resource which is not used in any families will result in a compiler warning and that\r\n     * expression will not be typed (no functions or property getters would be called if used).\r\n     * Setting a resource which has already been set will replace.\r\n     * @param _universe Universe to add resources to.\r\n     * @param _resources Resources to add.\r\n     */\r\n    @:ignoreInstrument public macro function setResources(_universe : ExprOf<Universe>, _resources : Array<Expr>)\r\n    {\r\n        final exprs  = [];\r\n        final added  = new Set();\r\n        final insert = (id, resExpr) -> {\r\n            exprs.push(macro $e{ _universe }.resources.insert($v{ id }, $e{ resExpr }));\r\n    \r\n            for (familyID in getFamilyIDsWithResource(id))\r\n            {\r\n                added.add(familyID);\r\n            }\r\n        };\r\n    \r\n        for (resource in _resources)\r\n        {\r\n            switch resource.expr\r\n            {\r\n                case EConst(CIdent(s)):\r\n                    switch isLocalIdent(s, Context.getLocalType().getClass(), Context.getLocalTVars())\r\n                    {\r\n                        case Some(type):\r\n                            insert(registerResource(signature(type)), resource);\r\n                        case None:\r\n                            final resolved  = try Context.getType(s) catch (_) Context.error('Unable to get type of resource expression ${ resource.toString() }', resource.pos);\r\n                            final signature = signature(resolved);\r\n                            final id        = registerResource(signature);\r\n    \r\n                            switch resolved.toComplexType()\r\n                            {\r\n                                case TPath(tp): insert(id, macro new $tp());\r\n                                case other: Context.error('Resource ${ other.toString() } should be TPath', resource.pos);\r\n                            }\r\n                    }\r\n                case _:\r\n                    final resolved  = try Context.typeof(resource) catch (_) Context.error('Unable to get type of resource expression $resource', resource.pos);\r\n                    final signature = signature(resolved);\r\n                    final id        = registerResource(signature);\r\n\r\n                    insert(id, resource);\r\n            }\r\n        }\r\n    \r\n        // Add a call to try and activate each families which requested the resources.\r\n        for (familyID in added)\r\n        {\r\n            exprs.push(macro $e{ _universe }.families.tryActivate($v{ familyID }));\r\n        }\r\n    \r\n        return macro $b{ exprs };\r\n    }\r\n    \r\n    /**\r\n     * Removes any number of resource from the given universe.\r\n     * The final argument is a rest argument meaning it can take in any number of arguments.\r\n     * \r\n     * Example usage for `using ecs.macros.UniverseMacros;`\r\n     * \r\n     * ```\r\n     * universe.removeResources(LevelData, SpriteBatcher);\r\n     * ```\r\n     * \r\n     * Attempting to remove a resource which is not used in any families will result in a compiler warning\r\n     * and that expression will be skipped.\r\n     * @param _universe Universe to remove the resource from.\r\n     * @param _components Resources to remove.\r\n     */\r\n    @:ignoreInstrument public macro function removeResources(_universe : ExprOf<Universe>, _resources : Array<Expr>)\r\n    {\r\n        final exprs  = [];\r\n        final adder  = new Set();\r\n        final insert = id -> {\r\n            adder.add(id);\r\n    \r\n            for (familyID in getFamilyIDsWithResource(id))\r\n            {\r\n                exprs.push(macro $e{ _universe }.families.get($v{ familyID }).deactivate());\r\n            }\r\n        };\r\n    \r\n        for (resource in _resources)\r\n        {\r\n            switch resource.expr\r\n            {\r\n                case EConst(CIdent(s)):\r\n                    switch isLocalIdent(s, Context.getLocalType().getClass(), Context.getLocalTVars())\r\n                    {\r\n                        case Some(type):\r\n                            switch getResourceID(signature(type))\r\n                            {\r\n                                case Some(id): insert(id);\r\n                                case None: Context.warning('Resource $type is not used in any families', resource.pos);\r\n                            }\r\n                        case None:\r\n                            final resolved  = try Context.getType(s) catch (_) Context.error('Unable to get type of resource expression ${ resource.toString() }', resource.pos);\r\n                            final signature = signature(resolved);\r\n    \r\n                            switch getResourceID(signature)\r\n                            {\r\n                                case Some(id):\r\n                                    switch resolved.toComplexType()\r\n                                    {\r\n                                        case TPath(_): insert(id);\r\n                                        case other: Context.error('Resource ${ other.toString() } should be TPath', resource.pos);\r\n                                    }\r\n                                case None: Context.warning('Resource $resolved is not used in any families', resource.pos);\r\n                            }\r\n                    }\r\n                case _:\r\n                    Context.error('Unsupported resource expression ${ resource.toString() }', resource.pos);\r\n            }\r\n        }\r\n    \r\n        // Remove the resources once each family has been deactivated\r\n        for (resourceID in adder)\r\n        {\r\n            exprs.push(macro for (i in 0...$e{ _universe }.families.number) $e{ _universe }.families.tryDeactivate(i, $v{ resourceID }));\r\n    \r\n            exprs.push(macro $e{ _universe }.resources.remove($v{ resourceID }));\r\n        }\r\n    \r\n        return macro $b{ exprs };\r\n    }\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.ds;\r\n\r\n#if cpp\r\nusing cpp.NativeArray;\r\n#end\r\n\r\nprivate typedef VectorData<T> =\r\n\t#if flash10\r\n\tflash.Vector<T>\r\n\t#elseif neko\r\n\tneko.NativeArray<T>\r\n\t#elseif java\r\n\tjava.NativeArray<T>\r\n\t#elseif lua\r\n\tlua.Table<Int, T>\r\n\t#elseif eval\r\n\teval.Vector<T>\r\n\t#else\r\n\tArray<T>\r\n\t#end;\r\n\r\n/**\r\n\tA Vector is a storage of fixed size. It can be faster than Array on some\r\n\ttargets, and is never slower.\r\n\r\n\t@see https://haxe.org/manual/std-vector.html\r\n**/\r\nabstract Vector<T>(VectorData<T>) {\r\n\t/**\r\n\t\tCreates a new Vector of length `length`.\r\n\r\n\t\tInitially `this` Vector contains `length` neutral elements:\r\n\r\n\t\t- always null on dynamic targets\r\n\t\t- 0, 0.0 or false for Int, Float and Bool respectively on static targets\r\n\t\t- null for other types on static targets\r\n\r\n\t\tIf `length` is less than or equal to 0, the result is unspecified.\r\n\t**/\r\n\textern overload public inline function new(length:Int) {\r\n\t\t#if flash10\r\n\t\tthis = new flash.Vector<T>(length, true);\r\n\t\t#elseif neko\r\n\t\tthis = untyped __dollar__amake(length);\r\n\t\t#elseif js\r\n\t\tthis = js.Syntax.construct(Array, length);\r\n\t\t#elseif java\r\n\t\tthis = new java.NativeArray(length);\r\n\t\t#elseif cpp\r\n\t\tthis = NativeArray.create(length);\r\n\t\t#elseif python\r\n\t\tthis = python.Syntax.code(\"([{0}]*{1})\", null, length);\r\n\t\t#elseif lua\r\n\t\tthis = untyped __lua_table__({length: length});\r\n\t\t#elseif eval\r\n\t\tthis = new eval.Vector(length);\r\n\t\t#else\r\n\t\tthis = [];\r\n\t\tuntyped this.length = length;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tCreates a new Vector of length `length` filled with `defaultValue` elements.\r\n\r\n\t\tCan be faster than `new Vector(length)` for iteration on some targets for non-nullable elements.\r\n\r\n\t\tIf `length` is less than or equal to 0, the result is unspecified.\r\n\t**/\r\n\textern overload public inline function new(length:Int, defaultValue:T):Vector<T> {\r\n\t\t#if js\r\n\t\tthis = [for (_ in 0...length) defaultValue];\r\n\t\t#elseif python\r\n\t\tthis = python.Syntax.code(\"([{0}]*{1})\", defaultValue, length);\r\n\t\t#else\r\n\r\n\t\t#if flash10\r\n\t\tthis = new flash.Vector<T>(length, true);\r\n\t\t#elseif neko\r\n\t\tthis = untyped __dollar__amake(length);\r\n\t\t#elseif java\r\n\t\tthis = new java.NativeArray(length);\r\n\t\t#elseif cpp\r\n\t\tthis = NativeArray.create(length);\r\n\t\t#elseif lua\r\n\t\tthis = untyped __lua_table__({length: length});\r\n\t\t#elseif eval\r\n\t\tthis = new eval.Vector(length);\r\n\t\t#else\r\n\t\tthis = [];\r\n\t\tuntyped this.length = length;\r\n\t\t#end\r\n\t\tfill(defaultValue);\r\n\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the value at index `index`.\r\n\r\n\t\tIf `index` is negative or exceeds `this.length`, the result is\r\n\t\tunspecified.\r\n\t**/\r\n\t@:op([]) public inline function get(index:Int):T {\r\n\t\t#if cpp\r\n\t\treturn this.unsafeGet(index);\r\n\t\t#elseif python\r\n\t\treturn python.internal.ArrayImpl.unsafeGet(this, index);\r\n\t\t#elseif eval\r\n\t\treturn this[index];\r\n\t\t#else\r\n\t\treturn this[index];\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tSets the value at index `index` to `val`.\r\n\r\n\t\tIf `index` is negative or exceeds `this.length`, the result is\r\n\t\tunspecified.\r\n\t**/\r\n\t@:op([]) public inline function set(index:Int, val:T):T {\r\n\t\t#if cpp\r\n\t\treturn this.unsafeSet(index, val);\r\n\t\t#elseif python\r\n\t\treturn python.internal.ArrayImpl.unsafeSet(this, index, val);\r\n\t\t#elseif eval\r\n\t\treturn this[index] = val;\r\n\t\t#else\r\n\t\treturn this[index] = val;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the length of `this` Vector.\r\n\t**/\r\n\tpublic var length(get, never):Int;\r\n\r\n\tinline function get_length():Int {\r\n\t\t#if neko\r\n\t\treturn untyped __dollar__asize(this);\r\n\t\t#elseif java\r\n\t\treturn this.length;\r\n\t\t#elseif python\r\n\t\treturn this.length;\r\n\t\t#else\r\n\t\treturn untyped this.length;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tSets all `length` elements of `this` Vector to `value`.\r\n\t**/\r\n\tpublic inline function fill(value:T):Void\r\n\t\tfor (i in 0...length) this[i] = value;\r\n\r\n\t/**\r\n\t\tCopies `length` of elements from `src` Vector, beginning at `srcPos` to\r\n\t\t`dest` Vector, beginning at `destPos`\r\n\r\n\t\tThe results are unspecified if `length` results in out-of-bounds access,\r\n\t\tor if `src` or `dest` are null\r\n\t**/\r\n\tpublic static #if (java || neko || cpp || eval) inline #end function blit<T>(src:Vector<T>, srcPos:Int, dest:Vector<T>, destPos:Int, len:Int):Void {\r\n\t\t#if neko\r\n\t\tuntyped __dollar__ablit(dest, destPos, src, srcPos, len);\r\n\t\t#elseif java\r\n\t\tjava.lang.System.arraycopy(src, srcPos, dest, destPos, len);\r\n\t\t#elseif cpp\r\n\t\tdest.toData().blit(destPos, src.toData(), srcPos, len);\r\n\t\t#elseif eval\r\n\t\tsrc.toData().blit(srcPos, dest.toData(), destPos, len);\r\n\t\t#else\r\n\t\tif (src == dest) {\r\n\t\t\tif (srcPos < destPos) {\r\n\t\t\t\tvar i = srcPos + len;\r\n\t\t\t\tvar j = destPos + len;\r\n\t\t\t\tfor (k in 0...len) {\r\n\t\t\t\t\ti--;\r\n\t\t\t\t\tj--;\r\n\t\t\t\t\tsrc[j] = src[i];\r\n\t\t\t\t}\r\n\t\t\t} else if (srcPos > destPos) {\r\n\t\t\t\tvar i = srcPos;\r\n\t\t\t\tvar j = destPos;\r\n\t\t\t\tfor (k in 0...len) {\r\n\t\t\t\t\tsrc[j] = src[i];\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tj++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (i in 0...len) {\r\n\t\t\t\tdest[destPos + i] = src[srcPos + i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tCreates a new Array, copy the content from the Vector to it, and returns it.\r\n\t**/\r\n\tpublic #if (flash || cpp || js || java || eval) inline #end function toArray():Array<T> {\r\n\t\t#if cpp\r\n\t\treturn this.copy();\r\n\t\t#elseif python\r\n\t\treturn this.copy();\r\n\t\t#elseif js\r\n\t\treturn this.slice(0);\r\n\t\t#elseif eval\r\n\t\treturn this.toArray();\r\n\t\t#else\r\n\t\tvar a = new Array();\r\n\t\tvar len = length;\r\n\t\t#if (neko)\r\n\t\t// prealloc good size\r\n\t\tif (len > 0)\r\n\t\t\ta[len - 1] = get(0);\r\n\t\t#end\r\n\t\tfor (i in 0...len)\r\n\t\t\ta[i] = get(i);\r\n\t\treturn a;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tExtracts the data of `this` Vector.\r\n\r\n\t\tThis returns the internal representation type.\r\n\t**/\r\n\tpublic inline function toData():VectorData<T>\r\n\t\treturn cast this;\r\n\r\n\t/**\r\n\t\tInitializes a new Vector from `data`.\r\n\r\n\t\tSince `data` is the internal representation of Vector, this is a no-op.\r\n\r\n\t\tIf `data` is null, the corresponding Vector is also `null`.\r\n\t**/\r\n\tstatic public inline function fromData<T>(data:VectorData<T>):Vector<T>\r\n\t\treturn cast data;\r\n\r\n\t/**\r\n\t\tCreates a new Vector by copying the elements of `array`.\r\n\r\n\t\tThis always creates a copy, even on platforms where the internal\r\n\t\trepresentation is Array.\r\n\r\n\t\tThe elements are not copied and retain their identity, so\r\n\t\t`a[i] == Vector.fromArrayCopy(a).get(i)` is true for any valid i.\r\n\r\n\t\tIf `array` is null, the result is unspecified.\r\n\t**/\r\n\tstatic public inline function fromArrayCopy<T>(array:Array<T>):Vector<T> {\r\n\t\t#if python\r\n\t\treturn cast array.copy();\r\n\t\t#elseif flash10\r\n\t\treturn fromData(flash.Vector.ofArray(array));\r\n\t\t#elseif java\r\n\t\treturn fromData(java.Lib.nativeArray(array, false));\r\n\t\t#elseif cpp\r\n\t\treturn cast array.copy();\r\n\t\t#elseif js\r\n\t\treturn fromData(array.slice(0));\r\n\t\t#elseif eval\r\n\t\treturn fromData(eval.Vector.fromArrayCopy(array));\r\n\t\t#else\r\n\t\t// TODO: Optimize this for others?\r\n\t\tvar vec = new Vector<T>(array.length);\r\n\t\tfor (i in 0...array.length)\r\n\t\t\tvec.set(i, array[i]);\r\n\t\treturn vec;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a shallow copy of `this` Vector.\r\n\r\n\t\tThe elements are not copied and retain their identity, so\r\n\t\t`a[i] == a.copy()[i]` is true for any valid `i`. However,\r\n\t\t`a == a.copy()` is always false.\r\n\t**/\r\n\textern public inline function copy<T>():Vector<T> {\r\n\t\t#if eval\r\n\t\treturn fromData(this.copy());\r\n\t\t#else\r\n\t\tvar r = new Vector<T>(length);\r\n\t\tVector.blit(cast this, 0, r, 0, length);\r\n\t\treturn r;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a string representation of `this` Vector, with `sep` separating\r\n\t\teach element.\r\n\r\n\t\tThe result of this operation is equal to `Std.string(this[0]) + sep +\r\n\t\tStd.string(this[1]) + sep + ... + sep + Std.string(this[this.length-1])`\r\n\r\n\t\tIf `this` Vector has length 0, the result is the empty String `\"\"`.\r\n\t\tIf `this` has exactly one element, the result is equal to a call to\r\n\t\t`Std.string(this[0])`.\r\n\r\n\t\tIf `sep` is null, the result is unspecified.\r\n\t**/\r\n\textern public inline function join<T>(sep:String):String {\r\n\t\t#if (flash10 || cpp || eval)\r\n\t\treturn this.join(sep);\r\n\t\t#else\r\n\t\tvar b = new StringBuf();\r\n\t\tvar len = length;\r\n\t\tfor (i in 0...len) {\r\n\t\t\tb.add(Std.string(get(i)));\r\n\t\t\tif (i < len - 1) {\r\n\t\t\t\tb.add(sep);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn b.toString();\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tCreates a new Vector by applying function `f` to all elements of `this`.\r\n\r\n\t\tThe order of elements is preserved.\r\n\r\n\t\tIf `f` is null, the result is unspecified.\r\n\t**/\r\n\textern public inline function map<S>(f:T->S):Vector<S> {\r\n\t\t#if eval\r\n\t\treturn fromData(this.map(f));\r\n\t\t#else\r\n\t\tvar length = length;\r\n\t\tvar r = new Vector<S>(length);\r\n\t\tvar len = length;\r\n\t\tfor (i in 0...len) {\r\n\t\t\tvar v = f(get(i));\r\n\t\t\tr.set(i, v);\r\n\t\t}\r\n\t\treturn r;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tSorts `this` Vector according to the comparison function `f`, where\r\n\t\t`f(x,y)` returns 0 if x == y, a positive Int if x > y and a\r\n\t\tnegative Int if x < y.\r\n\r\n\t\tThis operation modifies `this` Vector in place.\r\n\r\n\t\tThe sort operation is not guaranteed to be stable, which means that the\r\n\t\torder of equal elements may not be retained.\r\n\r\n\t\tIf `f` is null, the result is unspecified.\r\n\t**/\r\n\tpublic inline function sort(f:T->T->Int):Void {\r\n\t\t#if (neko || java || eval)\r\n\t\tthrow \"not yet supported\";\r\n\t\t#elseif lua\r\n\t\thaxe.ds.ArraySort.sort(cast this, f);\r\n\t\t#else\r\n\t\tthis.sort(f);\r\n\t\t#end\r\n\t}\r\n}\r\n","package bits;\r\n\r\nimport haxe.io.BytesData;\r\n/**\r\n * A sequence of bits of any size.\r\n */\r\nabstract Bits(BitsData) from BitsData to BitsData {\r\n\t/**\r\n\t * Create a `bits.Bits` instance using values of `positions` as positions of bits, which should be set to 1.\r\n\t * E.g. `[0, 2, 7]` will produce `bits.Bits` instance of `10000101`.\r\n\t * If there is a negative value in `positions` the result is unspecified.\r\n\t */\r\n\t@:from\r\n\tstatic public function fromPositions(positions:Array<Int>):Bits {\r\n\t\tvar bits = new Bits();\r\n\t\tfor(pos in positions) {\r\n\t\t\t#if haxe4 inline #end bits.set(pos);\r\n\t\t}\r\n\t\treturn bits;\r\n\t}\r\n\r\n\t/**\r\n\t * Create a new instance.\r\n\t *\r\n\t * By default the new instance allocates a memory for 32 (on most platforms) bits.\r\n\t * And then grows as necessary on setting bits at positions greater than 31.\r\n\t *\r\n\t * @param capacity makes `bits.Bits` to pre-allocate the amount of memory required to store `capacity` bits.\r\n\t */\r\n\tpublic inline function new(capacity:Int = 0) {\r\n\t\tthis = new BitsData();\r\n\t\tif(capacity > 0) {\r\n\t\t\tthis.resize(Math.ceil(capacity / BitsData.CELL_SIZE));\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set the bit at position `pos` (zero-based) in a binary representation of `bits.BitFlags` to 1.\r\n\t * It's like `bits = bits | (1 << pos)`\r\n\t * E.g. if `pos` is 2 the third bit is set to 1 (`0000100`).\r\n\t * If `pos` is negative the result is unspecified.\r\n\t */\r\n\tpublic function set(pos:Int) {\r\n\t\tif(pos < BitsData.CELL_SIZE) {\r\n\t\t\tthis[0] |= (1 << pos);\r\n\t\t} else {\r\n\t\t\tvar cell = Std.int(pos / BitsData.CELL_SIZE);\r\n\t\t\tif(this.length <= cell) {\r\n\t\t\t\tthis.resize(cell + 1);\r\n\t\t\t}\r\n\t\t\tvar bit = pos - cell * BitsData.CELL_SIZE;\r\n\t\t\tthis[cell] |= (1 << bit);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set the bit at position `pos` (zero-based) in a binary representation of `bits.BitFlags` to 0.\r\n\t * If `pos` is negative the result is unspecified.\r\n\t */\r\n\tpublic function unset(pos:Int) {\r\n\t\tif(pos < BitsData.CELL_SIZE) {\r\n\t\t\tthis[0] &= ~(1 << pos);\r\n\t\t} else {\r\n\t\t\tvar cell = Std.int(pos / BitsData.CELL_SIZE);\r\n\t\t\tif(this.length <= cell) {\r\n\t\t\t\tthis.resize(cell + 1);\r\n\t\t\t}\r\n\t\t\tvar bit = pos - cell * BitsData.CELL_SIZE;\r\n\t\t\tthis[cell] &= ~(1 << bit);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Add all ones of `bits` to this instance.\r\n\t * It's like `this = this | bits`.\r\n\t */\r\n\tpublic function add(bits:Bits) {\r\n\t\tvar data = (bits:BitsData);\r\n\t\tif(this.length < data.length) {\r\n\t\t\tthis.resize(data.length);\r\n\t\t}\r\n\t\tfor(cell in 0...data.length) {\r\n\t\t\tthis[cell] |= data[cell];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Remove all ones of `bits` from this instance.\r\n\t * It's like `this = this & ~bits`.\r\n\t */\r\n\tpublic function remove(bits:Bits) {\r\n\t\tvar data = (bits:BitsData);\r\n\t\tfor(cell in 0...data.length) {\r\n\t\t\tif(cell >= this.length) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis[cell] &= ~data[cell];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Check if a bit at position `pos` is set to 1.\r\n\t * If `pos` is negative the result is unspecified.\r\n\t */\r\n\tpublic function isSet(pos:Int):Bool {\r\n\t\treturn if(pos < BitsData.CELL_SIZE) {\r\n\t\t\t0 != this[0] & (1 << pos);\r\n\t\t} else {\r\n\t\t\tvar cell = Std.int(pos / BitsData.CELL_SIZE);\r\n\t\t\tvar bit = pos - cell * BitsData.CELL_SIZE;\r\n\t\t\tcell < this.length && 0 != this[cell] & (1 << bit);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Check if this instance has all the corresponding bits of `bits` set.\r\n\t * It's like `this & bits != 0`.\r\n\t * E.g. returns `true` if `this` is `10010010` and `bits` is `10000010`.\r\n\t */\r\n\tpublic function areSet(bits:Bits):Bool {\r\n\t\tvar data = (bits:BitsData);\r\n\t\tvar has = true;\r\n\t\tfor(cell in 0...data.length) {\r\n\t\t\tif(cell < this.length) {\r\n\t\t\t\thas = data[cell] == this[cell] & data[cell];\r\n\t\t\t} else {\r\n\t\t\t\thas = 0 == data[cell];\r\n\t\t\t}\r\n\t\t\tif(!has) break;\r\n\t\t}\r\n\t\treturn has;\r\n\t}\r\n\r\n\t/**\r\n\t * Invoke `callback` for each non-zero bit.\r\n\t * Callback will receive a position (zero-based) of each non-zero bit.\r\n\t */\r\n\tpublic inline function forEach(callback:Int->Void) {\r\n\t\tfor(cell in 0...this.length) {\r\n\t\t\tvar cellValue = this[cell];\r\n\t\t\tif(cellValue != 0) {\r\n\t\t\t\tfor(i in 0...BitsData.CELL_SIZE) {\r\n\t\t\t\t\tif(0 != cellValue & (1 << i)) {\r\n\t\t\t\t\t\tcallback(cell * BitsData.CELL_SIZE + i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Create a copy of this instance\r\n\t */\r\n\tpublic inline function copy():Bits {\r\n\t\treturn this.copy();\r\n\t}\r\n\r\n\t/**\r\n\t * Get string representation of this instance (without leading zeros).\r\n\t * E.g. `100010010`.\r\n\t */\r\n\tpublic function toString():String {\r\n\t\tvar result = '';\r\n\t\tfor(cell in 0...this.length) {\r\n\t\t\tvar cellValue = this[cell];\r\n\t\t\tfor(i in 0...BitsData.CELL_SIZE) {\r\n\t\t\t\tresult = (0 != cellValue & (1 << i) ? '1' : '0') + result;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.substr(result.indexOf('1'));\r\n\t}\r\n\r\n\t/**\r\n\t * Check if all bits are zeros\r\n\t */\r\n\tpublic function isEmpty():Bool {\r\n\t\tvar empty = true;\r\n\t\tfor(cellValue in this) {\r\n\t\t\tif(cellValue != 0) {\r\n\t\t\t\tempty = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn empty;\r\n\t}\r\n\r\n\t/**\r\n\t * Count the amount of non-zero bits.\r\n\t */\r\n\tpublic function count():Int {\r\n\t\treturn this.countOnes();\r\n\t}\r\n\r\n\t/**\r\n\t * Set all bits to 0\r\n\t */\r\n\tpublic function clear() {\r\n\t\tfor(cell in 0...this.length) {\r\n\t\t\tthis[cell] = 0;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Merge this instance with `bits`.\r\n\t * E.g. merging `10010` and `10001` produces `10011`.\r\n\t * Creates a new `bits.Bits` instance.\r\n\t */\r\n\t@:op(A | B)\r\n\tpublic function merge(bits:Bits):Bits {\r\n\t\tinline function mergeData(a:BitsData, b:BitsData):BitsData {\r\n\t\t\tvar result = a.copy();\r\n\t\t\tfor(cell in 0...b.length) {\r\n\t\t\t\tresult[cell] |= b[cell];\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tif(this.length < (bits:BitsData).length) {\r\n\t\t\treturn mergeData(bits, this);\r\n\t\t} else {\r\n\t\t\treturn mergeData(this, bits);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an intersection of this instance with `bits`.\r\n\t * E.g. intersecting `10010` and `01010` produces `00010`.\r\n\t * Creates a new `bits.Bits` instance.\r\n\t */\r\n\t@:op(A & B)\r\n\tpublic function intersect(bits:Bits):Bits {\r\n\t\tinline function intersectData(a:BitsData, b:BitsData):BitsData {\r\n\t\t\tvar result = a.copy();\r\n\t\t\tfor(cell in 0...a.length) {\r\n\t\t\t\tresult[cell] &= b[cell];\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tif(this.length < (bits:BitsData).length) {\r\n\t\t\treturn intersectData(this, bits);\r\n\t\t} else {\r\n\t\t\treturn intersectData(bits, this);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Iterator over the positions of non-zero bits\r\n\t */\r\n\tpublic inline function iterator():BitsIterator {\r\n\t\treturn new BitsIterator(this);\r\n\t}\r\n}\r\n\r\nclass BitsIterator {\r\n\tvar data:BitsData;\r\n\tvar cell:Int = 0;\r\n\tvar i:Int = 0;\r\n\r\n\tpublic inline function new(data:BitsData) {\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\tvar has = false;\r\n\r\n\t\twhile(cell < data.length) {\r\n\t\t\tvar cellValue = data[cell];\r\n\r\n\t\t\tif(cellValue != 0) {\r\n\t\t\t\twhile(i < BitsData.CELL_SIZE) {\r\n\t\t\t\t\tif(cellValue & (1 << i) != 0) {\r\n\t\t\t\t\t\thas = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t++i;\r\n\t\t\t\t}\r\n\t\t\t\tif(has) break;\r\n\t\t\t}\r\n\r\n\t\t\ti = 0;\r\n\t\t\t++cell;\r\n\t\t}\r\n\r\n\t\treturn has;\r\n\t}\r\n\r\n\tpublic inline function next():Int {\r\n\t\t++i;\r\n\t\treturn cell * BitsData.CELL_SIZE + i - 1;\r\n\t}\r\n}\r\n\r\n//TODO change to the most effective data structure for each target platform\r\n@:noCompletion\r\nabstract BitsData(Array<Int>) {\r\n\tstatic public inline var CELL_SIZE = 32;\r\n\r\n\tpublic var length(get,never):Int;\r\n\r\n\tpublic inline function new() this = [0];\r\n\r\n\tpublic inline function resize(newLength:Int) {\r\n\t\t#if (!haxe4 || !static)\r\n\t\t\tfor(i in this.length...newLength) {\r\n\t\t\t\tthis[i] = 0;\r\n\t\t\t}\r\n\t\t#else\r\n\t\t\tthis.resize(newLength);\r\n\t\t#end\r\n\t}\r\n\r\n\tpublic inline function copy():BitsData {\r\n\t\treturn cast this.copy();\r\n\t}\r\n\r\n\t/**\r\n\t * Count 1-bits\r\n\t */\r\n\tpublic inline function countOnes():Int {\r\n\t\tvar result = 0;\r\n\t\t#if (neko || js || java || cs || cpp || flash)\r\n\t\t\tfor(v in this) {\r\n\t\t\t\tif(v != 0) {\r\n\t\t\t\t\tv = v - ((v >>> 1) & 0x55555555);\r\n\t\t\t\t\tv = (v & 0x33333333) + ((v >>> 2) & 0x33333333);\r\n\t\t\t\t\tresult += (((v + (v >>> 4)) & 0x0F0F0F0F) * 0x01010101) >>> 24;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t#else\r\n\t\t\tfor(cellValue in this) {\r\n\t\t\t\tif(cellValue != 0) {\r\n\t\t\t\t\tfor(i in 0...CELL_SIZE) {\r\n\t\t\t\t\t\tif(cellValue & (1 << i) != 0) {\r\n\t\t\t\t\t\t\t++result;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t#end\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@:op([])\r\n\tinline function get(index:Int):Int {\r\n\t\treturn this[index];\r\n\t}\r\n\r\n\t@:op([])\r\n\tinline function set(index:Int, value:Int):Int {\r\n\t\treturn this[index] = value;\r\n\t}\r\n\r\n\tinline function get_length() return this.length;\r\n}","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/**\r\n\t`Any` is a type that is compatible with any other in both ways.\r\n\r\n\tThis means that a value of any type can be assigned to `Any`, and\r\n\tvice-versa, a value of `Any` type can be assigned to any other type.\r\n\r\n\tIt's a more type-safe alternative to `Dynamic`, because it doesn't\r\n\tsupport field access or operators and it's bound to monomorphs. So,\r\n\tto work with the actual value, it needs to be explicitly promoted\r\n\tto another type.\r\n**/\r\n@:forward.variance\r\nabstract Any(Dynamic) from Dynamic {\r\n\t@:noCompletion @:to extern inline function __promote<T>():T\r\n\t\treturn this;\r\n\r\n\t@:noCompletion extern inline function toString():String\r\n\t\treturn Std.string(this);\r\n}\r\n","package haxe;\r\n\r\nimport haxe.iterators.RestIterator;\r\nimport haxe.iterators.RestKeyValueIterator;\r\n\r\nprivate typedef NativeRest<T> = Array<T>;\r\n\r\n/**\r\n\tA special type that represents a \"rest\" function argument.\r\n\r\n\tThe special `...` syntax can be used for convenience and improved readability:\r\n\r\n\t```haxe\r\n\tfunction f(...rest:Int) {\r\n\t\t$type(rest); // haxe.Rest<Int>\r\n\t}\r\n\r\n\tf(1, 2, 3);\r\n\r\n\tfinal array = [1, 2, 3];\r\n\tf(...array);\r\n\t```\r\n\r\n\tShould be used as a type for the last argument of a method, indicating that\r\n\tan arbitrary number of arguments of the given type can be passed to that method.\r\n\r\n\tAllows to use array access by index to get values of rest arguments.\r\n\tIf the index exceeds the amount of rest arguments passed, the result is unspecified.\r\n**/\r\n@:coreApi\r\nabstract Rest<T>(NativeRest<T>) {\r\n\t/** Amount of arguments passed as rest arguments */\r\n\tpublic var length(get,never):Int;\r\n\tinline function get_length():Int\r\n\t\treturn this.length;\r\n\r\n\t/**\r\n\t\tCreate rest arguments using contents of `array`.\r\n\r\n\t\tWARNING:\r\n\t\tDepending on a target platform modifying `array` after using this method\r\n\t\tmay affect the created `Rest` instance.\r\n\t\tUse `Rest.of(array.copy())` to avoid that.\r\n\t**/\r\n\t@:from static public inline function of<T>(array:Array<T>):Rest<T>\r\n\t\treturn new Rest(array);\r\n\r\n\tinline function new(array:Array<T>):Void\r\n\t\tthis = array;\r\n\r\n\t@:arrayAccess inline function get(index:Int):T\r\n\t\treturn this[index];\r\n\r\n\t/**\r\n\t\tCreates an array containing all the values of rest arguments.\r\n\t**/\r\n\t@:to public #if !cppia inline #end function toArray():Array<T>\r\n\t\treturn this.copy();\r\n\r\n\tpublic inline function iterator():RestIterator<T>\r\n\t\treturn new RestIterator<T>(this);\r\n\r\n\tpublic inline function keyValueIterator():RestKeyValueIterator<T>\r\n\t\treturn new RestKeyValueIterator<T>(this);\r\n\r\n\t/**\r\n\t\tCreate a new rest arguments collection by appending `item` to this one.\r\n\t**/\r\n\tpublic function append(item:T):Rest<T> {\r\n\t\tvar result = this.copy();\r\n\t\tresult.push(item);\r\n\t\treturn new Rest(result);\r\n\t}\r\n\r\n\t/**\r\n\t\tCreate a new rest arguments collection by prepending this one with `item`.\r\n\t**/\r\n\tpublic function prepend(item:T):Rest<T> {\r\n\t\tvar result = this.copy();\r\n\t\tresult.unshift(item);\r\n\t\treturn new Rest(result);\r\n\t}\r\n\r\n\tpublic inline function toString():String {\r\n\t\t#if (flash || js)\r\n\t\t\treturn '[${this.toString()}]';\r\n\t\t#else\r\n\t\t\treturn this.toString();\r\n\t\t#end\r\n\t}\r\n}","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js;\r\n\r\nimport js.html.Storage;\r\nimport js.html.XMLHttpRequest;\r\n\r\nclass Browser {\r\n\t/** The global scope typed with fields available only in a worker context. */\r\n\tpublic static var self(get, never):js.html.WorkerGlobalScope;\r\n\r\n\tstatic inline function get_self():js.html.WorkerGlobalScope {\r\n\t\treturn js.Lib.global;\r\n\t}\r\n\r\n\t/** The global window object. */\r\n\tpublic static var window(get, never):js.html.Window;\r\n\r\n\textern inline static function get_window()\r\n\t\treturn js.Syntax.code(\"window\");\r\n\r\n\t/** Shortcut to Window.document. */\r\n\tpublic static var document(get, never):js.html.HTMLDocument;\r\n\r\n\textern inline static function get_document()\r\n\t\treturn window.document;\r\n\r\n\t/** Shortcut to Window.location. */\r\n\tpublic static var location(get, never):js.html.Location;\r\n\r\n\textern inline static function get_location()\r\n\t\treturn js.Lib.global.location;\r\n\r\n\t/** Shortcut to Window.navigator. */\r\n\tpublic static var navigator(get, never):js.html.Navigator;\r\n\r\n\textern inline static function get_navigator()\r\n\t\treturn js.Lib.global.navigator;\r\n\r\n\t/** Shortcut to Window.console. */\r\n\tpublic static var console(get, never):js.html.ConsoleInstance;\r\n\r\n\textern inline static function get_console()\r\n\t\treturn js.Lib.global.console;\r\n\r\n\t/**\r\n\t * True if a window object exists, false otherwise.\r\n\t *\r\n\t * This can be used to check if the code is being executed in a non-browser\r\n\t * environment such as node.js.\r\n\t */\r\n\tpublic static var supported(get, never):Bool;\r\n\r\n\tstatic function get_supported()\r\n\t\treturn\r\n\t\t\tjs.Syntax.typeof(window) != \"undefined\" &&\r\n\t\t\tjs.Syntax.typeof(window.location) != \"undefined\" &&\r\n\t\t\tjs.Syntax.typeof(window.location.protocol) == \"string\";\r\n\t/**\r\n\t * Safely gets the browser's local storage, or returns null if localStorage is unsupported or\r\n\t * disabled.\r\n\t */\r\n\tpublic static function getLocalStorage():Null<Storage> {\r\n\t\ttry {\r\n\t\t\tvar s = window.localStorage;\r\n\t\t\ts.getItem(\"\");\r\n\t\t\tif (s.length == 0) {\r\n\t\t\t\tvar key = \"_hx_\" + Math.random();\r\n\t\t\t\ts.setItem(key, key);\r\n\t\t\t\ts.removeItem(key);\r\n\t\t\t}\r\n\t\t\treturn s;\r\n\t\t} catch (e:Dynamic) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Safely gets the browser's session storage, or returns null if sessionStorage is unsupported\r\n\t * or disabled.\r\n\t */\r\n\tpublic static function getSessionStorage():Storage {\r\n\t\ttry {\r\n\t\t\tvar s = window.sessionStorage;\r\n\t\t\ts.getItem(\"\");\r\n\t\t\tif (s.length == 0) {\r\n\t\t\t\tvar key = \"_hx_\" + Math.random();\r\n\t\t\t\ts.setItem(key, key);\r\n\t\t\t\ts.removeItem(key);\r\n\t\t\t}\r\n\t\t\treturn s;\r\n\t\t} catch (e:Dynamic) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Creates an XMLHttpRequest, with a fallback to ActiveXObject for ancient versions of Internet\r\n\t * Explorer.\r\n\t */\r\n\tpublic static function createXMLHttpRequest():XMLHttpRequest {\r\n\t\tif (js.Syntax.code(\"typeof XMLHttpRequest\") != \"undefined\") {\r\n\t\t\treturn new XMLHttpRequest();\r\n\t\t}\r\n\t\tif (js.Syntax.code(\"typeof ActiveXObject\") != \"undefined\") {\r\n\t\t\treturn js.Syntax.construct(\"ActiveXObject\", \"Microsoft.XMLHTTP\");\r\n\t\t}\r\n\t\tthrow \"Unable to create XMLHttpRequest object.\";\r\n\t}\r\n\r\n\t/**\r\n\t\tDisplay an alert message box containing the given message. See also `Window.alert()`.\r\n\t**/\r\n\tpublic static inline function alert(v:Dynamic) {\r\n\t\twindow.alert(Std.string(v));\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.ds;\r\n\r\nimport js.lib.Object;\r\nimport haxe.Constraints.IMap;\r\nimport haxe.DynamicAccess;\r\n\r\n#if (js_es >= 6)\r\n@:coreApi class StringMap<T> implements IMap<String, T> {\r\n\tprivate var m:js.lib.Map<String, T>;\r\n\r\n\tpublic inline function new():Void {\r\n\t\tm = new js.lib.Map();\r\n\t}\r\n\r\n\tpublic inline function set(key:String, value:T):Void {\r\n\t\tm.set(key, value);\r\n\t}\r\n\r\n\tpublic inline function get(key:String):Null<T> {\r\n\t\treturn m.get(key);\r\n\t}\r\n\r\n\tpublic inline function exists(key:String):Bool {\r\n\t\treturn m.has(key);\r\n\t}\r\n\r\n\tpublic inline function remove(key:String):Bool {\r\n\t\treturn m.delete(key);\r\n\t}\r\n\r\n\tpublic inline function keys():Iterator<String> {\r\n\t\treturn new js.lib.HaxeIterator(m.keys());\r\n\t}\r\n\r\n\tpublic inline function iterator():Iterator<T> {\r\n\t\treturn m.iterator();\r\n\t}\r\n\r\n\tpublic inline function keyValueIterator():KeyValueIterator<String, T> {\r\n\t\treturn m.keyValueIterator();\r\n\t}\r\n\r\n\tpublic inline function copy():StringMap<T> {\r\n\t\tvar copied = new StringMap();\r\n\t\tcopied.m = new js.lib.Map(m);\r\n\t\treturn copied;\r\n\t}\r\n\r\n\tpublic function toString():String {\r\n\t\tvar s = new StringBuf();\r\n\t\ts.add(\"[\");\r\n\t\tvar it = keyValueIterator();\r\n\t\tfor (i in it) {\r\n\t\t\ts.add(i.key);\r\n\t\t\ts.add(\" => \");\r\n\t\t\ts.add(Std.string(i.value));\r\n\t\t\tif (it.hasNext())\r\n\t\t\t\ts.add(\", \");\r\n\t\t}\r\n\t\ts.add(\"]\");\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\tpublic inline function clear():Void {\r\n\t\tm.clear();\r\n\t}\r\n}\r\n#elseif (js_es == 5)\r\n@:coreApi class StringMap<T> implements IMap<String, T> {\r\n\tvar h:Dynamic;\r\n\r\n\tpublic inline function new() {\r\n\t\th = Object.create(null);\r\n\t}\r\n\r\n\tpublic inline function exists(key:String):Bool {\r\n\t\treturn Object.prototype.hasOwnProperty.call(h, key);\r\n\t}\r\n\r\n\tpublic inline function get(key:String):Null<T> {\r\n\t\treturn h[cast key];\r\n\t}\r\n\r\n\tpublic inline function set(key:String, value:T):Void {\r\n\t\th[cast key] = value;\r\n\t}\r\n\r\n\tpublic inline function remove(key:String):Bool {\r\n\t\treturn if (exists(key)) {\r\n\t\t\tjs.Syntax.delete(h, key); true;\r\n\t\t} else {\r\n\t\t\tfalse;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic inline function keys():Iterator<String> {\r\n\t\treturn new StringMapKeyIterator(h);\r\n\t}\r\n\r\n\tpublic inline function iterator():Iterator<T> {\r\n\t\treturn new StringMapValueIterator(h);\r\n\t}\r\n\r\n\tpublic inline function keyValueIterator():KeyValueIterator<String, T> {\r\n\t\treturn new StringMapKeyValueIterator(h);\r\n\t}\r\n\r\n\tpublic inline function copy():StringMap<T> {\r\n\t\treturn createCopy(h);\r\n\t}\r\n\r\n\tpublic inline function clear():Void {\r\n\t\th = Object.create(null);\r\n\t}\r\n\r\n\tpublic inline function toString():String {\r\n\t\treturn stringify(h);\r\n\t}\r\n\r\n\t// impl\r\n\tstatic function createCopy<T>(h:Dynamic):StringMap<T> {\r\n\t\tvar copy = new StringMap();\r\n\t\tjs.Syntax.code(\"for (var key in {0}) {1}[key] = {0}[key]\", h, copy.h);\r\n\t\treturn copy;\r\n\t}\r\n\r\n\t@:analyzer(no_optimize)\r\n\tstatic function stringify(h:Dynamic):String {\r\n\t\tvar s = \"[\", first = true;\r\n\t\tjs.Syntax.code(\"for (var key in {0}) {\", h);\r\n\t\tjs.Syntax.code(\"\\tif ({0}) {0} = false; else {1} += ',';\", first, s);\r\n\t\tjs.Syntax.code(\"\\t{0} += key + ' => ' + {1}({2}[key]);\", s, Std.string, h);\r\n\t\tjs.Syntax.code(\"}\");\r\n\t\treturn s + \"]\";\r\n\t}\r\n}\r\n\r\nprivate class StringMapKeyIterator {\r\n\tfinal h:Dynamic;\r\n\tfinal keys:Array<String>;\r\n\tfinal length:Int;\r\n\tvar current:Int;\r\n\r\n\tpublic inline function new(h:Dynamic) {\r\n\t\tthis.h = h;\r\n\t\tkeys = Object.keys(h);\r\n\t\tlength = keys.length;\r\n\t\tcurrent = 0;\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn current < length;\r\n\t}\r\n\r\n\tpublic inline function next():String {\r\n\t\treturn keys[current++];\r\n\t}\r\n}\r\n\r\nprivate class StringMapValueIterator<T> {\r\n\tfinal h:Dynamic;\r\n\tfinal keys:Array<String>;\r\n\tfinal length:Int;\r\n\tvar current:Int;\r\n\r\n\tpublic inline function new(h:Dynamic) {\r\n\t\tthis.h = h;\r\n\t\tkeys = Object.keys(h);\r\n\t\tlength = keys.length;\r\n\t\tcurrent = 0;\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn current < length;\r\n\t}\r\n\r\n\tpublic inline function next():T {\r\n\t\treturn h[cast keys[current++]];\r\n\t}\r\n}\r\n\r\nprivate class StringMapKeyValueIterator<T> {\r\n\tfinal h:Dynamic;\r\n\tfinal keys:Array<String>;\r\n\tfinal length:Int;\r\n\tvar current:Int;\r\n\r\n\tpublic inline function new(h:Dynamic) {\r\n\t\tthis.h = h;\r\n\t\tkeys = Object.keys(h);\r\n\t\tlength = keys.length;\r\n\t\tcurrent = 0;\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn current < length;\r\n\t}\r\n\r\n\tpublic inline function next():{key:String, value:T} {\r\n\t\tvar key = keys[current++];\r\n\t\treturn {key: key, value: h[cast key]};\r\n\t}\r\n}\r\n#else\r\nprivate class StringMapIterator<T> {\r\n\tvar map:StringMap<T>;\r\n\tvar keys:Array<String>;\r\n\tvar index:Int;\r\n\tvar count:Int;\r\n\r\n\tpublic inline function new(map:StringMap<T>, keys:Array<String>) {\r\n\t\tthis.map = map;\r\n\t\tthis.keys = keys;\r\n\t\tthis.index = 0;\r\n\t\tthis.count = keys.length;\r\n\t}\r\n\r\n\tpublic inline function hasNext() {\r\n\t\treturn index < count;\r\n\t}\r\n\r\n\tpublic inline function next() {\r\n\t\treturn map.get(keys[index++]);\r\n\t}\r\n}\r\n\r\n@:coreApi class StringMap<T> implements haxe.Constraints.IMap<String, T> {\r\n\tprivate var h:Dynamic;\r\n\tprivate var rh:Dynamic;\r\n\r\n\tpublic inline function new():Void {\r\n\t\th = {};\r\n\t}\r\n\r\n\tinline function isReserved(key:String):Bool {\r\n\t\treturn js.Syntax.code(\"__map_reserved[{0}]\", key) != null;\r\n\t}\r\n\r\n\tpublic inline function set(key:String, value:T):Void {\r\n\t\tif (isReserved(key))\r\n\t\t\tsetReserved(key, value);\r\n\t\telse\r\n\t\t\th[cast key] = value;\r\n\t}\r\n\r\n\tpublic inline function get(key:String):Null<T> {\r\n\t\tif (isReserved(key))\r\n\t\t\treturn getReserved(key);\r\n\t\treturn h[cast key];\r\n\t}\r\n\r\n\tpublic inline function exists(key:String):Bool {\r\n\t\tif (isReserved(key))\r\n\t\t\treturn existsReserved(key);\r\n\t\treturn h.hasOwnProperty(key);\r\n\t}\r\n\r\n\tfunction setReserved(key:String, value:T):Void {\r\n\t\tif (rh == null)\r\n\t\t\trh = {};\r\n\t\trh[cast \"$\" + key] = value;\r\n\t}\r\n\r\n\tfunction getReserved(key:String):Null<T> {\r\n\t\treturn rh == null ? null : rh[cast \"$\" + key];\r\n\t}\r\n\r\n\tfunction existsReserved(key:String):Bool {\r\n\t\tif (rh == null)\r\n\t\t\treturn false;\r\n\t\treturn (cast rh).hasOwnProperty(\"$\" + key);\r\n\t}\r\n\r\n\tpublic function remove(key:String):Bool {\r\n\t\tif (isReserved(key)) {\r\n\t\t\tkey = \"$\" + key;\r\n\t\t\tif (rh == null || !rh.hasOwnProperty(key))\r\n\t\t\t\treturn false;\r\n\t\t\tjs.Syntax.delete(rh, key);\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tif (!h.hasOwnProperty(key))\r\n\t\t\t\treturn false;\r\n\t\t\tjs.Syntax.delete(h, key);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic function keys():Iterator<String> {\r\n\t\treturn arrayKeys().iterator();\r\n\t}\r\n\r\n\tfunction arrayKeys():Array<String> {\r\n\t\tvar out = [];\r\n\t\tuntyped {\r\n\t\t\tjs.Syntax.code(\"for( var key in this.h ) {\");\r\n\t\t\tif (h.hasOwnProperty(key))\r\n\t\t\t\tout.push(key);\r\n\t\t\tjs.Syntax.code(\"}\");\r\n\t\t}\r\n\t\tif (rh != null)\r\n\t\t\tuntyped {\r\n\t\t\t\tjs.Syntax.code(\"for( var key in this.rh ) {\");\r\n\t\t\t\tif (key.charCodeAt(0) == \"$\".code)\r\n\t\t\t\t\tout.push(key.substr(1));\r\n\t\t\t\tjs.Syntax.code(\"}\");\r\n\t\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tpublic inline function iterator():Iterator<T> {\r\n\t\treturn new StringMapIterator(this, arrayKeys());\r\n\t}\r\n\r\n\t@:runtime public inline function keyValueIterator():KeyValueIterator<String, T> {\r\n\t\treturn new haxe.iterators.MapKeyValueIterator(this);\r\n\t}\r\n\r\n\tpublic function copy():StringMap<T> {\r\n\t\tvar copied = new StringMap();\r\n\t\tfor (key in keys())\r\n\t\t\tcopied.set(key, get(key));\r\n\t\treturn copied;\r\n\t}\r\n\r\n\tpublic function toString():String {\r\n\t\tvar s = new StringBuf();\r\n\t\ts.add(\"[\");\r\n\t\tvar keys = arrayKeys();\r\n\t\tfor (i in 0...keys.length) {\r\n\t\t\tvar k = keys[i];\r\n\t\t\ts.add(k);\r\n\t\t\ts.add(\" => \");\r\n\t\t\ts.add(Std.string(get(k)));\r\n\t\t\tif (i < keys.length - 1)\r\n\t\t\t\ts.add(\", \");\r\n\t\t}\r\n\t\ts.add(\"]\");\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\tpublic inline function clear():Void {\r\n\t\th = {};\r\n\t\trh = null;\r\n\t}\r\n\r\n\tstatic function __init__():Void {\r\n\t\tjs.Syntax.code(\"var __map_reserved = {};\");\r\n\t}\r\n}\r\n#end\r\n","package sys.io;\r\n\r\nimport js.node.Fs;\r\n\r\n@:dce\r\n// @:coreApi\r\nclass File {\r\n\tpublic static inline function append(path:String, binary:Bool = true):FileOutput {\r\n\t\treturn new FileOutput(Fs.openSync(path, AppendCreate));\r\n\t}\r\n\r\n\tpublic static inline function write(path:String, binary:Bool = true):FileOutput {\r\n\t\treturn new FileOutput(Fs.openSync(path, WriteCreate));\r\n\t}\r\n\r\n\tpublic static inline function read(path:String, binary:Bool = true):FileInput {\r\n\t\treturn new FileInput(Fs.openSync(path, Read));\r\n\t}\r\n\r\n\tpublic static inline function getContent(path:String):String {\r\n\t\treturn Fs.readFileSync(path, {encoding: \"utf8\"});\r\n\t}\r\n\r\n\tpublic static inline function saveContent(path:String, content:String):Void {\r\n\t\tFs.writeFileSync(path, content);\r\n\t}\r\n\r\n\tpublic static inline function getBytes(path:String):haxe.io.Bytes {\r\n\t\treturn Fs.readFileSync(path).hxToBytes();\r\n\t}\r\n\r\n\tpublic static inline function saveBytes(path:String, bytes:haxe.io.Bytes):Void {\r\n\t\tFs.writeFileSync(path, js.node.Buffer.hxFromBytes(bytes));\r\n\t}\r\n\r\n\tpublic static inline function update(path:String, binary:Bool = true):FileOutput {\r\n\t\treturn new FileOutput(Fs.openSync(path, ReadWrite));\r\n\t}\r\n\r\n\tstatic inline var copyBufLen = 64 * 1024;\r\n\tstatic var copyBuf = js.node.Buffer.alloc(copyBufLen);\r\n\r\n\tpublic static function copy(srcPath:String, dstPath:String):Void {\r\n\t\tvar src = Fs.openSync(srcPath, Read);\r\n\t\tvar stat = Fs.fstatSync(src);\r\n\t\tvar dst = Fs.openSync(dstPath, WriteCreate, stat.mode);\r\n\t\tvar bytesRead, pos = 0;\r\n\t\twhile ((bytesRead = Fs.readSync(src, copyBuf, 0, copyBufLen, pos)) > 0) {\r\n\t\t\tFs.writeSync(dst, copyBuf, 0, bytesRead);\r\n\t\t\tpos += bytesRead;\r\n\t\t}\r\n\t\tFs.closeSync(src);\r\n\t\tFs.closeSync(dst);\r\n\t}\r\n}\r\n","package;\r\n\r\nimport haxe.macro.Context;\r\nimport haxe.macro.Expr;\r\nimport haxe.macro.ExprTools;\r\n\r\nusing StringTools;\r\n\r\nenum QBinop {\r\n    QOpEq;\r\n    QOpAssign;\r\n    QOpBoolAnd;\r\n    QOpBoolOr;\r\n    QOpNotEq;\r\n    QOpGt;\r\n    QOpLt;\r\n    QOpGte;\r\n    QOpLte;\r\n    QOpIn;\r\n    QOpUnsupported(v:String);\r\n}\r\n\r\nenum QConstant {\r\n\tQInt(v:String);\r\n\tQFloat(f:String);\r\n\tQString(s:String);\r\n\tQIdent(s:String);\r\n}\r\n\r\nenum QueryExpr {\r\n    QueryBinop(op:QBinop, e1:QueryExpr, e2:QueryExpr);\r\n    QueryConstant(c:QConstant);\r\n    QueryParenthesis(e:QueryExpr);\r\n    #if macro\r\n    QueryValue(e:Expr);\r\n    #else\r\n    QueryValue(v:Any);\r\n    #end\r\n    QueryCall(name:String, params:Array<QueryExpr>);\r\n    QueryArrayDecl(values:Array<QueryExpr>);\r\n    QueryUnsupported(v:String);\r\n}\r\n\r\nclass Query {\r\n    public static macro function query(expr:Expr) {\r\n        var qe = exprToQueryExpr(expr);\r\n        return generate(qe);\r\n    }\r\n\r\n    public static macro function field(name:String) {\r\n        return macro \"%\" + $v{name};\r\n    }\r\n\r\n    public static function joinQueryParts(parts:Array<QueryExpr>, op:QBinop) {\r\n        var query:QueryExpr = null;\r\n        if (parts.length > 1) {\r\n            var last = parts.pop();\r\n            var beforeLast = parts.pop();\r\n            var qp = QueryBinop(op, beforeLast, last);\r\n            while (parts.length > 0) {\r\n                var q = parts.pop();\r\n                qp = QueryBinop(op, q, qp);\r\n            }\r\n            query = qp;\r\n        } else {\r\n            query = parts[0];\r\n        }\r\n        return query;\r\n    }\r\n\r\n    #if macro\r\n\r\n    private static function generate(qe:QueryExpr):haxe.macro.Expr {\r\n        return switch (qe) {\r\n            case QueryValue(e): macro Query.QueryExpr.QueryValue($e);\r\n            case QueryBinop(op, e1, e2): macro Query.QueryExpr.QueryBinop($i{haxe.EnumTools.EnumValueTools.getName(op)}, $e{generate(e1)}, $e{generate(e2)});\r\n            case QueryParenthesis(e): macro Query.QueryExpr.QueryParenthesis($e{generate(e)});\r\n            case QueryConstant(c): macro Query.QueryExpr.QueryConstant($i{haxe.EnumTools.EnumValueTools.getName(c)}($a{\r\n                haxe.EnumTools.EnumValueTools.getParameters(c).map(p -> macro $v{p})\r\n            }));\r\n            case QueryCall(name, params): macro Query.QueryExpr.QueryCall($v{name}, $v{params});\r\n            case QueryArrayDecl(values): macro Query.QueryExpr.QueryArrayDecl($v{values});\r\n            case QueryUnsupported(v): macro Query.QueryExpr.QueryUnsupported($v{v});\r\n        }\r\n    }\r\n\r\n    private static function exprToQueryExpr(e:Expr):QueryExpr {\r\n        return switch (e.expr) {\r\n            case EBinop(op, e1, e2):\r\n                var qbinop = switch (op) {\r\n                    case OpEq:          QBinop.QOpEq;\r\n                    case OpAssign:      QBinop.QOpAssign;\r\n                    case OpBoolAnd:     QBinop.QOpBoolAnd;\r\n                    case OpBoolOr:      QBinop.QOpBoolOr;\r\n                    case OpNotEq:       QBinop.QOpNotEq;\r\n                    case OpGt:          QBinop.QOpGt;\r\n                    case OpLt:          QBinop.QOpLt;\r\n                    case OpGte:         QBinop.QOpGte;\r\n                    case OpLte:         QBinop.QOpLte;\r\n                    case OpIn:          QBinop.QOpIn;\r\n                    case _:  \r\n                        trace(\"unsupported\", op, op.getName());\r\n                        QBinop.QOpUnsupported(op.getName());\r\n                }\r\n                QueryBinop(qbinop, exprToQueryExpr(e1), exprToQueryExpr(e2));\r\n            case EParenthesis(e):\r\n                QueryParenthesis(exprToQueryExpr(e));\r\n            case EConst(CIdent(s)):\r\n                if (s.startsWith(\"$\")) {\r\n                    var varName = s.substr(1);\r\n                    if (varName == \"distinct\") {\r\n                        QueryCall(varName, null);\r\n                    } else {\r\n                        QueryConstant(QIdent(varName));\r\n                    }\r\n                } else {\r\n                    QueryValue(macro @:pos(e.pos) $i{s});\r\n                }\r\n            case EConst(CInt(s)):\r\n                QueryConstant(QInt(s));\r\n            case EConst(CString(s, _)):    \r\n                QueryConstant(QString(s));\r\n            case EField(e, field):\r\n                var s = ExprTools.toString(e);\r\n                if (s.startsWith(\"$\")) {\r\n                    var varName = s.substr(1) + \".\" + field;\r\n                    QueryConstant(QIdent(varName));\r\n                } else {\r\n                    switch (exprToQueryExpr(e)) {\r\n                        case QueryValue(e):  QueryValue(macro @:pos(e.pos) $e.$field);\r\n                        case qe:             qe;\r\n                    }\r\n                }\r\n            case EArray(e1, e2):\r\n                switch (exprToQueryExpr(e1)) {\r\n                    case QueryValue(e):  QueryValue(macro @:pos(e.pos) $e[$e2]);\r\n                    case qe:             qe;\r\n                }\r\n            //case EArrayDecl(values):    \r\n\r\n            case ECall(e, params):\r\n                switch (exprToQueryExpr(e)) {\r\n                    case QueryValue(e):  QueryValue(macro @:pos(e.pos) $e($a{params}));\r\n                    case QueryCall(name, _):\r\n                        var a = [];\r\n                        for (p in params) {\r\n                            a.push(exprToQueryExpr(p));\r\n                        }\r\n                        QueryCall(name, a);\r\n                    case qe:             qe;\r\n                }\r\n\r\n            case EArrayDecl(values):    \r\n                var exprs = [];\r\n                for (v in values) {\r\n                    exprs.push(exprToQueryExpr(v));\r\n                }\r\n                QueryArrayDecl(exprs);\r\n            case _:\r\n                trace(\"unsupported:\", e.expr);\r\n                return QueryUnsupported(e.expr.getName());\r\n        }\r\n    }\r\n    #end\r\n\r\n    public static function queryExprToSql(qe:QueryExpr, values:Array<Any> = null, fieldPrefix:String = null):String {\r\n        if (qe == null) {\r\n            return null;\r\n        }\r\n        var sb = new StringBuf();\r\n        queryExprPartToSql(qe, sb, values, fieldPrefix, false);\r\n        return sb.toString();\r\n    }\r\n\r\n    private static function queryExprPartToSql(qe:QueryExpr, sb:StringBuf, values:Array<Any>, fieldPrefix:String, isColumn:Bool) {\r\n        switch (qe) {\r\n            case QueryBinop(op, e1, e2):\r\n                var isColumn2 = (op == QOpEq) || (op == QOpAssign) || (op == QOpNotEq) || (op == QOpGt) || (op == QOpLt) || (op == QOpGte) || (op == QOpLte) || (op == QOpIn);\r\n                queryExprPartToSql(e1, sb, values, fieldPrefix, isColumn2);\r\n                switch (op) {\r\n                    case QOpEq:                 sb.add(\" = \");\r\n                    case QOpAssign:             sb.add(\" = \");\r\n                    case QOpBoolAnd:            sb.add(\" AND \");\r\n                    case QOpBoolOr:             sb.add(\" OR \");\r\n                    case QOpNotEq:              sb.add(\" <> \");\r\n                    case QOpGt:                 sb.add(\" > \");\r\n                    case QOpLt:                 sb.add(\" < \");\r\n                    case QOpGte:                sb.add(\" >= \");\r\n                    case QOpLte:                sb.add(\" <= \");\r\n                    case QOpIn:                 sb.add(\" IN \");\r\n                    case QOpUnsupported(v):    \r\n                        trace(\"WARNING: unsupported binary operation encountered:\", v);\r\n                    case _:    \r\n                }\r\n                queryExprPartToSql(e2, sb, values, fieldPrefix, isColumn);\r\n            case QueryParenthesis(e):\r\n                sb.add(\"(\");\r\n                queryExprPartToSql(e, sb, values, fieldPrefix, false);\r\n                sb.add(\")\");\r\n            case QueryConstant(QIdent(s)): \r\n                sb.add(buildColumn(s, fieldPrefix));\r\n            case QueryConstant(QInt(s)):    \r\n                if (values == null) {\r\n                    sb.add(s);\r\n                } else {\r\n                    values.push(s);\r\n                    sb.add(\"?\");\r\n                }\r\n            case QueryConstant(QString(s)):\r\n                if (values == null) {\r\n                    sb.add(\"\\\"\" + s + \"\\\"\");\r\n                } else {\r\n                    values.push(s);\r\n                    sb.add(\"?\");\r\n                }\r\n            case QueryValue(v):\r\n                if ((v is Array)) {\r\n                    sb.add(\"(\");\r\n                    var array:Array<Any> = cast v;\r\n                    var newArray:Array<String> = [];\r\n                    for (a in array) {\r\n                        if (a is String) {\r\n                            newArray.push('\"${Std.string(a)}\"');\r\n                        } else {\r\n                            newArray.push(Std.string(a));\r\n                        }\r\n                    }\r\n                    sb.add(newArray.join(\", \"));\r\n                    sb.add(\")\");\r\n                } else if (values == null) {\r\n                    if (Std.string(v).startsWith(\"%\")) { // lets add a special case for %field, this is so we can construct query in macros (where $ means something different)\r\n                        sb.add(buildColumn(Std.string(v).substring(1), fieldPrefix));\r\n                    } else {\r\n                        sb.add(v);\r\n                    }\r\n                } else {\r\n                    if (Std.string(v).startsWith(\"%\")) { // lets add a special case for %field, this is so we can construct query in macros (where $ means something different)\r\n                        sb.add(buildColumn(Std.string(v).substring(1), fieldPrefix));\r\n                    } else {\r\n                        if (isColumn) {\r\n                            sb.add(buildColumn(Std.string(v), fieldPrefix));\r\n                        } else {\r\n                            if ((v is Date)) {\r\n                                var date:Date = cast v;\r\n                                var dateString = date.toString().replace(\" \", \"T\") + \"Z\";\r\n                                values.push(dateString);\r\n                            } else {\r\n                                values.push(v);\r\n                            }\r\n                            sb.add(\"?\");\r\n                        }\r\n                    }\r\n                }\r\n            case QueryCall(name, params):\r\n                sb.add(name);\r\n                sb.add(\"(\");\r\n                var paramStrings = [];\r\n                for (p in params) {\r\n                    var temp = new StringBuf();\r\n                    queryExprPartToSql(p, temp, values, fieldPrefix, false);\r\n                    paramStrings.push(temp.toString());\r\n                }\r\n                sb.add(paramStrings.join(\", \"));\r\n                sb.add(\")\");\r\n            case QueryArrayDecl(arrayValues):    \r\n                sb.add(\"(\");\r\n                var paramStrings = [];\r\n                for (av in arrayValues) {\r\n                    var temp = new StringBuf();\r\n                    queryExprPartToSql(av, temp, values, fieldPrefix, false);\r\n                    paramStrings.push(temp.toString());\r\n                }\r\n                sb.add(paramStrings.join(\", \"));\r\n                sb.add(\")\");\r\n            case QueryUnsupported(v):\r\n                trace(\"WARNING: unsupported query expression encountered:\", v);\r\n            case _:    \r\n        }\r\n    }\r\n\r\n    private static function buildColumn(s:String, fieldPrefix:String):String {\r\n        var full = s;\r\n        if (fieldPrefix != null) {\r\n            full = fieldPrefix + \".\" + s;\r\n        }\r\n        var sb:StringBuf = new StringBuf();\r\n        if (full.contains(\".\")) {\r\n            var parts = full.split(\".\");\r\n            var field = parts.pop();\r\n            sb.add(\"`\");\r\n            sb.add(parts.join(\".\"));\r\n            sb.add(\"`.`\");\r\n            sb.add(field);\r\n            sb.add(\"`\");\r\n        } else {\r\n            sb.add(full);\r\n        }\r\n        return sb.toString();\r\n    }\r\n}","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport haxe.iterators.StringIterator;\r\nimport haxe.iterators.StringKeyValueIterator;\r\n\r\n#if cpp\r\nusing cpp.NativeString;\r\n#end\r\n\r\n/**\r\n\tThis class provides advanced methods on Strings. It is ideally used with\r\n\t`using StringTools` and then acts as an [extension](https://haxe.org/manual/lf-static-extension.html)\r\n\tto the `String` class.\r\n\r\n\tIf the first argument to any of the methods is null, the result is\r\n\tunspecified.\r\n**/\r\nclass StringTools {\r\n\t/**\r\n\t\tEncode an URL by using the standard format.\r\n\t**/\r\n\t#if (!java && !cpp && !lua && !eval) inline #end public static function urlEncode(s:String):String {\r\n\t\t#if flash\r\n\t\treturn untyped __global__[\"encodeURIComponent\"](s);\r\n\t\t#elseif neko\r\n\t\treturn untyped new String(_urlEncode(s.__s));\r\n\t\t#elseif js\r\n\t\treturn untyped encodeURIComponent(s);\r\n\t\t#elseif cpp\r\n\t\treturn untyped s.__URLEncode();\r\n\t\t#elseif java\r\n\t\treturn postProcessUrlEncode(java.net.URLEncoder.encode(s, \"UTF-8\"));\r\n\t\t#elseif python\r\n\t\treturn python.lib.urllib.Parse.quote(s, \"\");\r\n\t\t#elseif hl\r\n\t\tvar len = 0;\r\n\t\tvar b = @:privateAccess s.bytes.urlEncode(len);\r\n\t\treturn @:privateAccess String.__alloc__(b, len);\r\n\t\t#elseif lua\r\n\t\ts = lua.NativeStringTools.gsub(s, \"\\n\", \"\\r\\n\");\r\n\t\ts = lua.NativeStringTools.gsub(s, \"([^%w %-%_%.%~])\", function(c) {\r\n\t\t\treturn lua.NativeStringTools.format(\"%%%02X\", lua.NativeStringTools.byte(c) + '');\r\n\t\t});\r\n\t\ts = lua.NativeStringTools.gsub(s, \" \", \"+\");\r\n\t\treturn s;\r\n\t\t#else\r\n\t\treturn null;\r\n\t\t#end\r\n\t}\r\n\r\n\t#if java\r\n\tprivate static function postProcessUrlEncode(s:String):String {\r\n\t\tvar ret = new StringBuf();\r\n\t\tvar i = 0, len = s.length;\r\n\t\twhile (i < len) {\r\n\t\t\tswitch (_charAt(s, i++)) {\r\n\t\t\t\tcase '+'.code:\r\n\t\t\t\t\tret.add('%20');\r\n\t\t\t\tcase '%'.code if (i <= len - 2):\r\n\t\t\t\t\tvar c1 = _charAt(s, i++), c2 = _charAt(s, i++);\r\n\t\t\t\t\tswitch [c1, c2] {\r\n\t\t\t\t\t\tcase ['2'.code, '1'.code]:\r\n\t\t\t\t\t\t\tret.addChar('!'.code);\r\n\t\t\t\t\t\tcase ['2'.code, '7'.code]:\r\n\t\t\t\t\t\t\tret.addChar('\\''.code);\r\n\t\t\t\t\t\tcase ['2'.code, '8'.code]:\r\n\t\t\t\t\t\t\tret.addChar('('.code);\r\n\t\t\t\t\t\tcase ['2'.code, '9'.code]:\r\n\t\t\t\t\t\t\tret.addChar(')'.code);\r\n\t\t\t\t\t\tcase ['7'.code, 'E'.code] | ['7'.code, 'e'.code]:\r\n\t\t\t\t\t\t\tret.addChar('~'.code);\r\n\t\t\t\t\t\tcase _:\r\n\t\t\t\t\t\t\tret.addChar('%'.code);\r\n\t\t\t\t\t\t\tret.addChar(cast c1);\r\n\t\t\t\t\t\t\tret.addChar(cast c2);\r\n\t\t\t\t\t}\r\n\t\t\t\tcase var chr:\r\n\t\t\t\t\tret.addChar(cast chr);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ret.toString();\r\n\t}\r\n\t#end\r\n\r\n\t/**\r\n\t\tDecode an URL using the standard format.\r\n\t**/\r\n\t#if (!java && !cpp && !lua && !eval) inline #end public static function urlDecode(s:String):String {\r\n\t\t#if flash\r\n\t\treturn untyped __global__[\"decodeURIComponent\"](s.split(\"+\").join(\" \"));\r\n\t\t#elseif neko\r\n\t\treturn untyped new String(_urlDecode(s.__s));\r\n\t\t#elseif js\r\n\t\treturn untyped decodeURIComponent(s.split(\"+\").join(\" \"));\r\n\t\t#elseif cpp\r\n\t\treturn untyped s.__URLDecode();\r\n\t\t#elseif java\r\n\t\ttry\r\n\t\t\treturn java.net.URLDecoder.decode(s, \"UTF-8\")\r\n\t\tcatch (e:Dynamic)\r\n\t\t\tthrow e;\r\n\t\t#elseif python\r\n\t\treturn python.lib.urllib.Parse.unquote(s);\r\n\t\t#elseif hl\r\n\t\tvar len = 0;\r\n\t\tvar b = @:privateAccess s.bytes.urlDecode(len);\r\n\t\treturn @:privateAccess String.__alloc__(b, len);\r\n\t\t#elseif lua\r\n\t\ts = lua.NativeStringTools.gsub(s, \"+\", \" \");\r\n\t\ts = lua.NativeStringTools.gsub(s, \"%%(%x%x)\", function(h) {\r\n\t\t\treturn lua.NativeStringTools.char(lua.Lua.tonumber(h, 16));\r\n\t\t});\r\n\t\ts = lua.NativeStringTools.gsub(s, \"\\r\\n\", \"\\n\");\r\n\t\treturn s;\r\n\t\t#else\r\n\t\treturn null;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tEscapes HTML special characters of the string `s`.\r\n\r\n\t\tThe following replacements are made:\r\n\r\n\t\t- `&` becomes `&amp`;\r\n\t\t- `<` becomes `&lt`;\r\n\t\t- `>` becomes `&gt`;\r\n\r\n\t\tIf `quotes` is true, the following characters are also replaced:\r\n\r\n\t\t- `\"` becomes `&quot`;\r\n\t\t- `'` becomes `&#039`;\r\n\t**/\r\n\tpublic static function htmlEscape(s:String, ?quotes:Bool):String {\r\n\t\tvar buf = new StringBuf();\r\n\t\tfor (code in #if neko iterator(s) #else new haxe.iterators.StringIteratorUnicode(s) #end) {\r\n\t\t\tswitch (code) {\r\n\t\t\t\tcase '&'.code:\r\n\t\t\t\t\tbuf.add(\"&amp;\");\r\n\t\t\t\tcase '<'.code:\r\n\t\t\t\t\tbuf.add(\"&lt;\");\r\n\t\t\t\tcase '>'.code:\r\n\t\t\t\t\tbuf.add(\"&gt;\");\r\n\t\t\t\tcase '\"'.code if (quotes):\r\n\t\t\t\t\tbuf.add(\"&quot;\");\r\n\t\t\t\tcase '\\''.code if (quotes):\r\n\t\t\t\t\tbuf.add(\"&#039;\");\r\n\t\t\t\tcase _:\r\n\t\t\t\t\tbuf.addChar(code);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn buf.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tUnescapes HTML special characters of the string `s`.\r\n\r\n\t\tThis is the inverse operation to htmlEscape, i.e. the following always\r\n\t\tholds: `htmlUnescape(htmlEscape(s)) == s`\r\n\r\n\t\tThe replacements follow:\r\n\r\n\t\t- `&amp;` becomes `&`\r\n\t\t- `&lt;` becomes `<`\r\n\t\t- `&gt;` becomes `>`\r\n\t\t- `&quot;` becomes `\"`\r\n\t\t- `&#039;` becomes `'`\r\n\t**/\r\n\tpublic static function htmlUnescape(s:String):String {\r\n\t\treturn s.split(\"&gt;\")\r\n\t\t\t.join(\">\")\r\n\t\t\t.split(\"&lt;\")\r\n\t\t\t.join(\"<\")\r\n\t\t\t.split(\"&quot;\")\r\n\t\t\t.join('\"')\r\n\t\t\t.split(\"&#039;\")\r\n\t\t\t.join(\"'\")\r\n\t\t\t.split(\"&amp;\")\r\n\t\t\t.join(\"&\");\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns `true` if `s` contains `value` and  `false` otherwise.\r\n\r\n\t\tWhen `value` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static inline function contains(s:String, value:String):Bool {\r\n\t\t#if (js && js_es >= 6)\r\n\t\treturn (cast s).includes(value);\r\n\t\t#else\r\n\t\treturn s.indexOf(value) != -1;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if the string `s` starts with the string `start`.\r\n\r\n\t\tIf `start` is `null`, the result is unspecified.\r\n\r\n\t\tIf `start` is the empty String `\"\"`, the result is true.\r\n\t**/\r\n\tpublic static #if (java || python || (js && js_es >= 6)) inline #end function startsWith(s:String, start:String):Bool {\r\n\t\t#if java\r\n\t\treturn (cast s : java.NativeString).startsWith(start);\r\n\t\t#elseif hl\r\n\t\treturn @:privateAccess (s.length >= start.length && s.bytes.compare(0, start.bytes, 0, start.length << 1) == 0);\r\n\t\t#elseif python\r\n\t\treturn python.NativeStringTools.startswith(s, start);\r\n\t\t#elseif (js && js_es >= 6)\r\n\t\treturn (cast s).startsWith(start);\r\n\t\t#elseif lua\r\n\t\treturn untyped __lua__(\"{0}:sub(1, #{1}) == {1}\", s, start);\r\n\t\t#else\r\n\t\treturn (s.length >= start.length && s.lastIndexOf(start, 0) == 0);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if the string `s` ends with the string `end`.\r\n\r\n\t\tIf `end` is `null`, the result is unspecified.\r\n\r\n\t\tIf `end` is the empty String `\"\"`, the result is true.\r\n\t**/\r\n\tpublic static #if (java || python || (js && js_es >= 6)) inline #end function endsWith(s:String, end:String):Bool {\r\n\t\t#if java\r\n\t\treturn (cast s : java.NativeString).endsWith(end);\r\n\t\t#elseif hl\r\n\t\tvar elen = end.length;\r\n\t\tvar slen = s.length;\r\n\t\treturn @:privateAccess (slen >= elen && s.bytes.compare((slen - elen) << 1, end.bytes, 0, elen << 1) == 0);\r\n\t\t#elseif python\r\n\t\treturn python.NativeStringTools.endswith(s, end);\r\n\t\t#elseif (js && js_es >= 6)\r\n\t\treturn (cast s).endsWith(end);\r\n\t\t#elseif lua\r\n\t\treturn end == \"\" || untyped __lua__(\"{0}:sub(-#{1}) == {1}\", s, end);\r\n\t\t#else\r\n\t\tvar elen = end.length;\r\n\t\tvar slen = s.length;\r\n\t\treturn (slen >= elen && s.indexOf(end, (slen - elen)) == (slen - elen));\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if the character in the string `s` at position `pos` is a space.\r\n\r\n\t\tA character is considered to be a space character if its character code\r\n\t\tis 9,10,11,12,13 or 32.\r\n\r\n\t\tIf `s` is the empty String `\"\"`, or if pos is not a valid position within\r\n\t\t`s`, the result is false.\r\n\t**/\r\n\tpublic static function isSpace(s:String, pos:Int):Bool {\r\n\t\t#if (python || lua)\r\n\t\tif (s.length == 0 || pos < 0 || pos >= s.length)\r\n\t\t\treturn false;\r\n\t\t#end\r\n\t\tvar c = s.charCodeAt(pos);\r\n\t\treturn (c > 8 && c < 14) || c == 32;\r\n\t}\r\n\r\n\t/**\r\n\t\tRemoves leading space characters of `s`.\r\n\r\n\t\tThis function internally calls `isSpace()` to decide which characters to\r\n\t\tremove.\r\n\r\n\t\tIf `s` is the empty String `\"\"` or consists only of space characters, the\r\n\t\tresult is the empty String `\"\"`.\r\n\t**/\r\n\tpublic inline static function ltrim(s:String):String {\r\n\t\tvar l = s.length;\r\n\t\tvar r = 0;\r\n\t\twhile (r < l && isSpace(s, r)) {\r\n\t\t\tr++;\r\n\t\t}\r\n\t\tif (r > 0)\r\n\t\t\treturn s.substr(r, l - r);\r\n\t\telse\r\n\t\t\treturn s;\r\n\t}\r\n\r\n\t/**\r\n\t\tRemoves trailing space characters of `s`.\r\n\r\n\t\tThis function internally calls `isSpace()` to decide which characters to\r\n\t\tremove.\r\n\r\n\t\tIf `s` is the empty String `\"\"` or consists only of space characters, the\r\n\t\tresult is the empty String `\"\"`.\r\n\t**/\r\n\tpublic inline static function rtrim(s:String):String {\r\n\t\tvar l = s.length;\r\n\t\tvar r = 0;\r\n\t\twhile (r < l && isSpace(s, l - r - 1)) {\r\n\t\t\tr++;\r\n\t\t}\r\n\t\tif (r > 0) {\r\n\t\t\treturn s.substr(0, l - r);\r\n\t\t} else {\r\n\t\t\treturn s;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tRemoves leading and trailing space characters of `s`.\r\n\r\n\t\tThis is a convenience function for `ltrim(rtrim(s))`.\r\n\t**/\r\n\tpublic #if java inline #end static function trim(s:String):String {\r\n\t\t#if java\r\n\t\treturn (cast s : java.NativeString).trim();\r\n\t\t#else\r\n\t\treturn ltrim(rtrim(s));\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tConcatenates `c` to `s` until `s.length` is at least `l`.\r\n\r\n\t\tIf `c` is the empty String `\"\"` or if `l` does not exceed `s.length`,\r\n\t\t`s` is returned unchanged.\r\n\r\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\r\n\r\n\t\tOtherwise the length may exceed `l`.\r\n\r\n\t\tIf `c` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static function lpad(s:String, c:String, l:Int):String {\r\n\t\tif (c.length <= 0)\r\n\t\t\treturn s;\r\n\r\n\t\tvar buf = new StringBuf();\r\n\t\tl -= s.length;\r\n\t\twhile (buf.length < l) {\r\n\t\t\tbuf.add(c);\r\n\t\t}\r\n\t\tbuf.add(s);\r\n\t\treturn buf.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tAppends `c` to `s` until `s.length` is at least `l`.\r\n\r\n\t\tIf `c` is the empty String `\"\"` or if `l` does not exceed `s.length`,\r\n\t\t`s` is returned unchanged.\r\n\r\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\r\n\r\n\t\tOtherwise the length may exceed `l`.\r\n\r\n\t\tIf `c` is null, the result is unspecified.\r\n\t**/\r\n\tpublic static function rpad(s:String, c:String, l:Int):String {\r\n\t\tif (c.length <= 0)\r\n\t\t\treturn s;\r\n\r\n\t\tvar buf = new StringBuf();\r\n\t\tbuf.add(s);\r\n\t\twhile (buf.length < l) {\r\n\t\t\tbuf.add(c);\r\n\t\t}\r\n\t\treturn buf.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tReplace all occurrences of the String `sub` in the String `s` by the\r\n\t\tString `by`.\r\n\r\n\t\tIf `sub` is the empty String `\"\"`, `by` is inserted after each character\r\n\t\tof `s` except the last one. If `by` is also the empty String `\"\"`, `s`\r\n\t\tremains unchanged.\r\n\r\n\t\tIf `sub` or `by` are null, the result is unspecified.\r\n\t**/\r\n\tpublic static function replace(s:String, sub:String, by:String):String {\r\n\t\t#if java\r\n\t\tif (sub.length == 0)\r\n\t\t\treturn s.split(sub).join(by);\r\n\t\telse\r\n\t\t\treturn (cast s : java.NativeString).replace(sub, by);\r\n\t\t#else\r\n\t\treturn s.split(sub).join(by);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tEncodes `n` into a hexadecimal representation.\r\n\r\n\t\tIf `digits` is specified, the resulting String is padded with \"0\" until\r\n\t\tits `length` equals `digits`.\r\n\t**/\r\n\tpublic static function hex(n:Int, ?digits:Int) {\r\n\t\t#if flash\r\n\t\tvar n:UInt = n;\r\n\t\tvar s:String = untyped n.toString(16);\r\n\t\ts = s.toUpperCase();\r\n\t\t#else\r\n\t\tvar s = \"\";\r\n\t\tvar hexChars = \"0123456789ABCDEF\";\r\n\t\tdo {\r\n\t\t\ts = hexChars.charAt(n & 15) + s;\r\n\t\t\tn >>>= 4;\r\n\t\t} while (n > 0);\r\n\t\t#end\r\n\t\t#if python\r\n\t\tif (digits != null && s.length < digits) {\r\n\t\t\tvar diff = digits - s.length;\r\n\t\t\tfor (_ in 0...diff) {\r\n\t\t\t\ts = \"0\" + s;\r\n\t\t\t}\r\n\t\t}\r\n\t\t#else\r\n\t\tif (digits != null)\r\n\t\t\twhile (s.length < digits)\r\n\t\t\t\ts = \"0\" + s;\r\n\t\t#end\r\n\t\treturn s;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the character code at position `index` of String `s`, or an\r\n\t\tend-of-file indicator at if `position` equals `s.length`.\r\n\r\n\t\tThis method is faster than `String.charCodeAt()` on some platforms, but\r\n\t\tthe result is unspecified if `index` is negative or greater than\r\n\t\t`s.length`.\r\n\r\n\t\tEnd of file status can be checked by calling `StringTools.isEof()` with\r\n\t\tthe returned value as argument.\r\n\r\n\t\tThis operation is not guaranteed to work if `s` contains the `\\0`\r\n\t\tcharacter.\r\n\t**/\r\n\tpublic static #if !eval inline #end function fastCodeAt(s:String, index:Int):Int {\r\n\t\t#if neko\r\n\t\treturn untyped __dollar__sget(s.__s, index);\r\n\t\t#elseif cpp\r\n\t\treturn untyped s.cca(index);\r\n\t\t#elseif flash\r\n\t\treturn untyped s.cca(index);\r\n\t\t#elseif java\r\n\t\treturn (index < s.length) ? cast(_charAt(s, index), Int) : -1;\r\n\t\t#elseif js\r\n\t\treturn (cast s).charCodeAt(index);\r\n\t\t#elseif python\r\n\t\treturn if (index >= s.length) -1 else python.internal.UBuiltins.ord(python.Syntax.arrayAccess(s, index));\r\n\t\t#elseif hl\r\n\t\treturn @:privateAccess s.bytes.getUI16(index << 1);\r\n\t\t#elseif lua\r\n\t\t#if lua_vanilla\r\n\t\treturn lua.NativeStringTools.byte(s, index + 1);\r\n\t\t#else\r\n\t\treturn lua.lib.luautf8.Utf8.byte(s, index + 1);\r\n\t\t#end\r\n\t\t#else\r\n\t\treturn untyped s.cca(index);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the character code at position `index` of String `s`, or an\r\n\t\tend-of-file indicator at if `position` equals `s.length`.\r\n\r\n\t\tThis method is faster than `String.charCodeAt()` on some platforms, but\r\n\t\tthe result is unspecified if `index` is negative or greater than\r\n\t\t`s.length`.\r\n\r\n\t\tThis operation is not guaranteed to work if `s` contains the `\\0`\r\n\t\tcharacter.\r\n\t**/\r\n\tpublic static #if !eval inline #end function unsafeCodeAt(s:String, index:Int):Int {\r\n\t\t#if neko\r\n\t\treturn untyped __dollar__sget(s.__s, index);\r\n\t\t#elseif cpp\r\n\t\treturn untyped s.cca(index);\r\n\t\t#elseif flash\r\n\t\treturn untyped s.cca(index);\r\n\t\t#elseif java\r\n\t\treturn cast(_charAt(s, index), Int);\r\n\t\t#elseif js\r\n\t\treturn (cast s).charCodeAt(index);\r\n\t\t#elseif python\r\n\t\treturn python.internal.UBuiltins.ord(python.Syntax.arrayAccess(s, index));\r\n\t\t#elseif hl\r\n\t\treturn @:privateAccess s.bytes.getUI16(index << 1);\r\n\t\t#elseif lua\r\n\t\t#if lua_vanilla\r\n\t\treturn lua.NativeStringTools.byte(s, index + 1);\r\n\t\t#else\r\n\t\treturn lua.lib.luautf8.Utf8.byte(s, index + 1);\r\n\t\t#end\r\n\t\t#else\r\n\t\treturn untyped s.cca(index);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns an iterator of the char codes.\r\n\r\n\t\tNote that char codes may differ across platforms because of different\r\n\t\tinternal encoding of strings in different runtimes.\r\n\t\tFor the consistent cross-platform UTF8 char codes see `haxe.iterators.StringIteratorUnicode`.\r\n\t**/\r\n\tpublic static inline function iterator(s:String):StringIterator {\r\n\t\treturn new StringIterator(s);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns an iterator of the char indexes and codes.\r\n\r\n\t\tNote that char codes may differ across platforms because of different\r\n\t\tinternal encoding of strings in different of runtimes.\r\n\t\tFor the consistent cross-platform UTF8 char codes see `haxe.iterators.StringKeyValueIteratorUnicode`.\r\n\t**/\r\n\tpublic static inline function keyValueIterator(s:String):StringKeyValueIterator {\r\n\t\treturn new StringKeyValueIterator(s);\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if `c` represents the end-of-file (EOF) character.\r\n\t**/\r\n\t@:noUsing public static inline function isEof(c:Int):Bool {\r\n\t\t#if (flash || cpp || hl)\r\n\t\treturn c == 0;\r\n\t\t#elseif js\r\n\t\treturn c != c; // fast NaN\r\n\t\t#elseif (neko || lua || eval)\r\n\t\treturn c == null;\r\n\t\t#elseif (java || python)\r\n\t\treturn c == -1;\r\n\t\t#else\r\n\t\treturn false;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a String that can be used as a single command line argument\r\n\t\ton Unix.\r\n\t\tThe input will be quoted, or escaped if necessary.\r\n\t**/\r\n\t@:noCompletion\r\n\t@:deprecated('StringTools.quoteUnixArg() is deprecated. Use haxe.SysTools.quoteUnixArg() instead.')\r\n\tpublic static function quoteUnixArg(argument:String):String {\r\n\t\treturn inline haxe.SysTools.quoteUnixArg(argument);\r\n\t}\r\n\r\n\t/**\r\n\t\tCharacter codes of the characters that will be escaped by `quoteWinArg(_, true)`.\r\n\t**/\r\n\t@:noCompletion\r\n\t@:deprecated('StringTools.winMetaCharacters is deprecated. Use haxe.SysTools.winMetaCharacters instead.')\r\n\tpublic static var winMetaCharacters:Array<Int> = cast haxe.SysTools.winMetaCharacters;\r\n\r\n\t/**\r\n\t\tReturns a String that can be used as a single command line argument\r\n\t\ton Windows.\r\n\t\tThe input will be quoted, or escaped if necessary, such that the output\r\n\t\twill be parsed as a single argument using the rule specified in\r\n\t\thttp://msdn.microsoft.com/en-us/library/ms880421\r\n\r\n\t\tExamples:\r\n\t\t```haxe\r\n\t\tquoteWinArg(\"abc\") == \"abc\";\r\n\t\tquoteWinArg(\"ab c\") == '\"ab c\"';\r\n\t\t```\r\n\t**/\r\n\t@:noCompletion\r\n\t@:deprecated('StringTools.quoteWinArg() is deprecated. Use haxe.SysTools.quoteWinArg() instead.')\r\n\tpublic static function quoteWinArg(argument:String, escapeMetaCharacters:Bool):String {\r\n\t\treturn inline haxe.SysTools.quoteWinArg(argument, escapeMetaCharacters);\r\n\t}\r\n\r\n\t#if java\r\n\tprivate static inline function _charAt(str:String, idx:Int):java.StdTypes.Char16\r\n\t\treturn (cast str : java.NativeString).charAt(idx);\r\n\t#end\r\n\r\n\t#if neko\r\n\tprivate static var _urlEncode = neko.Lib.load(\"std\", \"url_encode\", 1);\r\n\tprivate static var _urlDecode = neko.Lib.load(\"std\", \"url_decode\", 1);\r\n\t#end\r\n\r\n\t#if utf16\r\n\tstatic inline var MIN_SURROGATE_CODE_POINT = 65536;\r\n\r\n\tstatic inline function utf16CodePointAt(s:String, index:Int):Int {\r\n\t\tvar c = StringTools.fastCodeAt(s, index);\r\n\t\tif (c >= 0xD800 && c <= 0xDBFF) {\r\n\t\t\tc = ((c - 0xD7C0) << 10) | (StringTools.fastCodeAt(s, index + 1) & 0x3FF);\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\t#end\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n@:coreApi class Reflect {\r\n\t@:pure\r\n\tpublic inline static function hasField(o:Dynamic, field:String):Bool {\r\n\t\treturn js.lib.Object.prototype.hasOwnProperty.call(o, field);\r\n\t}\r\n\r\n\t@:pure\r\n\tpublic static function field(o:Dynamic, field:String):Dynamic {\r\n\t\ttry\r\n\t\t\treturn o[cast field]\r\n\t\tcatch (e:Dynamic)\r\n\t\t\treturn null;\r\n\t}\r\n\r\n\tpublic inline static function setField(o:Dynamic, field:String, value:Dynamic):Void {\r\n\t\to[cast field] = value;\r\n\t}\r\n\r\n\tpublic static function getProperty(o:Dynamic, field:String):Dynamic\r\n\t\tuntyped {\r\n\t\t\tvar tmp;\r\n\t\t\treturn if (o == null) __define_feature__(\"Reflect.getProperty\",\r\n\t\t\t\tnull) else if (o.__properties__ && (tmp = o.__properties__[\"get_\" + field])) o[tmp]() else o[field];\r\n\t\t}\r\n\r\n\tpublic static function setProperty(o:Dynamic, field:String, value:Dynamic):Void\r\n\t\tuntyped {\r\n\t\t\tvar tmp;\r\n\t\t\tif (o.__properties__ && (tmp = o.__properties__[\"set_\" + field]))\r\n\t\t\t\to[tmp](value)\r\n\t\t\telse\r\n\t\t\t\to[field] = __define_feature__(\"Reflect.setProperty\", value);\r\n\t\t}\r\n\r\n\tpublic inline static function callMethod(o:Dynamic, func:haxe.Constraints.Function, args:Array<Dynamic>):Dynamic {\r\n\t\treturn (cast func : js.lib.Function).apply(o, args);\r\n\t}\r\n\r\n\tpublic static function fields(o:Dynamic):Array<String> {\r\n\t\tvar a = [];\r\n\t\tif (o != null)\r\n\t\t\tuntyped {\r\n\t\t\t\tvar hasOwnProperty = js.lib.Object.prototype.hasOwnProperty;\r\n\t\t\t\tjs.Syntax.code(\"for( var f in o ) {\");\r\n\t\t\t\tif (f != \"__id__\" && f != \"hx__closures__\" && hasOwnProperty.call(o, f))\r\n\t\t\t\t\ta.push(f);\r\n\t\t\t\tjs.Syntax.code(\"}\");\r\n\t\t\t}\r\n\t\treturn a;\r\n\t}\r\n\r\n\t@:access(js.Boot)\r\n\tpublic static function isFunction(f:Dynamic):Bool {\r\n\t\treturn js.Syntax.typeof(f) == \"function\" && !(js.Boot.isClass(f) || js.Boot.isEnum(f));\r\n\t}\r\n\r\n\tpublic static function compare<T>(a:T, b:T):Int {\r\n\t\treturn (a == b) ? 0 : (((cast a) > (cast b)) ? 1 : -1);\r\n\t}\r\n\r\n\tpublic static inline function compareMethods(f1:Dynamic, f2:Dynamic):Bool {\r\n\t\treturn f1 == f2;\r\n\t}\r\n\r\n\t@:access(js.Boot)\r\n\tpublic static function isObject(v:Dynamic):Bool {\r\n\t\tif (v == null)\r\n\t\t\treturn false;\r\n\t\tvar t = js.Syntax.typeof(v);\r\n\t\treturn (t == \"string\" || (t == \"object\" && v.__enum__ == null))\r\n\t\t\t|| (t == \"function\" && (js.Boot.isClass(v) || js.Boot.isEnum(v)) != null);\r\n\t}\r\n\r\n\tpublic static function isEnumValue(v:Dynamic):Bool {\r\n\t\treturn v != null && v.__enum__ != null;\r\n\t}\r\n\r\n\tpublic static function deleteField(o:Dynamic, field:String):Bool {\r\n\t\tif (!hasField(o, field))\r\n\t\t\treturn false;\r\n\t\tjs.Syntax.delete(o, field);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic static function copy<T>(o:Null<T>):Null<T> {\r\n\t\tif (o == null)\r\n\t\t\treturn null;\r\n\t\tvar o2:Dynamic = {};\r\n\t\tfor (f in Reflect.fields(o))\r\n\t\t\tReflect.setField(o2, f, Reflect.field(o, f));\r\n\t\treturn o2;\r\n\t}\r\n\r\n\t@:overload(function(f:Array<Dynamic>->Void):Dynamic {})\r\n\tpublic static function makeVarArgs(f:Array<Dynamic>->Dynamic):Dynamic {\r\n\t\treturn function() {\r\n\t\t\tvar a = untyped Array.prototype.slice.call(js.Syntax.code(\"arguments\"));\r\n\t\t\treturn f(a);\r\n\t\t};\r\n\t}\r\n}\r\n","package haxe;\r\n\r\nimport js.Syntax;\r\nimport js.lib.Error;\r\nimport haxe.CallStack.StackItem;\r\n\r\n// https://v8.dev/docs/stack-trace-api\r\n@:native(\"Error\")\r\nprivate extern class V8Error {\r\n\tstatic var prepareStackTrace:(error:Error, structuredStackTrace:Array<V8CallSite>)->Any;\r\n}\r\n\r\ntypedef V8CallSite = {\r\n\tfunction getFunctionName():String;\r\n\tfunction getFileName():String;\r\n\tfunction getLineNumber():Int;\r\n\tfunction getColumnNumber():Int;\r\n}\r\n\r\n/**\r\n\tDo not use manually.\r\n**/\r\n@:dox(hide)\r\n@:noCompletion\r\n@:allow(haxe.Exception)\r\nclass NativeStackTrace {\r\n\tstatic var lastError:Error;\r\n\r\n\t// support for source-map-support module\r\n\t@:noCompletion\r\n\tpublic static var wrapCallSite:V8CallSite->V8CallSite;\r\n\r\n\t@:ifFeature('haxe.NativeStackTrace.exceptionStack')\r\n\tstatic public inline function saveStack(e:Error):Void {\r\n\t\tlastError = e;\r\n\t}\r\n\r\n\tstatic public function callStack():Any {\r\n\t\tvar e:Null<Error> = new Error('');\r\n\t\tvar stack = tryHaxeStack(e);\r\n\t\t//Internet Explorer provides call stack only if error was thrown\r\n\t\tif(Syntax.typeof(stack) == \"undefined\") {\r\n\t\t\ttry throw e catch(e:Exception) {}\r\n\t\t\tstack = e.stack;\r\n\t\t}\r\n\t\treturn normalize(stack, 2);\r\n\t}\r\n\r\n\tstatic public function exceptionStack():Any {\r\n\t\treturn normalize(tryHaxeStack(lastError));\r\n\t}\r\n\r\n\tstatic public function toHaxe(s:Null<Any>, skip:Int = 0):Array<StackItem> {\r\n\t\tif (s == null) {\r\n\t\t\treturn [];\r\n\t\t} else if (Syntax.typeof(s) == \"string\") {\r\n\t\t\t// Return the raw lines in browsers that don't support prepareStackTrace\r\n\t\t\tvar stack:Array<String> = (s:String).split(\"\\n\");\r\n\t\t\tif (stack[0] == \"Error\")\r\n\t\t\t\tstack.shift();\r\n\t\t\tvar m = [];\r\n\t\t\tfor (i in 0...stack.length) {\r\n\t\t\t\tif(skip > i) continue;\r\n\t\t\t\tvar line = stack[i];\r\n\t\t\t\tvar matched:Null<Array<String>> = Syntax.code(\"{0}.match(/^    at ([$A-Za-z0-9_. ]+) \\\\(([^)]+):([0-9]+):([0-9]+)\\\\)$/)\", line);\r\n\t\t\t\tif (matched != null) {\r\n\t\t\t\t\tvar path = matched[1].split(\".\");\r\n\t\t\t\t\tif(path[0] == \"$hxClasses\") {\r\n\t\t\t\t\t\tpath.shift();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar meth = path.pop();\r\n\t\t\t\t\tvar file = matched[2];\r\n\t\t\t\t\tvar line = Std.parseInt(matched[3]);\r\n\t\t\t\t\tvar column = Std.parseInt(matched[4]);\r\n\t\t\t\t\tm.push(FilePos(meth == \"Anonymous function\" ? LocalFunction() : meth == \"Global code\" ? null : Method(path.join(\".\"), meth), file, line,\r\n\t\t\t\t\t\tcolumn));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tm.push(Module(StringTools.trim(line))); // A little weird, but better than nothing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn m;\r\n\t\t} else if(skip > 0 && Syntax.code('Array.isArray({0})', s)) {\r\n\t\t\treturn (s:Array<StackItem>).slice(skip);\r\n\t\t} else {\r\n\t\t\treturn cast s;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic function tryHaxeStack(e:Null<Error>):Any {\r\n\t\tif (e == null) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\t// https://v8.dev/docs/stack-trace-api\r\n\t\tvar oldValue = V8Error.prepareStackTrace;\r\n\t\tV8Error.prepareStackTrace = prepareHxStackTrace;\r\n\t\tvar stack = e.stack;\r\n\t\tV8Error.prepareStackTrace = oldValue;\r\n\t\treturn stack;\r\n\t}\r\n\r\n\tstatic function prepareHxStackTrace(e:Error, callsites:Array<V8CallSite>):Any {\r\n\t\tvar stack = [];\r\n\t\tfor (site in callsites) {\r\n\t\t\tif (wrapCallSite != null)\r\n\t\t\t\tsite = wrapCallSite(site);\r\n\t\t\tvar method = null;\r\n\t\t\tvar fullName = site.getFunctionName();\r\n\t\t\tif (fullName != null) {\r\n\t\t\t\tvar idx = fullName.lastIndexOf(\".\");\r\n\t\t\t\tif (idx >= 0) {\r\n\t\t\t\t\tvar className = fullName.substring(0, idx);\r\n\t\t\t\t\tvar methodName = fullName.substring(idx + 1);\r\n\t\t\t\t\tmethod = Method(className, methodName);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmethod = Method(null, fullName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar fileName = site.getFileName();\r\n\t\t\tvar fileAddr = fileName == null ? -1 : fileName.indexOf(\"file:\");\r\n\t\t\tif (wrapCallSite != null && fileAddr > 0)\r\n\t\t\t\tfileName = fileName.substring(fileAddr + 6);\r\n\t\t\tstack.push(FilePos(method, fileName, site.getLineNumber(), site.getColumnNumber()));\r\n\t\t}\r\n\t\treturn stack;\r\n\t}\r\n\r\n\tstatic function normalize(stack:Any, skipItems:Int = 0):Any {\r\n\t\tif(Syntax.code('Array.isArray({0})', stack) && skipItems > 0) {\r\n\t\t\treturn (stack:Array<StackItem>).slice(skipItems);\r\n\t\t} else if(Syntax.typeof(stack) == \"string\") {\r\n\t\t\tswitch (stack:String).substring(0, 6) {\r\n\t\t\t\tcase 'Error:' | 'Error\\n': skipItems += 1;\r\n\t\t\t\tcase _:\r\n\t\t\t}\r\n\t\t\treturn skipLines(stack, skipItems);\r\n\t\t} else {\r\n\t\t\t//nothing we can do\r\n\t\t\treturn stack;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic function skipLines(stack:String, skip:Int, pos:Int = 0):String {\r\n\t\treturn if(skip > 0) {\r\n\t\t\tpos = stack.indexOf('\\n', pos);\r\n\t\t\treturn pos < 0 ? '' : skipLines(stack, --skip, pos + 1);\r\n\t\t} else {\r\n\t\t\treturn stack.substring(pos);\r\n\t\t}\r\n\t}\r\n}","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js;\r\n\r\nimport js.Syntax; // import it here so it's always available in the compiler\r\n\r\n@:dox(hide)\r\nclass Boot {\r\n\tstatic inline function isClass(o:Dynamic):Bool {\r\n\t\treturn untyped __define_feature__(\"js.Boot.isClass\", o.__name__);\r\n\t}\r\n\r\n\tstatic inline function isInterface(o:Class<Dynamic>):Bool {\r\n\t\treturn untyped __define_feature__(\"js.Boot.isInterface\", o.__isInterface__);\r\n\t}\r\n\r\n\tstatic inline function isEnum(e:Dynamic):Bool {\r\n\t\treturn untyped __define_feature__(\"js.Boot.isEnum\", e.__ename__);\r\n\t}\r\n\r\n\t@:pure static function getClass(o:Null<Dynamic>):Null<Dynamic> {\r\n\t\tif (o == null) {\r\n\t\t\treturn null;\r\n\t\t} else if (Std.isOfType(o, Array)) {\r\n\t\t\treturn Array;\r\n\t\t} else {\r\n\t\t\tvar cl = untyped __define_feature__(\"js.Boot.getClass\", o.__class__);\r\n\t\t\tif (cl != null)\r\n\t\t\t\treturn cl;\r\n\t\t\tvar name = __nativeClassName(o);\r\n\t\t\tif (name != null)\r\n\t\t\t\treturn __resolveNativeClass(name);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t@:ifFeature(\"has_enum\")\r\n\tprivate static function __string_rec(o, s:String) {\r\n\t\tuntyped {\r\n\t\t\tif (o == null)\r\n\t\t\t\treturn \"null\";\r\n\t\t\tif (s.length >= 5)\r\n\t\t\t\treturn \"<...>\"; // too much deep recursion\r\n\t\t\tvar t = js.Syntax.typeof(o);\r\n\t\t\tif (t == \"function\" && (isClass(o) || isEnum(o)))\r\n\t\t\t\tt = \"object\";\r\n\t\t\tswitch (t) {\r\n\t\t\t\tcase \"object\":\r\n\t\t\t\t\t#if !js_enums_as_arrays\r\n\t\t\t\t\t__feature__(\"has_enum\", if (o.__enum__) {\r\n\t\t\t\t\t\tvar e = $hxEnums[o.__enum__];\r\n\t\t\t\t\t\tvar con = e.__constructs__[o._hx_index];\r\n\t\t\t\t\t\tvar n = con._hx_name;\r\n\t\t\t\t\t\tif (o.__params__) {\r\n\t\t\t\t\t\t\ts += \"\\t\";\r\n\t\t\t\t\t\t\tvar params:Array<Any> = o.__params__();\r\n\t\t\t\t\t\t\tfor (i in 0...params.length)\r\n\t\t\t\t\t\t\t\tparams[i] = __string_rec(params[i], s);\r\n\t\t\t\t\t\t\treturn n + \"(\" + params.join(\",\") + \")\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn n;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t#end\r\n\t\t\t\t\tif (js.Syntax.instanceof(o, Array)) {\r\n\t\t\t\t\t\t#if js_enums_as_arrays\r\n\t\t\t\t\t\t__feature__(\"has_enum\", if (o.__enum__) {\r\n\t\t\t\t\t\t\tif (o.length == 2)\r\n\t\t\t\t\t\t\t\treturn o[0];\r\n\t\t\t\t\t\t\tvar str = o[0] + \"(\";\r\n\t\t\t\t\t\t\ts += \"\\t\";\r\n\t\t\t\t\t\t\tfor (i in 2...o.length) {\r\n\t\t\t\t\t\t\t\tif (i != 2)\r\n\t\t\t\t\t\t\t\t\tstr += \",\" + __string_rec(o[i], s);\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\tstr += __string_rec(o[i], s);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn str + \")\";\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t#end\r\n\t\t\t\t\t\tvar str = \"[\";\r\n\t\t\t\t\t\ts += \"\\t\";\r\n\t\t\t\t\t\tfor (i in 0...o.length)\r\n\t\t\t\t\t\t\tstr += (if (i > 0) \",\" else \"\") + __string_rec(o[i], s);\r\n\t\t\t\t\t\tstr += \"]\";\r\n\t\t\t\t\t\treturn str;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar tostr;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ttostr = untyped o.toString;\r\n\t\t\t\t\t} catch (e:Dynamic) {\r\n\t\t\t\t\t\t// strange error on IE\r\n\t\t\t\t\t\treturn \"???\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (tostr != null && tostr != js.Syntax.code(\"Object.toString\") && js.Syntax.typeof(tostr) == \"function\") {\r\n\t\t\t\t\t\tvar s2 = o.toString();\r\n\t\t\t\t\t\tif (s2 != \"[object Object]\")\r\n\t\t\t\t\t\t\treturn s2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar str = \"{\\n\";\r\n\t\t\t\t\ts += \"\\t\";\r\n\t\t\t\t\tvar hasp = (o.hasOwnProperty != null);\r\n\t\t\t\t\tvar k:String = null;\r\n\t\t\t\t\tjs.Syntax.code(\"for( {0} in {1} ) {\", k, o);\r\n\t\t\t\t\tif (hasp && !o.hasOwnProperty(k))\r\n\t\t\t\t\t\tjs.Syntax.code(\"continue\");\r\n\t\t\t\t\tif (k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\")\r\n\t\t\t\t\t\tjs.Syntax.code(\"continue\");\r\n\t\t\t\t\tif (str.length != 2)\r\n\t\t\t\t\t\tstr += \", \\n\";\r\n\t\t\t\t\tstr += s + k + \" : \" + __string_rec(o[k], s);\r\n\t\t\t\t\tjs.Syntax.code(\"}\");\r\n\t\t\t\t\ts = s.substring(1);\r\n\t\t\t\t\tstr += \"\\n\" + s + \"}\";\r\n\t\t\t\t\treturn str;\r\n\t\t\t\tcase \"function\":\r\n\t\t\t\t\treturn \"<function>\";\r\n\t\t\t\tcase \"string\":\r\n\t\t\t\t\treturn o;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn String(o);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@:pure private static function __interfLoop(cc:Dynamic, cl:Dynamic) {\r\n\t\tif (cc == null)\r\n\t\t\treturn false;\r\n\t\tif (cc == cl)\r\n\t\t\treturn true;\r\n\t\tvar intf:Dynamic = cc.__interfaces__;\r\n\t\tif (intf != null\r\n\t\t\t// ES6 classes inherit statics, so we want to avoid accessing inherited `__interfaces__`\r\n\t\t\t#if (js_es >= 6) && (cc.__super__ == null || cc.__super__.__interfaces__ != intf) #end\r\n\t\t) {\r\n\t\t\tfor (i in 0...intf.length) {\r\n\t\t\t\tvar i:Dynamic = intf[i];\r\n\t\t\t\tif (i == cl || __interfLoop(i, cl))\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn __interfLoop(cc.__super__, cl);\r\n\t}\r\n\r\n\t@:pure private static function __instanceof(o:Dynamic, cl:Dynamic) {\r\n\t\tif (cl == null)\r\n\t\t\treturn false;\r\n\t\tswitch (cl) {\r\n\t\t\tcase Int:\r\n\t\t\t\treturn js.Syntax.typeof(o) == \"number\" && js.Syntax.strictEq(o | 0, o);\r\n\t\t\tcase Float:\r\n\t\t\t\treturn js.Syntax.typeof(o) == \"number\";\r\n\t\t\tcase Bool:\r\n\t\t\t\treturn js.Syntax.typeof(o) == \"boolean\";\r\n\t\t\tcase String:\r\n\t\t\t\treturn js.Syntax.typeof(o) == \"string\";\r\n\t\t\tcase Array:\r\n\t\t\t\treturn js.Syntax.instanceof(o, Array) #if js_enums_as_arrays && o.__enum__ == null #end;\r\n\t\t\tcase Dynamic:\r\n\t\t\t\treturn o != null;\r\n\t\t\tdefault:\r\n\t\t\t\tif (o != null) {\r\n\t\t\t\t\t// Check if o is an instance of a Haxe class or a native JS object\r\n\t\t\t\t\tif (js.Syntax.typeof(cl) == \"function\") {\r\n\t\t\t\t\t\tif (__downcastCheck(o, cl))\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else if (js.Syntax.typeof(cl) == \"object\" && __isNativeObj(cl)) {\r\n\t\t\t\t\t\tif (js.Syntax.instanceof(o, cl))\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t// do not use isClass/isEnum here\r\n\t\t\t\tuntyped __feature__(\"Class.*\", if (cl == Class && o.__name__ != null) return true);\r\n\t\t\t\tuntyped __feature__(\"Enum.*\", if (cl == Enum && o.__ename__ != null) return true);\r\n\t\t\t\t#if js_enums_as_arrays\r\n\t\t\t\treturn o.__enum__ == cl;\r\n\t\t\t\t#else\r\n\t\t\t\treturn untyped __feature__(\r\n\t\t\t\t\t\"has_enum\",\r\n\t\t\t\t\tif (o.__enum__ != null) ($hxEnums[o.__enum__]) == cl else false,\r\n\t\t\t\t\tfalse\r\n\t\t\t\t);\r\n\t\t\t\t#end\r\n\t\t}\r\n\t}\r\n\r\n\tstatic function __downcastCheck(o:Dynamic, cl:Class<Dynamic>):Bool {\r\n\t\treturn js.Syntax.instanceof(o, cl) || (isInterface(cl) && inline __implements(o, cl));\r\n\t}\r\n\r\n\tstatic function __implements(o:Dynamic, iface:Class<Dynamic>):Bool {\r\n\t\treturn __interfLoop(getClass(o), iface);\r\n\t}\r\n\r\n\t@:ifFeature(\"typed_cast\") private static function __cast(o:Dynamic, t:Dynamic) {\r\n\t\tif (o == null || __instanceof(o, t))\r\n\t\t\treturn o;\r\n\t\telse\r\n\t\t\tthrow \"Cannot cast \" + Std.string(o) + \" to \" + Std.string(t);\r\n\t}\r\n\r\n\tstatic var __toStr:js.lib.Function;\r\n\r\n\tstatic function __init__() {\r\n\t\tBoot.__toStr = (cast {}).toString;\r\n\t}\r\n\r\n\t// get native JS [[Class]]\r\n\tstatic function __nativeClassName(o:Dynamic):String {\r\n\t\tvar name:String = __toStr.call(o).slice(8, -1);\r\n\t\t// exclude general Object and Function\r\n\t\t// also exclude Math and JSON, because instanceof cannot be called on them\r\n\t\tif (name == \"Object\" || name == \"Function\" || name == \"Math\" || name == \"JSON\")\r\n\t\t\treturn null;\r\n\t\treturn name;\r\n\t}\r\n\r\n\t// check for usable native JS object\r\n\tstatic function __isNativeObj(o:Dynamic):Bool {\r\n\t\treturn __nativeClassName(o) != null;\r\n\t}\r\n\r\n\t// resolve native JS class in the global scope:\r\n\tstatic function __resolveNativeClass(name:String) {\r\n\t\treturn js.Lib.global[cast name];\r\n\t}\r\n}\r\n","#if macro\r\nimport haxe.macro.Context;\r\nimport safety.macro.SafeAst;\r\n#end\r\n\r\nclass Safety {\r\n\r\n\t/**\r\n\t *  Returns `value` if it is not `null`. Otherwise returns `defaultValue`.\r\n\t */\r\n\tstatic public inline function or<T>(value:Null<T>, defaultValue:T):T {\r\n\t\treturn value == null ? defaultValue : @:nullSafety(Off) (value:T);\r\n\t}\r\n\r\n\t/**\r\n\t *  Returns `value` if it is not `null`. Otherwise calls `getter` and returns the result.\r\n\t */\r\n\tstatic public inline function orGet<T>(value:Null<T>, getter:Void->T):T {\r\n\t\treturn value == null ? getter() : @:nullSafety(Off) (value:T);\r\n\t}\r\n\r\n\t/**\r\n\t *  Returns `value` if it is not `null`. Otherwise throws an exception.\r\n\t *  @throws NullPointerException if `value` is `null`.\r\n\t */\r\n\tstatic public inline function sure<T>(value:Null<T>):T {\r\n\t\treturn value == null ? throw new safety.NullPointerException('Null pointer in .sure() call') : @:nullSafety(Off) (value:T);\r\n\t}\r\n\r\n\t/**\r\n\t *  Just returns `value` without any checks, but typed as not-nullable. Use at your own risk.\r\n\t */\r\n\tstatic public inline function unsafe<T>(value:Null<T>):T {\r\n\t\treturn @:nullSafety(Off) (value:T);\r\n\t}\r\n\r\n\t/**\r\n\t *  Returns `true` if value is not null and `callback(value)` is evaluated to `true`.\r\n\t *  Returns `false` otherwise.\r\n\t */\r\n\tstatic public inline function check<T>(value:Null<T>, callback:T->Bool):Bool {\r\n\t\treturn value != null && callback(@:nullSafety(Off) (value:T));\r\n\t}\r\n\r\n\t/**\r\n\t *  Applies `callback` to `value` and returns the result if `value` is not `null`.\r\n\t *  Returns `null` otherwise.\r\n\t */\r\n\tstatic public inline function let<T,V>(value:Null<T>, callback:T->V):Null<V> {\r\n\t\treturn value == null ? null : callback(@:nullSafety(Off) (value:T));\r\n\t}\r\n\r\n\t/**\r\n\t *  Passes `value` to `callback` if `value` is not null.\r\n\t */\r\n\tstatic public inline function run<T>(value:Null<T>, callback:T->Void) {\r\n\t\tif(value != null) callback(@:nullSafety(Off) (value:T));\r\n\t}\r\n\r\n\t/**\r\n\t *  Applies `callback` to `value` if `value` is not `null`.\r\n\t *  Returns `value`.\r\n\t */\r\n\tstatic public inline function apply<T>(value:Null<T>, callback:T->Void):Null<T> {\r\n\t\tswitch(value) {\r\n\t\t\tcase null:\r\n\t\t\tcase _: callback(@:nullSafety(Off) (value:T));\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n#if macro\r\n\r\n\t/**\r\n\t *  Add this call to hxml to make public methods in specified `path` to throw `NullPointerException`\r\n\t *  if someone passes `null` as an argument value and that argument is not nullable.\r\n\t *  ```\r\n\t *  public function job(str:String) {...}\r\n\t *  <...>\r\n\t *  job(null); //throws safety.NullPointerException\r\n\t *  ```\r\n\t *  Example for hxml:\r\n\t *  ```\r\n\t *  --macro Safety.safeApi('my.pack', true)\r\n\t *  ```\r\n\t *  @param path - Dot-path of a package or a fully qualified type name.\r\n\t *  @param recursive - Should we also apply to all sub-packages of `path`?\r\n\t */\r\n\tstatic public function safeApi(path:String, recursive:Bool = true) {\r\n\t\tSafeAst.addSafeApi(path, recursive);\r\n\t}\r\n\r\n\t/**\r\n\t *  Add this call to hxml to enable safe navigation operator `!.`:\r\n\t *  ```\r\n\t *  var s:Null<String> = null;\r\n\t *  trace(s!.length); //null\r\n\t *  s = 'wow';\r\n\t *  trace(s!.length); //3\r\n\t *  ```\r\n\t *  Example for hxml:\r\n\t *  ```\r\n\t *  --macro Safety.safeNavigation('my.pack', true)\r\n\t *  ```\r\n\t *  @param path - Dot-path of a package or a fully qualified type name.\r\n\t *  @param recursive - Should we also apply to all sub-packages/sub-types of `path`?\r\n\t */\r\n\tstatic public function safeNavigation(path:String, recursive:Bool = true) {\r\n\t\tSafeAst.addSafeNavigation(path, recursive);\r\n\t}\r\n\r\n\t/**\r\n\t *  Add this call to hxml to enable auto-casting all array declarations to `SafeArray`:\r\n\t *  Example for hxml:\r\n\t *  ```\r\n\t *  --macro Safety.safeArray('my.pack', true)\r\n\t *  ```\r\n\t *  @param path - Dot-path of a package or a fully qualified type name.\r\n\t *  @param recursive - Should we also apply to all sub-packages/sub-types of `path`?\r\n\t */\r\n\tstatic public function safeArray(path:String, recursive:Bool = true) {\r\n\t\tSafeAst.addSafeArray(path, recursive);\r\n\t}\r\n\r\n\t/**\r\n\t * Check if compilation is running in display mode.\r\n\t */\r\n\t@:allow(safety)\r\n\tstatic function isDisplay():Bool {\r\n\t\t#if display\r\n\t\t\treturn true;\r\n\t\t#end\r\n\t\treturn Context.defined('display');\r\n\t}\r\n#end\r\n}","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\nimport js.Syntax.code;\r\n\r\n// Can't enable @:coreApi because some fields are now inline getters\r\n// @:coreApi\r\n@:keepInit\r\nextern class Math {\r\n\tstatic var PI(default, null):Float;\r\n\r\n\tstatic var NEGATIVE_INFINITY(get, null):Float;\r\n\t@:pure private static inline function get_NEGATIVE_INFINITY():Float {\r\n\t\treturn -code(\"Infinity\");\r\n\t}\r\n\r\n\tstatic var POSITIVE_INFINITY(get, null):Float;\r\n\t@:pure private static inline function get_POSITIVE_INFINITY():Float {\r\n\t\treturn code(\"Infinity\");\r\n\t}\r\n\r\n\tstatic var NaN(get, null):Float;\r\n\t@:pure private static inline function get_NaN():Float {\r\n\t\treturn code(\"NaN\");\r\n\t}\r\n\r\n\t@:pure static function abs(v:Float):Float;\r\n\t@:pure static function acos(v:Float):Float;\r\n\t@:pure static function asin(v:Float):Float;\r\n\t@:pure static function atan(v:Float):Float;\r\n\t@:pure static function atan2(y:Float, x:Float):Float;\r\n\t@:pure static function ceil(v:Float):Int;\r\n\t@:pure static function cos(v:Float):Float;\r\n\t@:pure static function exp(v:Float):Float;\r\n\t@:pure static function floor(v:Float):Int;\r\n\t@:pure static function log(v:Float):Float;\r\n\t@:pure static function max(a:Float, b:Float):Float;\r\n\t@:pure static function min(a:Float, b:Float):Float;\r\n\t@:pure static function pow(v:Float, exp:Float):Float;\r\n\tstatic function random():Float;\r\n\t@:pure static function round(v:Float):Int;\r\n\t@:pure static function sin(v:Float):Float;\r\n\t@:pure static function sqrt(v:Float):Float;\r\n\t@:pure static function tan(v:Float):Float;\r\n\r\n\t@:pure static inline function ffloor(v:Float):Float {\r\n\t\treturn floor(v);\r\n\t}\r\n\r\n\t@:pure static inline function fceil(v:Float):Float {\r\n\t\treturn ceil(v);\r\n\t}\r\n\r\n\t@:pure static inline function fround(v:Float):Float {\r\n\t\treturn round(v);\r\n\t}\r\n\r\n\t@:pure static inline function isFinite(f:Float):Bool {\r\n\t\treturn code(\"isFinite\")(f);\r\n\t}\r\n\r\n\t@:pure static inline function isNaN(f:Float):Bool {\r\n\t\treturn code(\"isNaN\")(f);\r\n\t}\r\n\r\n\tstatic function __init__():Void {\r\n\t\tuntyped __feature__(\"Type.resolveClass\", $hxClasses[\"Math\"] = Math);\r\n\t}\r\n}\r\n","package haxe;\r\n\r\nimport haxe.ds.ReadOnlyArray;\r\n\r\nclass SysTools {\r\n\t/**\r\n\t\tCharacter codes of the characters that will be escaped by `quoteWinArg(_, true)`.\r\n\t**/\r\n\tpublic static final winMetaCharacters:ReadOnlyArray<Int> = [\r\n\t\t\" \".code, \"(\".code, \")\".code, \"%\".code, \"!\".code, \"^\".code, \"\\\"\".code, \"<\".code, \">\".code, \"&\".code, \"|\".code, \"\\n\".code, \"\\r\".code, \",\".code, \";\".code\r\n\t];\r\n\r\n\t/**\r\n\t\tReturns a String that can be used as a single command line argument\r\n\t\ton Unix.\r\n\t\tThe input will be quoted, or escaped if necessary.\r\n\t**/\r\n\tpublic static function quoteUnixArg(argument:String):String {\r\n\t\t// Based on cpython's shlex.quote().\r\n\t\t// https://hg.python.org/cpython/file/a3f076d4f54f/Lib/shlex.py#l278\r\n\r\n\t\tif (argument == \"\")\r\n\t\t\treturn \"''\";\r\n\r\n\t\tif (!~/[^a-zA-Z0-9_@%+=:,.\\/-]/.match(argument))\r\n\t\t\treturn argument;\r\n\r\n\t\t// use single quotes, and put single quotes into double quotes\r\n\t\t// the string $'b is then quoted as '$'\"'\"'b'\r\n\t\treturn \"'\" + StringTools.replace(argument, \"'\", \"'\\\"'\\\"'\") + \"'\";\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a String that can be used as a single command line argument\r\n\t\ton Windows.\r\n\t\tThe input will be quoted, or escaped if necessary, such that the output\r\n\t\twill be parsed as a single argument using the rule specified in\r\n\t\thttp://msdn.microsoft.com/en-us/library/ms880421\r\n\r\n\t\tExamples:\r\n\t\t```haxe\r\n\t\tquoteWinArg(\"abc\") == \"abc\";\r\n\t\tquoteWinArg(\"ab c\") == '\"ab c\"';\r\n\t\t```\r\n\t**/\r\n\tpublic static function quoteWinArg(argument:String, escapeMetaCharacters:Bool):String {\r\n\t\t// If there is no space, tab, back-slash, or double-quotes, and it is not an empty string.\r\n\t\tif (!~/^(\\/)?[^ \\t\\/\\\\\"]+$/.match(argument)) {\r\n\t\t\t// Based on cpython's subprocess.list2cmdline().\r\n\t\t\t// https://hg.python.org/cpython/file/50741316dd3a/Lib/subprocess.py#l620\r\n\r\n\t\t\tvar result = new StringBuf();\r\n\t\t\tvar needquote = argument.indexOf(\" \") != -1 || argument.indexOf(\"\\t\") != -1 || argument == \"\" || argument.indexOf(\"/\") > 0;\r\n\r\n\t\t\tif (needquote)\r\n\t\t\t\tresult.add('\"');\r\n\r\n\t\t\tvar bs_buf = new StringBuf();\r\n\t\t\tfor (i in 0...argument.length) {\r\n\t\t\t\tswitch (argument.charCodeAt(i)) {\r\n\t\t\t\t\tcase \"\\\\\".code:\r\n\t\t\t\t\t\t// Don't know if we need to double yet.\r\n\t\t\t\t\t\tbs_buf.add(\"\\\\\");\r\n\t\t\t\t\tcase '\"'.code:\r\n\t\t\t\t\t\t// Double backslashes.\r\n\t\t\t\t\t\tvar bs = bs_buf.toString();\r\n\t\t\t\t\t\tresult.add(bs);\r\n\t\t\t\t\t\tresult.add(bs);\r\n\t\t\t\t\t\tbs_buf = new StringBuf();\r\n\t\t\t\t\t\tresult.add('\\\\\"');\r\n\t\t\t\t\tcase var c:\r\n\t\t\t\t\t\t// Normal char\r\n\t\t\t\t\t\tif (bs_buf.length > 0) {\r\n\t\t\t\t\t\t\tresult.add(bs_buf.toString());\r\n\t\t\t\t\t\t\tbs_buf = new StringBuf();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresult.addChar(c);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Add remaining backslashes, if any.\r\n\t\t\tresult.add(bs_buf.toString());\r\n\r\n\t\t\tif (needquote) {\r\n\t\t\t\tresult.add(bs_buf.toString());\r\n\t\t\t\tresult.add('\"');\r\n\t\t\t}\r\n\r\n\t\t\targument = result.toString();\r\n\t\t}\r\n\r\n\t\tif (escapeMetaCharacters) {\r\n\t\t\tvar result = new StringBuf();\r\n\t\t\tfor (i in 0...argument.length) {\r\n\t\t\t\tvar c = argument.charCodeAt(i);\r\n\t\t\t\tif (winMetaCharacters.indexOf(c) >= 0) {\r\n\t\t\t\t\tresult.addChar(\"^\".code);\r\n\t\t\t\t}\r\n\t\t\t\tresult.addChar(c);\r\n\t\t\t}\r\n\t\t\treturn result.toString();\r\n\t\t} else {\r\n\t\t\treturn argument;\r\n\t\t}\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.iterators;\r\n\r\n/**\r\n\tThis iterator can be used to iterate across strings in a cross-platform\r\n\tway. It handles surrogate pairs on platforms that require it. On each\r\n\titeration, it returns the next character code.\r\n\r\n\tNote that this has different semantics than a standard for-loop over the\r\n\tString's length due to the fact that it deals with surrogate pairs.\r\n**/\r\nclass StringIteratorUnicode {\r\n\tvar offset = 0;\r\n\tvar s:String;\r\n\r\n\t/**\r\n\t\tCreate a new `StringIteratorUnicode` over String `s`.\r\n\t**/\r\n\tpublic inline function new(s:String) {\r\n\t\tthis.s = s;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.hasNext`\r\n\t**/\r\n\tpublic inline function hasNext() {\r\n\t\treturn offset < s.length;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.next`\r\n\t**/\r\n\t@:access(StringTools)\r\n\tpublic inline function next() {\r\n\t\t#if utf16\r\n\t\tvar c = StringTools.utf16CodePointAt(s, offset++);\r\n\t\tif (c >= StringTools.MIN_SURROGATE_CODE_POINT) {\r\n\t\t\toffset++;\r\n\t\t}\r\n\t\treturn c;\r\n\t\t#else\r\n\t\treturn StringTools.unsafeCodeAt(s, offset++);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tConvenience function which can be used as a static extension.\r\n\t**/\r\n\tstatic public inline function unicodeIterator(s:String) {\r\n\t\treturn new StringIteratorUnicode(s);\r\n\t}\r\n}\r\n","import haxe.io.Bytes;\r\nimport haxe.io.Eof;\r\nimport haxe.io.Error;\r\nimport haxe.io.Output;\r\nimport js.Node.process;\r\nimport js.node.Buffer;\r\nimport js.node.ChildProcess;\r\nimport js.node.Fs;\r\n\r\n@:dce\r\n@:coreApi\r\nclass Sys {\r\n\tpublic static inline function print(v:Dynamic):Void {\r\n\t\tprocess.stdout.write(Std.string(v));\r\n\t}\r\n\r\n\tpublic static inline function println(v:Dynamic):Void {\r\n\t\tprocess.stdout.write(Std.string(v));\r\n\t\tprocess.stdout.write(\"\\n\");\r\n\t}\r\n\r\n\tpublic static inline function args():Array<String> {\r\n\t\treturn process.argv.slice(2);\r\n\t}\r\n\r\n\tpublic static inline function getEnv(s:String):String {\r\n\t\treturn process.env[s];\r\n\t}\r\n\r\n\tpublic static inline function putEnv(s:String, v:Null<String>):Void {\r\n\t\tif (v == null)\r\n\t\t\tprocess.env.remove(s);\r\n\t\telse\r\n\t\t\tprocess.env[s] = v;\r\n\t}\r\n\r\n\tpublic static function environment():Map<String, String> {\r\n\t\tvar m = new Map();\r\n\t\tfor (key in process.env.keys())\r\n\t\t\tm[key] = process.env[key];\r\n\t\treturn m;\r\n\t}\r\n\r\n\tpublic inline static function setTimeLocale(loc:String):Bool {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic inline static function getCwd():String {\r\n\t\treturn haxe.io.Path.addTrailingSlash(process.cwd());\r\n\t}\r\n\r\n\tpublic static inline function setCwd(s:String):Void {\r\n\t\tprocess.chdir(s);\r\n\t}\r\n\r\n\tpublic static function systemName():String {\r\n\t\treturn switch (process.platform) {\r\n\t\t\tcase \"darwin\": \"Mac\";\r\n\t\t\tcase \"freebsd\": \"BSD\";\r\n\t\t\tcase \"linux\": \"Linux\";\r\n\t\t\tcase \"win32\": \"Windows\";\r\n\t\t\tcase other: other; // throw?\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static inline function command(cmd:String, ?args:Array<String>):Int {\r\n\t\tif (args == null)\r\n\t\t\treturn ChildProcess.spawnSync(cmd, {shell: true, stdio: \"inherit\"}).status;\r\n\t\telse\r\n\t\t\treturn ChildProcess.spawnSync(cmd, args, {stdio: \"inherit\"}).status;\r\n\t}\r\n\r\n\tpublic static inline function exit(code:Int):Void {\r\n\t\tprocess.exit(code);\r\n\t}\r\n\r\n\tpublic static inline function time():Float {\r\n\t\treturn (cast Date).now() / 1000;\r\n\t}\r\n\r\n\tpublic static inline function cpuTime():Float {\r\n\t\treturn process.uptime();\r\n\t}\r\n\r\n\t#if (haxe_ver >= 3.3)\r\n\t@:deprecated(\"Use programPath instead\")\r\n\t#end\r\n\tpublic static inline function executablePath():String {\r\n\t\treturn process.argv[0];\r\n\t}\r\n\r\n\t#if (haxe_ver >= 3.3)\r\n\tpublic static inline function programPath():String {\r\n\t\treturn js.Node.__filename;\r\n\t}\r\n\t#end\r\n\r\n\tpublic static function getChar(echo:Bool):Int {\r\n\t\tthrow \"Sys.getChar is currently not implemented on node.js\";\r\n\t}\r\n\r\n\tpublic static function sleep(seconds:Float):Void {\r\n\t\tvar end = (cast Date).now() + seconds * 1000;\r\n\t\twhile ((cast Date).now() <= end) {}\r\n\t}\r\n\r\n\tpublic static inline function stdin():haxe.io.Input {\r\n\t\treturn new FileInput(0);\r\n\t}\r\n\r\n\tpublic static inline function stdout():haxe.io.Output {\r\n\t\treturn new FileOutput(1);\r\n\t}\r\n\r\n\tpublic static inline function stderr():haxe.io.Output {\r\n\t\treturn new FileOutput(2);\r\n\t}\r\n}\r\n\r\nprivate class FileOutput extends haxe.io.Output {\r\n\tvar fd:Int;\r\n\r\n\tpublic function new(fd:Int) {\r\n\t\tthis.fd = fd;\r\n\t}\r\n\r\n\toverride public function writeByte(c:Int) {\r\n\t\tFs.writeSync(fd, String.fromCharCode(c));\r\n\t}\r\n\r\n\toverride public function writeBytes(s:Bytes, pos:Int, len:Int):Int {\r\n\t\treturn Fs.writeSync(fd, Buffer.hxFromBytes(s), pos, len);\r\n\t}\r\n\r\n\toverride public function writeString(s:String #if (haxe_ver >= 4), ?encoding:haxe.io.Encoding #end) {\r\n\t\tFs.writeSync(fd, s);\r\n\t}\r\n\r\n\toverride public function flush() {\r\n\t\tFs.fsyncSync(fd);\r\n\t}\r\n\r\n\toverride public function close() {\r\n\t\tFs.closeSync(fd);\r\n\t}\r\n}\r\n\r\nprivate class FileInput extends haxe.io.Input {\r\n\tvar fd:Int;\r\n\r\n\tpublic function new(fd:Int) {\r\n\t\tthis.fd = fd;\r\n\t}\r\n\r\n\toverride public function readByte():Int {\r\n\t\tvar buf = Buffer.alloc(1);\r\n\t\ttry {\r\n\t\t\tFs.readSync(fd, buf, 0, 1, null);\r\n\t\t} catch (e:Dynamic) {\r\n\t\t\tif (e.code == \"EOF\")\r\n\t\t\t\tthrow new Eof();\r\n\t\t\telse\r\n\t\t\t\tthrow Error.Custom(e);\r\n\t\t}\r\n\t\treturn buf[0];\r\n\t}\r\n\r\n\toverride public function readBytes(s:Bytes, pos:Int, len:Int):Int {\r\n\t\tvar buf = Buffer.hxFromBytes(s);\r\n\t\ttry {\r\n\t\t\treturn Fs.readSync(fd, buf, pos, len, null);\r\n\t\t} catch (e:Dynamic) {\r\n\t\t\tif (e.code == \"EOF\")\r\n\t\t\t\tthrow new Eof();\r\n\t\t\telse\r\n\t\t\t\tthrow Error.Custom(e);\r\n\t\t}\r\n\t}\r\n\r\n\toverride public function close():Void {\r\n\t\tFs.closeSync(fd);\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2014-2020 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js;\r\n\r\nimport haxe.Constraints.Function;\r\nimport haxe.extern.Rest;\r\nimport js.node.Module;\r\nimport js.node.Process;\r\nimport js.node.Timers.Immediate;\r\nimport js.node.Timers.Timeout;\r\nimport js.node.console.Console;\r\n#if haxe4\r\nimport js.Syntax.code;\r\n#end\r\n\r\n/**\r\n\tNode.js globals\r\n**/\r\n@:native(\"global\")\r\nextern class Node {\r\n\t/**\r\n\t\tThis variable may appear to be global but is not. See [__dirname](https://nodejs.org/api/modules.html#modules_dirname).\r\n\t**/\r\n\tstatic var __dirname(get, never):String;\r\n\r\n\tprivate static inline function get___dirname():String {\r\n\t\t#if haxe4\r\n\t\treturn code(\"__dirname\");\r\n\t\t#else\r\n\t\treturn untyped __js__(\"__dirname\");\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tThis variable may appear to be global but is not. See [__filename](https://nodejs.org/api/modules.html#modules_filename).\r\n\t**/\r\n\tstatic var __filename(get, never):String;\r\n\r\n\tprivate static inline function get___filename():String {\r\n\t\t#if haxe4\r\n\t\treturn code(\"__filename\");\r\n\t\t#else\r\n\t\treturn untyped __js__(\"__filename\");\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\t`clearImmediate` is described in the [timers](https://nodejs.org/api/timers.html) section.\r\n\t**/\r\n\tstatic function clearImmediate(immediate:Immediate):Void;\r\n\r\n\t/**\r\n\t\t`clearInterval` is described in the [timers](https://nodejs.org/api/timers.html) section.\r\n\t**/\r\n\tstatic function clearInterval(timeout:Timeout):Void;\r\n\r\n\t/**\r\n\t\t`clearTimeout` is described in the [timers](https://nodejs.org/api/timers.html) section.\r\n\t**/\r\n\tstatic function clearTimeout(timeout:Timeout):Void;\r\n\r\n\t/**\r\n\t\tUsed to print to stdout and stderr. See the [console](https://nodejs.org/api/console.html) section.\r\n\t**/\r\n\tstatic var console(get, never):Console;\r\n\r\n\tprivate static inline function get_console():Console {\r\n\t\t#if haxe4\r\n\t\treturn code(\"console\");\r\n\t\t#else\r\n\t\treturn untyped __js__(\"console\");\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tThis variable may appear to be global but is not. See [exports](https://nodejs.org/api/modules.html#modules_exports).\r\n\t**/\r\n\tstatic var exports(get, never):Dynamic<Dynamic>;\r\n\r\n\tprivate static inline function get_exports():Dynamic<Dynamic> {\r\n\t\t#if haxe4\r\n\t\treturn code(\"exports\");\r\n\t\t#else\r\n\t\treturn untyped __js__(\"exports\");\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tIn browsers, the top-level scope is the global scope.\r\n\t\tThis means that within the browser `var something` will define a new global variable.\r\n\t\tIn Node.js this is different. The top-level scope is not the global scope; `var something` inside a Node.js module\r\n\t\twill be local to that module.\r\n\t**/\r\n\tstatic inline var global:Dynamic<Dynamic> = cast Node;\r\n\r\n\t/**\r\n\t\tThis variable may appear to be global but is not. See [module](https://nodejs.org/api/modules.html#modules_module).\r\n\t**/\r\n\tstatic var module(get, never):Module;\r\n\r\n\tprivate static inline function get_module():Module {\r\n\t\t#if haxe4\r\n\t\treturn code(\"module\");\r\n\t\t#else\r\n\t\treturn untyped __js__(\"module\");\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tThe process object. See the [process object](https://nodejs.org/api/process.html#process_process) section.\r\n\t**/\r\n\tstatic var process(get, never):Process;\r\n\r\n\tprivate static inline function get_process():Process {\r\n\t\t#if haxe4\r\n\t\treturn code(\"process\");\r\n\t\t#else\r\n\t\treturn untyped __js__(\"process\");\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tThe `queueMicrotask()` method queues a microtask to invoke `callback`.\r\n\t\tIf `callback` throws an exception, the [process object](https://nodejs.org/api/process.html#process_process) 'uncaughtException' event will be emitted.\r\n\r\n\t\tThe microtask queue is managed by V8 and may be used in a similar manner to the `Process.nextTick()` queue,\r\n\t\twhich is managed by Node.js.\r\n\t\tThe `Process.nextTick()` queue is always processed before the microtask queue within each turn of the Node.js event loop.\r\n\t**/\r\n\tstatic function queueMicrotask(callback:Void->Void):Void;\r\n\r\n\t/**\r\n\t\tThis variable may appear to be global but is not. See [require()](https://nodejs.org/api/modules.html#modules_require_id).\r\n\t**/\r\n\tstatic inline function require(module:String):Dynamic {\r\n\t\t#if haxe4\r\n\t\treturn code(\"require({0})\", module);\r\n\t\t#else\r\n\t\treturn untyped __js__(\"require({0})\", module);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\t`setImmediate` is described in the [timers](https://nodejs.org/api/timers.html) section.\r\n\t**/\r\n\tstatic function setImmediate(callback:Function, args:Rest<Dynamic>):Immediate;\r\n\r\n\t/**\r\n\t\t`setInterval` is described in the [timers](https://nodejs.org/api/timers.html) section.\r\n\t**/\r\n\tstatic function setInterval(callback:Function, delay:Int, args:Rest<Dynamic>):Timeout;\r\n\r\n\t/**\r\n\t\t`setTimeout` is described in the [timers](https://nodejs.org/api/timers.html) section.\r\n\t**/\r\n\tstatic function setTimeout(callback:Function, delay:Int, args:Rest<Dynamic>):Timeout;\r\n}\r\n\r\n@:deprecated typedef TimeoutObject = js.node.Timers.Timeout;\r\n@:deprecated typedef IntervalObject = js.node.Timers.Timeout;\r\n@:deprecated typedef ImmediateObject = js.node.Timers.Immediate;\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe;\r\n\r\nimport haxe.iterators.DynamicAccessIterator;\r\nimport haxe.iterators.DynamicAccessKeyValueIterator;\r\n\r\n/**\r\n\tDynamicAccess is an abstract type for working with anonymous structures\r\n\tthat are intended to hold collections of objects by the string key.\r\n\r\n\tFor example, these types of structures are often created from JSON.\r\n\r\n\tBasically, it wraps `Reflect` calls in a `Map`-like interface.\r\n**/\r\nabstract DynamicAccess<T>(Dynamic<T>) from Dynamic<T> to Dynamic<T> {\r\n\t/**\r\n\t\tCreates a new structure.\r\n\t**/\r\n\tpublic inline function new()\r\n\t\tthis = {};\r\n\r\n\t/**\r\n\t\tReturns a value by specified `key`.\r\n\r\n\t\tIf the structure does not contain the given key, `null` is returned.\r\n\r\n\t\tIf `key` is `null`, the result is unspecified.\r\n\t**/\r\n\t@:arrayAccess\r\n\tpublic inline function get(key:String):Null<T> {\r\n\t\t#if js\r\n\t\treturn untyped this[key]; // we know it's an object, so we don't need a check\r\n\t\t#else\r\n\t\treturn Reflect.field(this, key);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tSets a `value` for a specified `key`.\r\n\r\n\t\tIf the structure contains the given key, its value will be overwritten.\r\n\r\n\t\tReturns the given value.\r\n\r\n\t\tIf `key` is `null`, the result is unspecified.\r\n\t**/\r\n\t@:arrayAccess\r\n\tpublic inline function set(key:String, value:T):T {\r\n\t\t#if js\r\n\t\treturn untyped this[key] = value;\r\n\t\t#else\r\n\t\tReflect.setField(this, key, value);\r\n\t\treturn value;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if the structure contains a specified `key`.\r\n\r\n\t\tIf `key` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic inline function exists(key:String):Bool\r\n\t\treturn Reflect.hasField(this, key);\r\n\r\n\t/**\r\n\t\tRemoves a specified `key` from the structure.\r\n\r\n\t\tReturns true, if `key` was present in structure, or false otherwise.\r\n\r\n\t\tIf `key` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic inline function remove(key:String):Bool\r\n\t\treturn Reflect.deleteField(this, key);\r\n\r\n\t/**\r\n\t\tReturns an array of `keys` in a structure.\r\n\t**/\r\n\tpublic inline function keys():Array<String>\r\n\t\treturn Reflect.fields(this);\r\n\r\n\t/**\r\n\t\tReturns a shallow copy of the structure\r\n\t**/\r\n\tpublic inline function copy():DynamicAccess<T>\r\n\t\treturn Reflect.copy(this);\r\n\r\n\t/**\r\n\t\tReturns an Iterator over the values of this `DynamicAccess`.\r\n\r\n\t\tThe order of values is undefined.\r\n\t**/\r\n\tpublic inline function iterator():DynamicAccessIterator<T> {\r\n\t\treturn new DynamicAccessIterator(this);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns an Iterator over the keys and values of this `DynamicAccess`.\r\n\r\n\t\tThe order of values is undefined.\r\n\t**/\r\n\tpublic inline function keyValueIterator():DynamicAccessKeyValueIterator<T> {\r\n\t\treturn new DynamicAccessKeyValueIterator(this);\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.io;\r\n\r\n/**\r\n\tAn Output is an abstract write. A specific output implementation will only\r\n\thave to override the `writeByte` and maybe the `write`, `flush` and `close`\r\n\tmethods. See `File.write` and `String.write` for two ways of creating an\r\n\tOutput.\r\n**/\r\nclass Output {\r\n\t/**\r\n\t\tEndianness (word byte order) used when writing numbers.\r\n\r\n\t\tIf `true`, big-endian is used, otherwise `little-endian` is used.\r\n\t**/\r\n\tpublic var bigEndian(default, set):Bool;\r\n\r\n\t#if java\r\n\tprivate var helper:java.nio.ByteBuffer;\r\n\t#end\r\n\r\n\t/**\r\n\t\tWrite one byte.\r\n\t**/\r\n\tpublic function writeByte(c:Int):Void {\r\n\t\tthrow new haxe.exceptions.NotImplementedException();\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `len` bytes from `s` starting by position specified by `pos`.\r\n\r\n\t\tReturns the actual length of written data that can differ from `len`.\r\n\r\n\t\tSee `writeFullBytes` that tries to write the exact amount of specified bytes.\r\n\t**/\r\n\tpublic function writeBytes(s:Bytes, pos:Int, len:Int):Int {\r\n\t\t#if !neko\r\n\t\tif (pos < 0 || len < 0 || pos + len > s.length)\r\n\t\t\tthrow Error.OutsideBounds;\r\n\t\t#end\r\n\t\tvar b = #if js @:privateAccess s.b #else s.getData() #end;\r\n\t\tvar k = len;\r\n\t\twhile (k > 0) {\r\n\t\t\t#if neko\r\n\t\t\twriteByte(untyped __dollar__sget(b, pos));\r\n\t\t\t#elseif php\r\n\t\t\twriteByte(b.get(pos));\r\n\t\t\t#elseif cpp\r\n\t\t\twriteByte(untyped b[pos]);\r\n\t\t\t#elseif hl\r\n\t\t\twriteByte(b[pos]);\r\n\t\t\t#else\r\n\t\t\twriteByte(untyped b[pos]);\r\n\t\t\t#end\r\n\t\t\tpos++;\r\n\t\t\tk--;\r\n\t\t}\r\n\t\treturn len;\r\n\t}\r\n\r\n\t/**\r\n\t\tFlush any buffered data.\r\n\t**/\r\n\tpublic function flush() {}\r\n\r\n\t/**\r\n\t\tClose the output.\r\n\r\n\t\tBehaviour while writing after calling this method is unspecified.\r\n\t**/\r\n\tpublic function close() {}\r\n\r\n\tfunction set_bigEndian(b) {\r\n\t\tbigEndian = b;\r\n\t\treturn b;\r\n\t}\r\n\r\n\t/* ------------------ API ------------------ */\r\n\t/**\r\n\t\tWrite all bytes stored in `s`.\r\n\t**/\r\n\tpublic function write(s:Bytes):Void {\r\n\t\tvar l = s.length;\r\n\t\tvar p = 0;\r\n\t\twhile (l > 0) {\r\n\t\t\tvar k = writeBytes(s, p, l);\r\n\t\t\tif (k == 0)\r\n\t\t\t\tthrow Error.Blocked;\r\n\t\t\tp += k;\r\n\t\t\tl -= k;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `len` bytes from `s` starting by position specified by `pos`.\r\n\r\n\t\tUnlike `writeBytes`, this method tries to write the exact `len` amount of bytes.\r\n\t**/\r\n\tpublic function writeFullBytes(s:Bytes, pos:Int, len:Int) {\r\n\t\twhile (len > 0) {\r\n\t\t\tvar k = writeBytes(s, pos, len);\r\n\t\t\tpos += k;\r\n\t\t\tlen -= k;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `x` as 32-bit floating point number.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function writeFloat(x:Float) {\r\n\t\twriteInt32(FPHelper.floatToI32(x));\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `x` as 64-bit double-precision floating point number.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function writeDouble(x:Float) {\r\n\t\tvar i64 = FPHelper.doubleToI64(x);\r\n\t\tif (bigEndian) {\r\n\t\t\twriteInt32(i64.high);\r\n\t\t\twriteInt32(i64.low);\r\n\t\t} else {\r\n\t\t\twriteInt32(i64.low);\r\n\t\t\twriteInt32(i64.high);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `x` as 8-bit signed integer.\r\n\t**/\r\n\tpublic function writeInt8(x:Int) {\r\n\t\tif (x < -0x80 || x >= 0x80)\r\n\t\t\tthrow Error.Overflow;\r\n\t\twriteByte(x & 0xFF);\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `x` as 16-bit signed integer.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function writeInt16(x:Int) {\r\n\t\tif (x < -0x8000 || x >= 0x8000)\r\n\t\t\tthrow Error.Overflow;\r\n\t\twriteUInt16(x & 0xFFFF);\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `x` as 16-bit unsigned integer.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function writeUInt16(x:Int) {\r\n\t\tif (x < 0 || x >= 0x10000)\r\n\t\t\tthrow Error.Overflow;\r\n\t\tif (bigEndian) {\r\n\t\t\twriteByte(x >> 8);\r\n\t\t\twriteByte(x & 0xFF);\r\n\t\t} else {\r\n\t\t\twriteByte(x & 0xFF);\r\n\t\t\twriteByte(x >> 8);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `x` as 24-bit signed integer.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function writeInt24(x:Int) {\r\n\t\tif (x < -0x800000 || x >= 0x800000)\r\n\t\t\tthrow Error.Overflow;\r\n\t\twriteUInt24(x & 0xFFFFFF);\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `x` as 24-bit unsigned integer.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function writeUInt24(x:Int) {\r\n\t\tif (x < 0 || x >= 0x1000000)\r\n\t\t\tthrow Error.Overflow;\r\n\t\tif (bigEndian) {\r\n\t\t\twriteByte(x >> 16);\r\n\t\t\twriteByte((x >> 8) & 0xFF);\r\n\t\t\twriteByte(x & 0xFF);\r\n\t\t} else {\r\n\t\t\twriteByte(x & 0xFF);\r\n\t\t\twriteByte((x >> 8) & 0xFF);\r\n\t\t\twriteByte(x >> 16);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `x` as 32-bit signed integer.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function writeInt32(x:Int) {\r\n\t\tif (bigEndian) {\r\n\t\t\twriteByte(x >>> 24);\r\n\t\t\twriteByte((x >> 16) & 0xFF);\r\n\t\t\twriteByte((x >> 8) & 0xFF);\r\n\t\t\twriteByte(x & 0xFF);\r\n\t\t} else {\r\n\t\t\twriteByte(x & 0xFF);\r\n\t\t\twriteByte((x >> 8) & 0xFF);\r\n\t\t\twriteByte((x >> 16) & 0xFF);\r\n\t\t\twriteByte(x >>> 24);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tInform that we are about to write at least `nbytes` bytes.\r\n\r\n\t\tThe underlying implementation can allocate proper working space depending\r\n\t\ton this information, or simply ignore it. This is not a mandatory call\r\n\t\tbut a tip and is only used in some specific cases.\r\n\t**/\r\n\tpublic function prepare(nbytes:Int) {}\r\n\r\n\t/**\r\n\t\tRead all available data from `i` and write it.\r\n\r\n\t\tThe `bufsize` optional argument specifies the size of chunks by\r\n\t\twhich data is read and written. Its default value is 4096.\r\n\t**/\r\n\tpublic function writeInput(i:Input, ?bufsize:Int) {\r\n\t\tif (bufsize == null)\r\n\t\t\tbufsize = 4096;\r\n\t\tvar buf = Bytes.alloc(bufsize);\r\n\t\ttry {\r\n\t\t\twhile (true) {\r\n\t\t\t\tvar len = i.readBytes(buf, 0, bufsize);\r\n\t\t\t\tif (len == 0)\r\n\t\t\t\t\tthrow Error.Blocked;\r\n\t\t\t\tvar p = 0;\r\n\t\t\t\twhile (len > 0) {\r\n\t\t\t\t\tvar k = writeBytes(buf, p, len);\r\n\t\t\t\t\tif (k == 0)\r\n\t\t\t\t\t\tthrow Error.Blocked;\r\n\t\t\t\t\tp += k;\r\n\t\t\t\t\tlen -= k;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (e:Eof) {}\r\n\t}\r\n\r\n\t/**\r\n\t\tWrite `s` string.\r\n\t**/\r\n\tpublic function writeString(s:String, ?encoding:Encoding) {\r\n\t\t#if neko\r\n\t\tvar b = untyped new Bytes(s.length, s.__s);\r\n\t\t#else\r\n\t\tvar b = Bytes.ofString(s, encoding);\r\n\t\t#end\r\n\t\twriteFullBytes(b, 0, b.length);\r\n\t}\r\n\r\n\t#if neko\r\n\tstatic function __init__()\r\n\t\tuntyped {\r\n\t\t\tOutput.prototype.bigEndian = false;\r\n\t\t}\r\n\t#end\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe;\r\n\r\nusing haxe.Int64;\r\n\r\n/**\r\n\tA cross-platform signed 64-bit integer.\r\n\tInt64 instances can be created from two 32-bit words using `Int64.make()`.\r\n**/\r\n#if flash\r\n@:notNull\r\n#end\r\n@:transitive\r\nabstract Int64(__Int64) from __Int64 to __Int64 {\r\n\tprivate inline function new(x:__Int64)\r\n\t\tthis = x;\r\n\r\n\t/**\r\n\t\tMakes a copy of `this` Int64.\r\n\t**/\r\n\tpublic inline function copy():Int64\r\n\t\treturn make(high, low);\r\n\r\n\t/**\r\n\t\tConstruct an Int64 from two 32-bit words `high` and `low`.\r\n\t**/\r\n\tpublic static inline function make(high:Int32, low:Int32):Int64\r\n\t\treturn new Int64(new __Int64(high, low));\r\n\r\n\t/**\r\n\t\tReturns an Int64 with the value of the Int `x`.\r\n\t\t`x` is sign-extended to fill 64 bits.\r\n\t**/\r\n\t@:from public static inline function ofInt(x:Int):Int64\r\n\t\t#if lua return make((x : Int32) >> 31, (x : Int32)); #else return make(x >> 31, x); #end\r\n\r\n\t/**\r\n\t\tReturns an Int with the value of the Int64 `x`.\r\n\t\tThrows an exception  if `x` cannot be represented in 32 bits.\r\n\t**/\r\n\tpublic static inline function toInt(x:Int64):Int {\r\n\t\tif (x.high != x.low >> 31)\r\n\t\t\tthrow \"Overflow\";\r\n\r\n\t\treturn x.low;\r\n\t}\r\n\r\n\t@:deprecated('haxe.Int64.is() is deprecated. Use haxe.Int64.isInt64() instead')\r\n\tinline public static function is(val:Dynamic):Bool {\r\n\t\treturn isInt64(val);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns whether the value `val` is of type `haxe.Int64`\r\n\t**/\r\n\tinline public static function isInt64(val:Dynamic):Bool\r\n\t\treturn Std.isOfType(val, __Int64);\r\n\r\n\t/**\r\n\t\tReturns the high 32-bit word of `x`.\r\n\t**/\r\n\t@:deprecated(\"Use high instead\")\r\n\tpublic static inline function getHigh(x:Int64):Int32\r\n\t\treturn x.high;\r\n\r\n\t/**\r\n\t\tReturns the low 32-bit word of `x`.\r\n\t**/\r\n\t@:deprecated(\"Use low instead\")\r\n\tpublic static inline function getLow(x:Int64):Int32\r\n\t\treturn x.low;\r\n\r\n\t/**\r\n\t\tReturns `true` if `x` is less than zero.\r\n\t**/\r\n\tpublic static inline function isNeg(x:Int64):Bool\r\n\t\treturn x.high < 0;\r\n\r\n\t/**\r\n\t\tReturns `true` if `x` is exactly zero.\r\n\t**/\r\n\tpublic static inline function isZero(x:Int64):Bool\r\n\t\treturn x == 0;\r\n\r\n\t/**\r\n\t\tCompares `a` and `b` in signed mode.\r\n\t\tReturns a negative value if `a < b`, positive if `a > b`,\r\n\t\tor 0 if `a == b`.\r\n\t**/\r\n\tpublic static inline function compare(a:Int64, b:Int64):Int {\r\n\t\tvar v = a.high - b.high;\r\n\t\tv = if (v != 0) v else Int32.ucompare(a.low, b.low);\r\n\t\treturn a.high < 0 ? (b.high < 0 ? v : -1) : (b.high >= 0 ? v : 1);\r\n\t}\r\n\r\n\t/**\r\n\t\tCompares `a` and `b` in unsigned mode.\r\n\t\tReturns a negative value if `a < b`, positive if `a > b`,\r\n\t\tor 0 if `a == b`.\r\n\t**/\r\n\tpublic static inline function ucompare(a:Int64, b:Int64):Int {\r\n\t\tvar v = Int32.ucompare(a.high, b.high);\r\n\t\treturn if (v != 0) v else Int32.ucompare(a.low, b.low);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a signed decimal `String` representation of `x`.\r\n\t**/\r\n\tpublic static inline function toStr(x:Int64):String\r\n\t\treturn x.toString();\r\n\r\n\tfunction toString():String {\r\n\t\tvar i:Int64 = cast this;\r\n\t\tif (i == 0)\r\n\t\t\treturn \"0\";\r\n\t\tvar str = \"\";\r\n\t\tvar neg = false;\r\n\t\tif (i.isNeg()) {\r\n\t\t\tneg = true;\r\n\t\t\t// i = -i; cannot negate here as --9223372036854775808 = -9223372036854775808\r\n\t\t}\r\n\t\tvar ten:Int64 = 10;\r\n\t\twhile (i != 0) {\r\n\t\t\tvar r = i.divMod(ten);\r\n\t\t\tif (r.modulus.isNeg()) {\r\n\t\t\t\tstr = Int64.neg(r.modulus).low + str;\r\n\t\t\t\ti = Int64.neg(r.quotient);\r\n\t\t\t} else {\r\n\t\t\t\tstr = r.modulus.low + str;\r\n\t\t\t\ti = r.quotient;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (neg)\r\n\t\t\tstr = \"-\" + str;\r\n\t\treturn str;\r\n\t}\r\n\r\n\tpublic static inline function parseString(sParam:String):Int64 {\r\n\t\treturn Int64Helper.parseString(sParam);\r\n\t}\r\n\r\n\tpublic static inline function fromFloat(f:Float):Int64 {\r\n\t\treturn Int64Helper.fromFloat(f);\r\n\t}\r\n\r\n\t/**\r\n\t\tPerforms signed integer divison of `dividend` by `divisor`.\r\n\t\tReturns `{ quotient : Int64, modulus : Int64 }`.\r\n\t**/\r\n\tpublic static function divMod(dividend:Int64, divisor:Int64):{quotient:Int64, modulus:Int64} {\r\n\t\t// Handle special cases of 0 and 1\r\n\t\tif (divisor.high == 0) {\r\n\t\t\tswitch (divisor.low) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthrow \"divide by zero\";\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\treturn {quotient: dividend.copy(), modulus: 0};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar divSign = dividend.isNeg() != divisor.isNeg();\r\n\r\n\t\tvar modulus = dividend.isNeg() ? -dividend : dividend.copy();\r\n\t\tdivisor = divisor.isNeg() ? -divisor : divisor;\r\n\r\n\t\tvar quotient:Int64 = 0;\r\n\t\tvar mask:Int64 = 1;\r\n\r\n\t\twhile (!divisor.isNeg()) {\r\n\t\t\tvar cmp = ucompare(divisor, modulus);\r\n\t\t\tdivisor <<= 1;\r\n\t\t\tmask <<= 1;\r\n\t\t\tif (cmp >= 0)\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\twhile (mask != 0) {\r\n\t\t\tif (ucompare(modulus, divisor) >= 0) {\r\n\t\t\t\tquotient |= mask;\r\n\t\t\t\tmodulus -= divisor;\r\n\t\t\t}\r\n\t\t\tmask >>>= 1;\r\n\t\t\tdivisor >>>= 1;\r\n\t\t}\r\n\r\n\t\tif (divSign)\r\n\t\t\tquotient = -quotient;\r\n\t\tif (dividend.isNeg())\r\n\t\t\tmodulus = -modulus;\r\n\r\n\t\treturn {\r\n\t\t\tquotient: quotient,\r\n\t\t\tmodulus: modulus\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the negative of `x`.\r\n\t**/\r\n\t@:op(-A) public static inline function neg(x:Int64):Int64 {\r\n\t\tvar high = ~x.high;\r\n\t\tvar low = -x.low;\r\n\t\tif (low == 0)\r\n\t\t\thigh++;\r\n\t\treturn make(high, low);\r\n\t}\r\n\r\n\t@:op(++A) private inline function preIncrement():Int64 {\r\n\t\tthis = copy();\r\n\t\tthis.low++;\r\n\t\tif (this.low == 0)\r\n\t\t\tthis.high++;\r\n\t\treturn cast this;\r\n\t}\r\n\r\n\t@:op(A++) private inline function postIncrement():Int64 {\r\n\t\tvar ret = this;\r\n\t\tpreIncrement();\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t@:op(--A) private inline function preDecrement():Int64 {\r\n\t\tthis = copy();\r\n\t\tif (this.low == 0)\r\n\t\t\tthis.high--;\r\n\t\tthis.low--;\r\n\t\treturn cast this;\r\n\t}\r\n\r\n\t@:op(A--) private inline function postDecrement():Int64 {\r\n\t\tvar ret = this;\r\n\t\tpreDecrement();\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the sum of `a` and `b`.\r\n\t**/\r\n\t@:op(A + B) public static inline function add(a:Int64, b:Int64):Int64 {\r\n\t\tvar high = a.high + b.high;\r\n\t\tvar low = a.low + b.low;\r\n\t\tif (Int32.ucompare(low, a.low) < 0)\r\n\t\t\thigh++;\r\n\t\treturn make(high, low);\r\n\t}\r\n\r\n\t@:op(A + B) @:commutative private static inline function addInt(a:Int64, b:Int):Int64\r\n\t\treturn add(a, b);\r\n\r\n\t/**\r\n\t\tReturns `a` minus `b`.\r\n\t**/\r\n\t@:op(A - B) public static inline function sub(a:Int64, b:Int64):Int64 {\r\n\t\tvar high = a.high - b.high;\r\n\t\tvar low = a.low - b.low;\r\n\t\tif (Int32.ucompare(a.low, b.low) < 0)\r\n\t\t\thigh--;\r\n\t\treturn make(high, low);\r\n\t}\r\n\r\n\t@:op(A - B) private static inline function subInt(a:Int64, b:Int):Int64\r\n\t\treturn sub(a, b);\r\n\r\n\t@:op(A - B) private static inline function intSub(a:Int, b:Int64):Int64\r\n\t\treturn sub(a, b);\r\n\r\n\t/**\r\n\t\tReturns the product of `a` and `b`.\r\n\t**/\r\n\t@:op(A * B)\r\n\tpublic static #if !lua inline #end function mul(a:Int64, b:Int64):Int64 {\r\n\t\tvar mask = 0xFFFF;\r\n\t\tvar al = a.low & mask, ah = a.low >>> 16;\r\n\t\tvar bl = b.low & mask, bh = b.low >>> 16;\r\n\t\tvar p00 = al * bl;\r\n\t\tvar p10 = ah * bl;\r\n\t\tvar p01 = al * bh;\r\n\t\tvar p11 = ah * bh;\r\n\t\tvar low = p00;\r\n\t\tvar high = p11 + (p01 >>> 16) + (p10 >>> 16);\r\n\t\tp01 <<= 16;\r\n\t\tlow += p01;\r\n\t\tif (Int32.ucompare(low, p01) < 0)\r\n\t\t\thigh++;\r\n\t\tp10 <<= 16;\r\n\t\tlow += p10;\r\n\t\tif (Int32.ucompare(low, p10) < 0)\r\n\t\t\thigh++;\r\n\t\thigh += a.low * b.high + a.high * b.low;\r\n\t\treturn make(high, low);\r\n\t}\r\n\r\n\t@:op(A * B) @:commutative private static inline function mulInt(a:Int64, b:Int):Int64\r\n\t\treturn mul(a, b);\r\n\r\n\t/**\r\n\t\tReturns the quotient of `a` divided by `b`.\r\n\t**/\r\n\t@:op(A / B) public static inline function div(a:Int64, b:Int64):Int64\r\n\t\treturn divMod(a, b).quotient;\r\n\r\n\t@:op(A / B) private static inline function divInt(a:Int64, b:Int):Int64\r\n\t\treturn div(a, b);\r\n\r\n\t@:op(A / B) private static inline function intDiv(a:Int, b:Int64):Int64\r\n\t\treturn div(a, b).toInt();\r\n\r\n\t/**\r\n\t\tReturns the modulus of `a` divided by `b`.\r\n\t**/\r\n\t@:op(A % B) public static inline function mod(a:Int64, b:Int64):Int64\r\n\t\treturn divMod(a, b).modulus;\r\n\r\n\t@:op(A % B) private static inline function modInt(a:Int64, b:Int):Int64\r\n\t\treturn mod(a, b).toInt();\r\n\r\n\t@:op(A % B) private static inline function intMod(a:Int, b:Int64):Int64\r\n\t\treturn mod(a, b).toInt();\r\n\r\n\t/**\r\n\t\tReturns `true` if `a` is equal to `b`.\r\n\t**/\r\n\t@:op(A == B) public static inline function eq(a:Int64, b:Int64):Bool\r\n\t\treturn a.high == b.high && a.low == b.low;\r\n\r\n\t@:op(A == B) @:commutative private static inline function eqInt(a:Int64, b:Int):Bool\r\n\t\treturn eq(a, b);\r\n\r\n\t/**\r\n\t\tReturns `true` if `a` is not equal to `b`.\r\n\t**/\r\n\t@:op(A != B) public static inline function neq(a:Int64, b:Int64):Bool\r\n\t\treturn a.high != b.high || a.low != b.low;\r\n\r\n\t@:op(A != B) @:commutative private static inline function neqInt(a:Int64, b:Int):Bool\r\n\t\treturn neq(a, b);\r\n\r\n\t@:op(A < B) private static inline function lt(a:Int64, b:Int64):Bool\r\n\t\treturn compare(a, b) < 0;\r\n\r\n\t@:op(A < B) private static inline function ltInt(a:Int64, b:Int):Bool\r\n\t\treturn lt(a, b);\r\n\r\n\t@:op(A < B) private static inline function intLt(a:Int, b:Int64):Bool\r\n\t\treturn lt(a, b);\r\n\r\n\t@:op(A <= B) private static inline function lte(a:Int64, b:Int64):Bool\r\n\t\treturn compare(a, b) <= 0;\r\n\r\n\t@:op(A <= B) private static inline function lteInt(a:Int64, b:Int):Bool\r\n\t\treturn lte(a, b);\r\n\r\n\t@:op(A <= B) private static inline function intLte(a:Int, b:Int64):Bool\r\n\t\treturn lte(a, b);\r\n\r\n\t@:op(A > B) private static inline function gt(a:Int64, b:Int64):Bool\r\n\t\treturn compare(a, b) > 0;\r\n\r\n\t@:op(A > B) private static inline function gtInt(a:Int64, b:Int):Bool\r\n\t\treturn gt(a, b);\r\n\r\n\t@:op(A > B) private static inline function intGt(a:Int, b:Int64):Bool\r\n\t\treturn gt(a, b);\r\n\r\n\t@:op(A >= B) private static inline function gte(a:Int64, b:Int64):Bool\r\n\t\treturn compare(a, b) >= 0;\r\n\r\n\t@:op(A >= B) private static inline function gteInt(a:Int64, b:Int):Bool\r\n\t\treturn gte(a, b);\r\n\r\n\t@:op(A >= B) private static inline function intGte(a:Int, b:Int64):Bool\r\n\t\treturn gte(a, b);\r\n\r\n\t/**\r\n\t\tReturns the bitwise NOT of `a`.\r\n\t**/\r\n\t@:op(~A) private static inline function complement(a:Int64):Int64\r\n\t\treturn make(~a.high, ~a.low);\r\n\r\n\t/**\r\n\t\tReturns the bitwise AND of `a` and `b`.\r\n\t**/\r\n\t@:op(A & B) public static inline function and(a:Int64, b:Int64):Int64\r\n\t\treturn make(a.high & b.high, a.low & b.low);\r\n\r\n\t/**\r\n\t\tReturns the bitwise OR of `a` and `b`.\r\n\t**/\r\n\t@:op(A | B) public static inline function or(a:Int64, b:Int64):Int64\r\n\t\treturn make(a.high | b.high, a.low | b.low);\r\n\r\n\t/**\r\n\t\tReturns the bitwise XOR of `a` and `b`.\r\n\t**/\r\n\t@:op(A ^ B) public static inline function xor(a:Int64, b:Int64):Int64\r\n\t\treturn make(a.high ^ b.high, a.low ^ b.low);\r\n\r\n\t/**\r\n\t\tReturns `a` left-shifted by `b` bits.\r\n\t**/\r\n\t@:op(A << B) public static inline function shl(a:Int64, b:Int):Int64 {\r\n\t\tb &= 63;\r\n\t\treturn if (b == 0) a.copy() else if (b < 32) make((a.high << b) | (a.low >>> (32 - b)), a.low << b) else make(a.low << (b - 32), 0);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns `a` right-shifted by `b` bits in signed mode.\r\n\t\t`a` is sign-extended.\r\n\t**/\r\n\t@:op(A >> B) public static inline function shr(a:Int64, b:Int):Int64 {\r\n\t\tb &= 63;\r\n\t\treturn if (b == 0) a.copy() else if (b < 32) make(a.high >> b, (a.high << (32 - b)) | (a.low >>> b)); else make(a.high >> 31, a.high >> (b - 32));\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns `a` right-shifted by `b` bits in unsigned mode.\r\n\t\t`a` is padded with zeroes.\r\n\t**/\r\n\t@:op(A >>> B) public static inline function ushr(a:Int64, b:Int):Int64 {\r\n\t\tb &= 63;\r\n\t\treturn if (b == 0) a.copy() else if (b < 32) make(a.high >>> b, (a.high << (32 - b)) | (a.low >>> b)); else make(0, a.high >>> (b - 32));\r\n\t}\r\n\r\n\tpublic var high(get, never):Int32;\r\n\r\n\tprivate inline function get_high()\r\n\t\treturn this.high;\r\n\r\n\tprivate inline function set_high(x)\r\n\t\treturn this.high = x;\r\n\r\n\tpublic var low(get, never):Int32;\r\n\r\n\tprivate inline function get_low()\r\n\t\treturn this.low;\r\n\r\n\tprivate inline function set_low(x)\r\n\t\treturn this.low = x;\r\n}\r\n\r\n/**\r\n\tThis typedef will fool `@:coreApi` into thinking that we are using\r\n\tthe same underlying type, even though it might be different on\r\n\tspecific platforms.\r\n**/\r\nprivate typedef __Int64 = ___Int64;\r\n\r\nprivate class ___Int64 {\r\n\tpublic var high:Int32;\r\n\tpublic var low:Int32;\r\n\r\n\tpublic inline function new(high, low) {\r\n\t\tthis.high = high;\r\n\t\tthis.low = low;\r\n\t}\r\n\r\n\t/**\r\n\t\tWe also define toString here to ensure we always get a pretty string\r\n\t\twhen tracing or calling `Std.string`. This tends not to happen when\r\n\t\t`toString` is only in the abstract.\r\n\t**/\r\n\tpublic function toString():String\r\n\t\treturn Int64.toStr(cast this);\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.io;\r\n\r\n@:coreApi\r\nclass Bytes {\r\n\tpublic var length(default, null):Int;\r\n\r\n\tvar b:js.lib.Uint8Array;\r\n\tvar data:js.lib.DataView;\r\n\r\n\tfunction new(data:BytesData) {\r\n\t\tthis.length = data.byteLength;\r\n\t\tthis.b = new js.lib.Uint8Array(data);\r\n\t\tuntyped {\r\n\t\t\tb.bufferValue = data; // some impl does not return the same instance in .buffer\r\n\t\t\tdata.hxBytes = this;\r\n\t\t\tdata.bytes = this.b;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic inline function get(pos:Int):Int {\r\n\t\treturn b[pos];\r\n\t}\r\n\r\n\tpublic inline function set(pos:Int, v:Int):Void {\r\n\t\tb[pos] = v;\r\n\t}\r\n\r\n\tpublic function blit(pos:Int, src:Bytes, srcpos:Int, len:Int):Void {\r\n\t\tif (pos < 0 || srcpos < 0 || len < 0 || pos + len > length || srcpos + len > src.length)\r\n\t\t\tthrow Error.OutsideBounds;\r\n\t\tif (srcpos == 0 && len == src.b.byteLength)\r\n\t\t\tb.set(src.b, pos);\r\n\t\telse\r\n\t\t\tb.set(src.b.subarray(srcpos, srcpos + len), pos);\r\n\t}\r\n\r\n\tpublic function fill(pos:Int, len:Int, value:Int):Void {\r\n\t\tfor (i in 0...len)\r\n\t\t\tset(pos++, value);\r\n\t}\r\n\r\n\tpublic function sub(pos:Int, len:Int):Bytes {\r\n\t\tif (pos < 0 || len < 0 || pos + len > length)\r\n\t\t\tthrow Error.OutsideBounds;\r\n\t\treturn new Bytes(b.buffer.slice(pos + b.byteOffset, pos + b.byteOffset + len));\r\n\t}\r\n\r\n\tpublic function compare(other:Bytes):Int {\r\n\t\tvar b1 = b;\r\n\t\tvar b2 = other.b;\r\n\t\tvar len = (length < other.length) ? length : other.length;\r\n\t\tfor (i in 0...len)\r\n\t\t\tif (b1[i] != b2[i])\r\n\t\t\t\treturn b1[i] - b2[i];\r\n\t\treturn length - other.length;\r\n\t}\r\n\r\n\tinline function initData():Void {\r\n\t\tif (data == null)\r\n\t\t\tdata = new js.lib.DataView(b.buffer, b.byteOffset, b.byteLength);\r\n\t}\r\n\r\n\tpublic function getDouble(pos:Int):Float {\r\n\t\tinitData();\r\n\t\treturn data.getFloat64(pos, true);\r\n\t}\r\n\r\n\tpublic function getFloat(pos:Int):Float {\r\n\t\tinitData();\r\n\t\treturn data.getFloat32(pos, true);\r\n\t}\r\n\r\n\tpublic function setDouble(pos:Int, v:Float):Void {\r\n\t\tinitData();\r\n\t\tdata.setFloat64(pos, v, true);\r\n\t}\r\n\r\n\tpublic function setFloat(pos:Int, v:Float):Void {\r\n\t\tinitData();\r\n\t\tdata.setFloat32(pos, v, true);\r\n\t}\r\n\r\n\tpublic function getUInt16(pos:Int):Int {\r\n\t\tinitData();\r\n\t\treturn data.getUint16(pos, true);\r\n\t}\r\n\r\n\tpublic function setUInt16(pos:Int, v:Int):Void {\r\n\t\tinitData();\r\n\t\tdata.setUint16(pos, v, true);\r\n\t}\r\n\r\n\tpublic function getInt32(pos:Int):Int {\r\n\t\tinitData();\r\n\t\treturn data.getInt32(pos, true);\r\n\t}\r\n\r\n\tpublic function setInt32(pos:Int, v:Int):Void {\r\n\t\tinitData();\r\n\t\tdata.setInt32(pos, v, true);\r\n\t}\r\n\r\n\tpublic function getInt64(pos:Int):haxe.Int64 {\r\n\t\treturn Int64.make(getInt32(pos + 4), getInt32(pos));\r\n\t}\r\n\r\n\tpublic function setInt64(pos:Int, v:haxe.Int64):Void {\r\n\t\tsetInt32(pos, v.low);\r\n\t\tsetInt32(pos + 4, v.high);\r\n\t}\r\n\r\n\tpublic function getString(pos:Int, len:Int, ?encoding:Encoding):String {\r\n\t\tif (pos < 0 || len < 0 || pos + len > length)\r\n\t\t\tthrow Error.OutsideBounds;\r\n\t\tif (encoding == null)\r\n\t\t\tencoding = UTF8;\r\n\t\tvar s = \"\";\r\n\t\tvar b = b;\r\n\t\tvar i = pos;\r\n\t\tvar max = pos + len;\r\n\t\tswitch (encoding) {\r\n\t\t\tcase UTF8:\r\n\t\t\t\tvar debug = pos > 0;\r\n\t\t\t\t// utf8-decode and utf16-encode\r\n\t\t\t\twhile (i < max) {\r\n\t\t\t\t\tvar c = b[i++];\r\n\t\t\t\t\tif (c < 0x80) {\r\n\t\t\t\t\t\tif (c == 0)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\ts += String.fromCharCode(c);\r\n\t\t\t\t\t} else if (c < 0xE0)\r\n\t\t\t\t\t\ts += String.fromCharCode(((c & 0x3F) << 6) | (b[i++] & 0x7F));\r\n\t\t\t\t\telse if (c < 0xF0) {\r\n\t\t\t\t\t\tvar c2 = b[i++];\r\n\t\t\t\t\t\ts += String.fromCharCode(((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (b[i++] & 0x7F));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar c2 = b[i++];\r\n\t\t\t\t\t\tvar c3 = b[i++];\r\n\t\t\t\t\t\tvar u = ((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 & 0x7F) << 6) | (b[i++] & 0x7F);\r\n\t\t\t\t\t\ts += String.fromCharCode(u);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tcase RawNative:\r\n\t\t\t\twhile (i < max) {\r\n\t\t\t\t\tvar c = b[i++] | (b[i++] << 8);\r\n\t\t\t\t\ts += String.fromCharCode(c);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n\r\n\t@:deprecated(\"readString is deprecated, use getString instead\")\r\n\t@:noCompletion\r\n\tpublic inline function readString(pos:Int, len:Int):String {\r\n\t\treturn getString(pos, len);\r\n\t}\r\n\r\n\tpublic function toString():String {\r\n\t\treturn getString(0, length);\r\n\t}\r\n\r\n\tpublic function toHex():String {\r\n\t\tvar s = new StringBuf();\r\n\t\tvar chars = [];\r\n\t\tvar str = \"0123456789abcdef\";\r\n\t\tfor (i in 0...str.length)\r\n\t\t\tchars.push(str.charCodeAt(i));\r\n\t\tfor (i in 0...length) {\r\n\t\t\tvar c = get(i);\r\n\t\t\ts.addChar(chars[c >> 4]);\r\n\t\t\ts.addChar(chars[c & 15]);\r\n\t\t}\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\tpublic inline function getData():BytesData {\r\n\t\treturn untyped b.bufferValue;\r\n\t}\r\n\r\n\tpublic static inline function alloc(length:Int):Bytes {\r\n\t\treturn new Bytes(new BytesData(length));\r\n\t}\r\n\r\n\tpublic static function ofString(s:String, ?encoding:Encoding):Bytes {\r\n\t\tif (encoding == RawNative) {\r\n\t\t\tvar buf = new js.lib.Uint8Array(s.length << 1);\r\n\t\t\tfor (i in 0...s.length) {\r\n\t\t\t\tvar c:Int = StringTools.fastCodeAt(s, i);\r\n\t\t\t\tbuf[i << 1] = c & 0xFF;\r\n\t\t\t\tbuf[(i << 1) | 1] = c >> 8;\r\n\t\t\t}\r\n\t\t\treturn new Bytes(buf.buffer);\r\n\t\t}\r\n\t\tvar a = new Array();\r\n\t\t// utf16-decode and utf8-encode\r\n\t\tvar i = 0;\r\n\t\twhile (i < s.length) {\r\n\t\t\tvar c:Int = StringTools.fastCodeAt(s, i++);\r\n\t\t\t// surrogate pair\r\n\t\t\tif (0xD800 <= c && c <= 0xDBFF)\r\n\t\t\t\tc = (c - 0xD7C0 << 10) | (StringTools.fastCodeAt(s, i++) & 0x3FF);\r\n\t\t\tif (c <= 0x7F)\r\n\t\t\t\ta.push(c);\r\n\t\t\telse if (c <= 0x7FF) {\r\n\t\t\t\ta.push(0xC0 | (c >> 6));\r\n\t\t\t\ta.push(0x80 | (c & 63));\r\n\t\t\t} else if (c <= 0xFFFF) {\r\n\t\t\t\ta.push(0xE0 | (c >> 12));\r\n\t\t\t\ta.push(0x80 | ((c >> 6) & 63));\r\n\t\t\t\ta.push(0x80 | (c & 63));\r\n\t\t\t} else {\r\n\t\t\t\ta.push(0xF0 | (c >> 18));\r\n\t\t\t\ta.push(0x80 | ((c >> 12) & 63));\r\n\t\t\t\ta.push(0x80 | ((c >> 6) & 63));\r\n\t\t\t\ta.push(0x80 | (c & 63));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new Bytes(new js.lib.Uint8Array(a).buffer);\r\n\t}\r\n\r\n\tpublic static function ofData(b:BytesData):Bytes {\r\n\t\tvar hb = untyped b.hxBytes;\r\n\t\tif (hb != null)\r\n\t\t\treturn hb;\r\n\t\treturn new Bytes(b);\r\n\t}\r\n\r\n\tpublic static function ofHex(s:String):Bytes {\r\n\t\tif ((s.length & 1) != 0)\r\n\t\t\tthrow \"Not a hex string (odd number of digits)\";\r\n\t\tvar a = new Array();\r\n\t\tvar i = 0;\r\n\t\tvar len = s.length >> 1;\r\n\t\twhile (i < len) {\r\n\t\t\tvar high = StringTools.fastCodeAt(s, i * 2);\r\n\t\t\tvar low = StringTools.fastCodeAt(s, i * 2 + 1);\r\n\t\t\thigh = (high & 0xF) + ((high & 0x40) >> 6) * 9;\r\n\t\t\tlow = (low & 0xF) + ((low & 0x40) >> 6) * 9;\r\n\t\t\ta.push(((high << 4) | low) & 0xFF);\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\treturn new Bytes(new js.lib.Uint8Array(a).buffer);\r\n\t}\r\n\r\n\tpublic inline static function fastGet(b:BytesData, pos:Int):Int {\r\n\t\t// this requires that we have wrapped it with haxe.io.Bytes beforehand\r\n\t\treturn untyped b.bytes[pos];\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2014-2020 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.node.buffer;\r\n\r\nimport haxe.io.Bytes;\r\nimport haxe.io.UInt8Array;\r\n#if haxe4\r\nimport js.lib.ArrayBuffer;\r\nimport js.lib.ArrayBufferView;\r\nimport js.lib.Object;\r\nimport js.lib.Uint8Array;\r\n#else\r\nimport js.html.ArrayBuffer;\r\nimport js.html.ArrayBufferView;\r\nimport js.html.Uint8Array;\r\n#end\r\n\r\n/**\r\n\tThe `Buffer` class is a global type for dealing with binary data directly. It can be constructed in a variety of ways.\r\n\r\n\t@see https://nodejs.org/api/buffer.html#buffer_class_buffer\r\n**/\r\n@:jsRequire(\"buffer\", \"Buffer\")\r\nextern class Buffer extends Uint8Array {\r\n\t/**\r\n\t\tAllocates a new buffer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_new_buffer_array\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_new_buffer_arraybuffer_byteoffset_length\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_new_buffer_buffer\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_new_buffer_size\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_new_buffer_string_encoding\r\n\t**/\r\n\t@:deprecated\r\n\t@:overload(function(array:Array<Int>):Void {})\r\n\t@:overload(function(arrayBuffer:ArrayBuffer, ?byteOffset:Int, ?length:Int):Void {})\r\n\t@:overload(function(buffer:UInt8Array):Void {})\r\n\t@:overload(function(size:Int):Void {})\r\n\tfunction new(string:String, ?encoding:String):Void;\r\n\r\n\t/**\r\n\t\tAllocates a new `Buffer` of `size` bytes. If `fill` is `undefined`, the `Buffer` will be zero-filled.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_alloc_size_fill_encoding\r\n\t**/\r\n\t@:overload(function(size:Int, fill:String, ?encoding:String):Buffer {})\r\n\t@:overload(function(size:Int, fill:Uint8Array):Buffer {})\r\n\t@:overload(function(size:Int, fill:Int):Buffer {})\r\n\tstatic function alloc(size:Int):Buffer;\r\n\r\n\t/**\r\n\t\tAllocates a new `Buffer` of `size` bytes. If `size` is larger than\r\n\t\t`buffer.constants.MAX_LENGTH` or smaller than 0, `ERR_INVALID_OPT_VALUE`\r\n\t\tis thrown. A zero-length `Buffer` is created if `size` is 0.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_allocunsafe_size\r\n\t**/\r\n\tstatic function allocUnsafe(size:Int):Buffer;\r\n\r\n\t/**\r\n\t\tAllocates a new `Buffer` of `size` bytes. If `size` is larger than\r\n\t\t`buffer.constants.MAX_LENGTH` or smaller than 0, `ERR_INVALID_OPT_VALUE`\r\n\t\tis thrown. A zero-length `Buffer` is created if `size` is 0.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_allocunsafeslow_size\r\n\t**/\r\n\tstatic function allocUnsafeSlow(size:Int):Buffer;\r\n\r\n\t/**\r\n\t\tReturns the actual byte length of a string. This is not the same as\r\n\t\t`String.prototype.length` since that returns the number of characters in\r\n\t\ta string.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_bytelength_string_encoding\r\n\t**/\r\n\t#if (haxe_ver >= 3.3)\r\n\t// it need extern SharedArrayBuffer for Node\r\n\t// @:overload(function(string:SharedArrayBuffer):Int {})\r\n\t@:overload(function(string:String, ?encoding:String):Int {})\r\n\t@:overload(function(string:ArrayBufferView):Int {})\r\n\t@:overload(function(string:ArrayBuffer):Int {})\r\n\tstatic function byteLength(string:Buffer):Int;\r\n\t#end\r\n\r\n\t#if (haxe_ver >= 3.3)\r\n\t@:deprecated(\"In haxe 3.3+, use Buffer.byteLength instead!\")\r\n\t#end\r\n\tinline static function _byteLength(string:String, ?encoding:String):Int\r\n\t\treturn untyped Buffer['byteLength'](string, encoding);\r\n\r\n\t/**\r\n\t\tCompares `buf1` to `buf2` typically for the purpose of sorting arrays of\r\n\t\t`Buffer` instances. This is equivalent to calling `buf1.compare(buf2)`.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_compare_buf1_buf2\r\n\t**/\r\n\t@:native(\"compare\")\r\n\tstatic function compareBuffers(buf1:Uint8Array, buf2:Uint8Array):Int;\r\n\r\n\t/**\r\n\t\tReturns a new `Buffer` which is the result of concatenating all the `Buffer` instances in the `list` together.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_concat_list_totallength\r\n\t**/\r\n\tstatic function concat<T:Uint8Array>(list:Array<T>, ?totalLength:Int):Buffer;\r\n\r\n\t/**\r\n\t\tAllocates a new `Buffer`.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_from_array\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_from_arraybuffer_byteoffset_length\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_from_buffer\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_from_object_offsetorencoding_length\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_from_string_encoding\r\n\t**/\r\n\t// it need extern SharedArrayBuffer for node\r\n\t// @:overload(function(arrayBuffer:SharedArrayBuffer, ?byteOffset:Int, ?length:Int):Buffer {})\r\n\t@:overload(function(array:Array<Int>):Buffer {})\r\n\t@:overload(function(arrayBuffer:ArrayBuffer, ?byteOffset:Int, ?length:Int):Buffer {})\r\n\t@:overload(function(buffer:Uint8Array):Buffer {})\r\n\t@:overload(function(object:{}, ?offset:Int, ?length:Int):Buffer {})\r\n\t@:overload(function(object:{}, ?encoding:String, ?length:Int):Buffer {})\r\n\tstatic function from(string:String, ?encoding:String):Buffer;\r\n\r\n\t/**\r\n\t\tReturns `true` if `obj` is a `Buffer`, `false` otherwise.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_isbuffer_obj\r\n\t**/\r\n\tstatic function isBuffer(obj:Dynamic):Bool;\r\n\r\n\t/**\r\n\t\tReturns `true` if `encoding` contains a supported character encoding, or `false` otherwise.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_method_buffer_isencoding_encoding\r\n\t**/\r\n\tstatic function isEncoding(encoding:String):Bool;\r\n\r\n\t/**\r\n\t\tThis is the size (in bytes) of pre-allocated internal `Buffer` instances used for pooling. This value may be modified.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_class_property_buffer_poolsize\r\n\t**/\r\n\tstatic var poolSize:Int;\r\n\r\n\t// buf[index]\r\n\t// var buffer:ArrayBuffer;\r\n\r\n\t/**\r\n\t\tWhen setting `byteOffset` in `Buffer.from(ArrayBuffer, byteOffset, length)`\r\n\t\tor sometimes when allocating a buffer smaller than `Buffer.poolSize` the\r\n\t\tbuffer doesn't start from a zero offset on the underlying `ArrayBuffer`.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_byteoffset\r\n\t**/\r\n\tstatic var byteOffset(default, null):Int;\r\n\r\n\t/**\r\n\t\tCompares `buf` with `target` and returns a number indicating whether `buf` comes before, after,\r\n\t\tor is the same as `target` in sort order. Comparison is based on the actual sequence of bytes in each `Buffer`.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_compare_target_targetstart_targetend_sourcestart_sourceend\r\n\t**/\r\n\t@:overload(function(target:Uint8Array):Int {})\r\n\tfunction compare(target:Uint8Array, ?targetStart:Int, ?targetEnd:Int, ?sourceStart:Int, ?sourceEnd:Int):Int;\r\n\r\n\t/**\r\n\t\tCopies data from a region of `buf` to a region in `target` even if the `target` memory region overlaps with `buf`.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_copy_target_targetstart_sourcestart_sourceend\r\n\t**/\r\n\t@:overload(function(target:Uint8Array):Void {})\r\n\tfunction copy(target:Uint8Array, ?targetStart:Int, ?sourceStart:Int, ?sourceEnd:Int):Void;\r\n\r\n\t/**\r\n\t\tCreates and returns an iterator of `[index, byte]` pairs from the contents of `buf`.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_entries\r\n\t**/\r\n\tfunction entries():js.node.Iterator<js.node.KeyValue<Int, Int>>;\r\n\r\n\t/**\r\n\t\tReturns `true` if both `buf` and `otherBuffer` have exactly the same bytes, `false` otherwise.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_equals_otherbuffer\r\n\t**/\r\n\tfunction equals(otherBuffer:Uint8Array):Bool;\r\n\r\n\t/**\r\n\t\tFills `buf` with the specified `value`. If the `offset` and `end` are not given, the entire `buf` will be filled:\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_fill_value_offset_end_encoding\r\n\t**/\r\n\t@:overload(function(value:Uint8Array, ?offset:Int, ?end:Int):Buffer {})\r\n\t@:overload(function(value:Int, ?offset:Int, ?end:Int):Buffer {})\r\n\tfunction fill(value:String, ?offset:Int, ?end:Int, ?encoding:String):Buffer;\r\n\r\n\t/**\r\n\t\tEquivalent to `buf.indexOf() !== -1`.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_includes_value_byteoffset_encoding\r\n\t**/\r\n\t@:overload(function(value:Uint8Array, ?byteOffset:Int):Bool {})\r\n\t@:overload(function(value:Int, ?byteOffset:Int):Bool {})\r\n\tfunction includes(value:String, ?byteOffset:Int, ?encoding:String):Bool;\r\n\r\n\t/**\r\n\t\tIf `value` is:\r\n\r\n\t\t- a string, `value` is interpreted according to the character encoding in `encoding`.\r\n\t\t- a `Buffer` or Uint8Array, `value` will be used in its entirety. To compare a partial `Buffer`, use buf.slice().\r\n\t\t- a number, `value` will be interpreted as an unsigned 8-bit integer value between `0` and `255`.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_indexof_value_byteoffset_encoding\r\n\t**/\r\n\t@:overload(function(value:Uint8Array, ?byteOffset:Int):Int {})\r\n\t@:overload(function(value:Int, ?byteOffset:Int):Int {})\r\n\tfunction indexOf(value:String, ?byteOffset:Int, ?encoding:String):Int;\r\n\r\n\t/**\r\n\t\tCreates and returns an iterator of `buf` keys (indices).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_keys\r\n\t**/\r\n\tfunction keys():js.node.Iterator<Int>;\r\n\r\n\t/**\r\n\t\tIdentical to `buf.indexOf()`, except the last occurrence of `value` is found\r\n\t\trather than the first occurrence.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_lastindexof_value_byteoffset_encoding\r\n\t**/\r\n\t@:overload(function(value:Uint8Array, ?byteOffset:Int):Int {})\r\n\t@:overload(function(value:Int, ?byteOffset:Int):Int {})\r\n\tfunction lastIndexOf(value:String, ?byteOffset:Int, ?encoding:String):Int;\r\n\r\n\t// var length(default, null):Int;\r\n\t// these functions need BigInt implementation.\r\n\t// /**\r\n\t// \tReads a signed 64-bit integer from `buf` at the specified `offset` with the specified endian format\r\n\t// \t(`readBigInt64BE()` returns big endian, `readBigInt64LE()` returns little endian).\r\n\t// \t@see https://nodejs.org/api/buffer.html#buffer_buf_readbigint64be_offset\r\n\t// **/\r\n\t// function readBigInt64BE(?offset:Int):BigInt;\r\n\t// /**\r\n\t// \tReads a signed 64-bit integer from `buf` at the specified `offset` with the specified endian format\r\n\t// \t(`readBigInt64BE()` returns big endian, `readBigInt64LE()` returns little endian).\r\n\t// \t@see https://nodejs.org/api/buffer.html#buffer_buf_readbigint64le_offset\r\n\t// **/\r\n\t// function readBigInt64LE(?offset:Int):BigInt;\r\n\t// /**\r\n\t// \tReads an unsigned 64-bit integer from `buf` at the specified `offset` with specified endian format\r\n\t// \t(`readBigUInt64BE()` returns big endian, `readBigUInt64LE()` returns little endian).\r\n\t// \t@see https://nodejs.org/api/buffer.html#buffer_buf_readbiguint64be_offset\r\n\t// **/\r\n\t// function readBigUInt64BE(?offset:Int):BigInt;\r\n\t// /**\r\n\t// \tReads an unsigned 64-bit integer from `buf` at the specified `offset` with specified endian format\r\n\t// \t(`readBigUInt64BE()` returns big endian, `readBigUInt64LE()` returns little endian).\r\n\t// \t@see https://nodejs.org/api/buffer.html#buffer_buf_readbiguint64le_offset\r\n\t// **/\r\n\t// function readBigUInt64LE(?offset:Int):BigInt;\r\n\r\n\t/**\r\n\t\tReads a 64-bit double from `buf` at the specified `offset` with specified endian format\r\n\t\t(`readDoubleBE()` returns big endian, `readDoubleLE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readdoublebe_offset\r\n\t**/\r\n\tfunction readDoubleBE(?offset:Int):Float;\r\n\r\n\t/**\r\n\t\tReads a 64-bit double from `buf` at the specified `offset` with specified endian format\r\n\t\t(`readDoubleBE()` returns big endian, `readDoubleLE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readdoublele_offset\r\n\t**/\r\n\tfunction readDoubleLE(?offset:Int):Float;\r\n\r\n\t/**\r\n\t\tReads a 32-bit float from `buf` at the specified `offset` with specified endian format\r\n\t\t(`readFloatBE()` returns big endian, `readFloatLE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readfloatbe_offset\r\n\t**/\r\n\tfunction readFloatBE(?offset:Int):Float;\r\n\r\n\t/**\r\n\t\tReads a 32-bit float from `buf` at the specified `offset` with specified endian format\r\n\t\t(`readFloatBE()` returns big endian, `readFloatLE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readfloatle_offset\r\n\t**/\r\n\tfunction readFloatLE(?offset:Int):Float;\r\n\r\n\t/**\r\n\t\tReads a signed 8-bit integer from `buf` at the specified `offset`.\r\n\r\n\t\thttps://nodejs.org/api/buffer.html#buffer_buf_readint8_offset\r\n\t**/\r\n\tfunction readInt8(?offset:Int):Int;\r\n\r\n\t/**\r\n\t\tReads a signed 16-bit integer from `buf` at the specified `offset` with the specified endian format\r\n\t\t(`readInt16BE()` returns big endian, `readInt16LE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readint16be_offset\r\n\t**/\r\n\tfunction readInt16BE(?offset:Int):Int;\r\n\r\n\t/**\r\n\t\tReads a signed 16-bit integer from `buf` at the specified `offset` with the specified endian format\r\n\t\t(`readInt16BE()` returns big endian, `readInt16LE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readint16le_offset\r\n\t**/\r\n\tfunction readInt16LE(?offset:Int):Int;\r\n\r\n\t/**\r\n\t\tReads a signed 32-bit integer from buf at the specified offset with the specified endian format\r\n\t\t(`readInt32BE()` returns big endian, `readInt32LE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readint32be_offset\r\n\t**/\r\n\tfunction readInt32BE(?offset:Int):Int;\r\n\r\n\t/**\r\n\t\tReads a signed 32-bit integer from buf at the specified offset with the specified endian format\r\n\t\t(`readInt32BE()` returns big endian, `readInt32LE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readint32be_offset\r\n\t**/\r\n\tfunction readInt32LE(?offset:Int):Int;\r\n\r\n\t/**\r\n\t\tReads `byteLength` number of bytes from `buf` at the specified `offset` and interprets the result\r\n\t\tas a two's complement signed value. Supports up to 48 bits of accuracy.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readintbe_offset_bytelength\r\n\t**/\r\n\tfunction readIntBE(offset:Int, byteLength:Int):Int;\r\n\r\n\t/**\r\n\t\tReads `byteLength` number of bytes from `buf` at the specified `offset` and interprets the result\r\n\t\tas a two's complement signed value. Supports up to 48 bits of accuracy.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readintle_offset_bytelength\r\n\t**/\r\n\tfunction readIntLE(offset:Int, byteLength:Int):Int;\r\n\r\n\t/**\r\n\t\tReads an unsigned 8-bit integer from `buf` at the specified `offset`.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readuint8_offset\r\n\t**/\r\n\tfunction readUInt8(?offset:Int):Int;\r\n\r\n\t/**\r\n\t\tReads an unsigned 16-bit integer from `buf` at the specified `offset` with specified endian format\r\n\t\t`readUInt16BE()` returns big endian, `readUInt16LE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readuint16be_offset\r\n\t**/\r\n\tfunction readUInt16BE(?offset:Int):Int;\r\n\r\n\t/**\r\n\t\tReads an unsigned 16-bit integer from `buf` at the specified `offset` with specified endian format\r\n\t\t(`readUInt16BE()` returns big endian, `readUInt16LE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readuint16le_offset\r\n\t**/\r\n\tfunction readUInt16LE(?offset:Int):Int;\r\n\r\n\t/**\r\n\t\tReads an unsigned 32-bit integer from `buf` at the specified `offset` with specified endian format\r\n\t\t(`readUInt32BE()` returns big endian, `readUInt32LE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readuint32be_offset\r\n\t**/\r\n\tfunction readUInt32BE(?offset:Int):Int;\r\n\r\n\t/**\r\n\t\tReads an unsigned 32-bit integer from `buf` at the specified `offset` with specified endian format\r\n\t\t(`readUInt32BE()` returns big endian, `readUInt32LE()` returns little endian).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_readuint32be_offset\r\n\t**/\r\n\tfunction readUInt32LE(?offset:Int):Int;\r\n\r\n\t/**\r\n\t\tReturns a new `Buffer` that references the same memory as the original,\r\n\t\tbut offset and cropped by the `start` and `end` indices.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_subarray_start_end\r\n\t**/\r\n\t#if haxe4\r\n\tfunction subarray(?start:Int, ?end:Int):Buffer;\r\n\t#else\r\n\toverride function subarray(start:Int, ?end:Int):Buffer;\r\n\t#end\r\n\r\n\t/**\r\n\t\tReturns a new `Buffer` that references the same memory as the original,\r\n\t\tbut offset and cropped by the `start` and `end` indices.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_slice_start_end\r\n\t**/\r\n\tfunction slice(?start:Int, ?end:Int):Buffer;\r\n\r\n\t/**\r\n\t\tInterprets `buf` as an array of unsigned 16-bit integers and swaps the\r\n\t\tbyte order in-place. Throws `ERR_INVALID_BUFFER_SIZE` if `buf.length`\r\n\t\tis not a multiple of 2.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_swap16\r\n\t**/\r\n\tfunction swap16():Buffer;\r\n\r\n\t/**\r\n\t\tInterprets `buf` as an array of unsigned 32-bit integers and swaps the\r\n\t\tbyte order in-place. Throws `ERR_INVALID_BUFFER_SIZE` if `buf.length`\r\n\t\tis not a multiple of 4.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_swap32\r\n\t**/\r\n\tfunction swap32():Buffer;\r\n\r\n\t/**\r\n\t\tInterprets `buf` as an array of 64-bit numbers and swaps byte order in-place.\r\n\t\tThrows `ERR_INVALID_BUFFER_SIZE` if `buf.length` is not a multiple of 8.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_swap64\r\n\t**/\r\n\tfunction swap64():Buffer;\r\n\r\n\t/**\r\n\t\tReturns a JSON representation of `buf`. `JSON.stringify()` implicitly calls\r\n\t\tthis function when stringifying a `Buffer` instance.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_tojson\r\n\t**/\r\n\tfunction toJSON():Dynamic;\r\n\r\n\t/**\r\n\t\tDecodes `buf` to a string according to the specified character encoding in `encoding`.\r\n\t\t`start` and `end` may be passed to decode only a subset of `buf`.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_tostring_encoding_start_end\r\n\t**/\r\n\t@:overload(function(?encoding:String, ?start:Int, ?end:Int):String {})\r\n\tfunction toString():String;\r\n\r\n\t/**\r\n\t\tCreates and returns an iterator for `buf` values (bytes). This function is called automatically\r\n\t\twhen a `Buffer` is used in a `for..of` statement.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_values\r\n\t**/\r\n\tfunction values():js.node.Iterator<Int>;\r\n\r\n\t/**\r\n\t\tWrites `string` to `buf` at `offset` according to the character encoding in `encoding`.\r\n\t\tThe `length` parameter is the number of bytes to write.\r\n\t\tIf `buf` did not contain enough space to fit the entire `string`, only part of string will be written.\r\n\t\tHowever, partially encoded characters will not be written.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_write_string_offset_length_encoding\r\n\t**/\r\n\tfunction write(string:String, ?offset:Int, ?length:Int, ?encoding:String):Int;\r\n\r\n\t// these functions need BigInt Implementation.\r\n\t// /**\r\n\t// \tWrites `value` to `buf` at the specified `offset` with specified endian format (`writeBigInt64BE()` writes big endian, `writeBigInt64LE()` writes little endian).\r\n\t// \t@see https://nodejs.org/api/buffer.html#buffer_buf_writebigint64be_value_offset\r\n\t// **/\r\n\t// function writeBigInt64BE(value:Int, ?offset:Int):BigInt;\r\n\t// /**\r\n\t// \tWrites `value` to `buf` at the specified `offset` with specified endian format (`writeBigInt64BE()` writes big endian, `writeBigInt64LE()` writes little endian).\r\n\t// \t@see https://nodejs.org/api/buffer.html#buffer_buf_writebigint64le_value_offset\r\n\t// **/\r\n\t// function writeBigInt64LE(value:Int, ?offset:Int):BigInt;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeDoubleBE()` writes big endian, `writeDoubleLE()` writes little endian).\r\n\t\t`value` should be a valid 64-bit double. Behavior is undefined when `value` is anything other than a 64-bit double.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writedoublebe_value_offset\r\n\t**/\r\n\tfunction writeDoubleBE(value:Float, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeDoubleBE()` writes big endian, `writeDoubleLE()` writes little endian).\r\n\t\t`value` should be a valid 64-bit double. Behavior is undefined when `value` is anything other than a 64-bit double.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writedoublele_value_offset\r\n\t**/\r\n\tfunction writeDoubleLE(value:Float, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeFloatBE()` writes big endian, `writeFloatLE()` writes little endian).\r\n\t\t`value` should be a valid 32-bit float. Behavior is undefined when `value` is anything other than a 32-bit float.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writefloatbe_value_offset\r\n\t**/\r\n\tfunction writeFloatBE(value:Float, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeFloatBE()` writes big endian, `writeFloatLE()` writes little endian).\r\n\t\t`value` should be a valid 32-bit float. Behavior is undefined when `value` is anything other than a 32-bit float.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writefloatle_value_offset\r\n\t**/\r\n\tfunction writeFloatLE(value:Float, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset`. `value` should be a valid signed 8-bit integer.\r\n\t\tBehavior is undefined when `value` is anything other than a signed 8-bit integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeint8_value_offset\r\n\t**/\r\n\tfunction writeInt8(value:Int, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeInt16BE()` writes big endian, `writeInt16LE()` writes little endian).\r\n\t\t`value` should be a valid signed 16-bit integer.\r\n\t\tBehavior is undefined when value is anything other than a signed 16-bit integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeint16be_value_offset\r\n\t**/\r\n\tfunction writeInt16BE(value:Int, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeInt16BE()` writes big endian, `writeInt16LE()` writes little endian).\r\n\t\t`value` should be a valid signed 16-bit integer.\r\n\t\tBehavior is undefined when value is anything other than a signed 16-bit integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeint16le_value_offset\r\n\t**/\r\n\tfunction writeInt16LE(value:Int, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeInt32BE()` writes big endian, `writeInt32LE()` writes little endian).\r\n\t\t`value` should be a valid signed 32-bit integer.\r\n\t\tBehavior is undefined when `value` is anything other than a signed 32-bit integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeint32be_value_offset\r\n\t**/\r\n\tfunction writeInt32BE(value:Int, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeInt32BE()` writes big endian, `writeInt32LE()` writes little endian).\r\n\t\t`value` should be a valid signed 32-bit integer.\r\n\t\tBehavior is undefined when `value` is anything other than a signed 32-bit integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeint32le_value_offset\r\n\t**/\r\n\tfunction writeInt32LE(value:Int, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `byteLength` bytes of `value` to `buf` at the specified `offset`.\r\n\t\tSupports up to 48 bits of accuracy. Behavior is undefined when `value` is anything other than a signed integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeintbe_value_offset_bytelength\r\n\t**/\r\n\tfunction writeIntBE(value:Int, offset:Int, byteLength:Int):Int;\r\n\r\n\t/**\r\n\t\tWrites `byteLength` bytes of `value` to `buf` at the specified `offset`.\r\n\t\tSupports up to 48 bits of accuracy. Behavior is undefined when `value` is anything other than a signed integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeintle_value_offset_bytelength\r\n\t**/\r\n\tfunction writeIntLE(value:Int, offset:Int, byteLength:Int):Int;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset`. `value` should be a valid unsigned 8-bit integer.\r\n\t\tBehavior is undefined when `value` is anything other than an unsigned 8-bit integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeuint8_value_offset\r\n\t**/\r\n\tfunction writeUInt8(value:Int, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeUInt16BE()` writes big endian, `writeUInt16LE()` writes little endian).\r\n\t\t`value` should be a valid unsigned 16-bit integer.\r\n\t\tBehavior is undefined when `value` is anything other than an unsigned 16-bit integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeuint16be_value_offset\r\n\t**/\r\n\tfunction writeUInt16BE(value:Int, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeUInt16BE()` writes big endian, `writeUInt16LE()` writes little endian).\r\n\t\t`value` should be a valid unsigned 16-bit integer.\r\n\t\tBehavior is undefined when `value` is anything other than an unsigned 16-bit integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeuint16le_value_offset\r\n\t**/\r\n\tfunction writeUInt16LE(value:Int, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeUInt32BE()` writes big endian, `writeUInt32LE()` writes little endian).\r\n\t\t`value` should be a valid unsigned 32-bit integer.\r\n\t\tBehavior is undefined when `value` is anything other than an unsigned 32-bit integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeuint32be_value_offset\r\n\t**/\r\n\tfunction writeUInt32BE(value:Int, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tWrites `value` to `buf` at the specified `offset` with specified endian format\r\n\t\t(`writeUInt32BE()` writes big endian, `writeUInt32LE()` writes little endian).\r\n\t\t`value` should be a valid unsigned 32-bit integer.\r\n\t\tBehavior is undefined when `value` is anything other than an unsigned 32-bit integer.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buf_writeuint32le_value_offset\r\n\t**/\r\n\tfunction writeUInt32LE(value:Int, ?offset:Int):Void;\r\n\r\n\t/**\r\n\t\tDefault: `50`\r\n\r\n\t\tReturns the maximum number of bytes that will be returned when `buf.inspect()` is called.\r\n\t\tThis can be overridden by user modules.\r\n\t\tSee `util.inspect()` for more details on `buf.inspect()` behavior.\r\n\r\n\t\tThis is a property on the `buffer` module returned by `require('buffer')`, not on the `Buffer` global or a `Buffer` instance.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buffer_inspect_max_bytes\r\n\t**/\r\n\tstatic var INSPECT_MAX_BYTES(get, set):Int;\r\n\r\n\tprivate static inline function get_INSPECT_MAX_BYTES():Int {\r\n\t\treturn BufferModule.INSPECT_MAX_BYTES;\r\n\t}\r\n\tprivate static inline function set_INSPECT_MAX_BYTES(bytes:Int):Int {\r\n\t\treturn BufferModule.INSPECT_MAX_BYTES = bytes;\r\n\t}\r\n\r\n\t/**\r\n\t\tAn alias for `buffer.constants.MAX_LENGTH`.\r\n\r\n\t\tThis is a property on the `buffer` module returned by `require('buffer')`, not on the `Buffer` global or a `Buffer` instance.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buffer_kmaxlength\r\n\t**/\r\n\tstatic var kMaxLength(get, never):Int;\r\n\r\n\tprivate static inline function get_kMaxLength():Int {\r\n\t\treturn BufferModule.kMaxLength;\r\n\t}\r\n\r\n\t/**\r\n\t\tRe-encodes the given `Buffer` or `Uint8Array` instance from one character encoding to another.\r\n\t\tReturns a new `Buffer` instance.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buffer_transcode_source_fromenc_toenc\r\n\t**/\r\n\tstatic inline function transcode(source:Uint8Array, fromEnc:String, toEnc:String):Buffer {\r\n\t\treturn BufferModule.transcode(source, fromEnc, toEnc);\r\n\t};\r\n\r\n\t/**\r\n\t\t`buffer.constants` is a property on the `buffer` module returned by `require('buffer')`,\r\n\t\tnot on the `Buffer` global or a `Buffer` instance.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buffer_constants\r\n\t**/\r\n\tstatic var constants(default, never):BufferConstants;\r\n\r\n\tprivate static inline function get_constants():BufferConstants {\r\n\t\treturn BufferModule.constants;\r\n\t}\r\n\r\n\t/**\r\n\t\tCreate `haxe.io.Bytes` object that uses the same underlying data storage as `this` buffer.\r\n\t\tAny modifications done using the returned object will be reflected in the `this` buffer.\r\n\t**/\r\n\tinline function hxToBytes():Bytes {\r\n\t\treturn Helper.bytesOfBuffer(this);\r\n\t}\r\n\r\n\t/**\r\n\t\tCreate `Buffer` object from `haxe.io.Bytes` using the same underlying data storage.\r\n\t\tAny modifications done using the returned object will be reflected in given `haxe.io.Bytes` object.\r\n\t**/\r\n\tstatic inline function hxFromBytes(b:Bytes):Buffer {\r\n\t\tvar data = @:privateAccess b.b;\r\n\t\treturn Buffer.from(data.buffer, data.byteOffset, b.length);\r\n\t}\r\n}\r\n\r\n@:dce\r\nprivate class Helper {\r\n\tpublic static function bytesOfBuffer(b:Buffer):haxe.io.Bytes untyped {\r\n\t\tvar o = Object.create(haxe.io.Bytes.prototype);\r\n\t\t// the following is basically a haxe.io.Bytes constructor,\r\n\t\t// but using given buffer instead of creating new Uint8Array\r\n\t\to.length = b.byteLength;\r\n\t\to.b = b;\r\n\t\tb.bufferValue = b;\r\n\t\tb.hxBytes = o;\r\n\t\tb.bytes = b;\r\n\t\treturn o;\r\n\t}\r\n}\r\n\r\n@:jsRequire(\"buffer\")\r\nprivate extern class BufferModule {\r\n\tstatic var INSPECT_MAX_BYTES:Int;\r\n\tstatic var kMaxLength(default, never):Int;\r\n\tstatic function transcode(source:Uint8Array, fromEnc:String, toEnc:String):Buffer;\r\n\tstatic var constants(default, never):BufferConstants;\r\n}\r\n\r\ntypedef BufferConstants = {\r\n\t/**\r\n\t\tOn 32-bit architectures, this value is `(2^30)-1` (`~1GB`).\r\n\t\tOn 64-bit architectures, this value is `(2^31)-1` (`~2GB`).\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buffer_constants_max_length\r\n\t**/\r\n\tvar MAX_LENGTH(default, never):Int;\r\n\r\n\t/**\r\n\t\tRepresents the largest `length` that a `string` primitive can have, counted\r\n\t\tin UTF-16 code units.\r\n\r\n\t\t@see https://nodejs.org/api/buffer.html#buffer_buffer_constants_max_string_length\r\n\t**/\r\n\tvar MAX_STRING_LENGTH(default, never):Int;\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.io;\r\n\r\n/**\r\n\tAn Input is an abstract reader. See other classes in the `haxe.io` package\r\n\tfor several possible implementations.\r\n\r\n\tAll functions which read data throw `Eof` when the end of the stream\r\n\tis reached.\r\n**/\r\nclass Input {\r\n\t/**\r\n\t\tEndianness (word byte order) used when reading numbers.\r\n\r\n\t\tIf `true`, big-endian is used, otherwise `little-endian` is used.\r\n\t**/\r\n\tpublic var bigEndian(default, set):Bool;\r\n\r\n\t#if java\r\n\tprivate var helper:java.nio.ByteBuffer;\r\n\t#end\r\n\r\n\t/**\r\n\t\tRead and return one byte.\r\n\t**/\r\n\tpublic function readByte():Int {\r\n\t\t#if cpp\r\n\t\tthrow new haxe.exceptions.NotImplementedException();\r\n\t\t#else\r\n\t\treturn throw new haxe.exceptions.NotImplementedException();\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tRead `len` bytes and write them into `s` to the position specified by `pos`.\r\n\r\n\t\tReturns the actual length of read data that can be smaller than `len`.\r\n\r\n\t\tSee `readFullBytes` that tries to read the exact amount of specified bytes.\r\n\t**/\r\n\tpublic function readBytes(s:Bytes, pos:Int, len:Int):Int {\r\n\t\tvar k = len;\r\n\t\tvar b = #if (js || hl) @:privateAccess s.b #else s.getData() #end;\r\n\t\tif (pos < 0 || len < 0 || pos + len > s.length)\r\n\t\t\tthrow Error.OutsideBounds;\r\n\t\ttry {\r\n\t\t\twhile (k > 0) {\r\n\t\t\t\t#if neko\r\n\t\t\t\tuntyped __dollar__sset(b, pos, readByte());\r\n\t\t\t\t#elseif php\r\n\t\t\t\tb.set(pos, readByte());\r\n\t\t\t\t#elseif cpp\r\n\t\t\t\tb[pos] = untyped readByte();\r\n\t\t\t\t#else\r\n\t\t\t\tb[pos] = cast readByte();\r\n\t\t\t\t#end\r\n\t\t\t\tpos++;\r\n\t\t\t\tk--;\r\n\t\t\t}\r\n\t\t} catch (eof:haxe.io.Eof) {}\r\n\t\treturn len - k;\r\n\t}\r\n\r\n\t/**\r\n\t\tClose the input source.\r\n\r\n\t\tBehaviour while reading after calling this method is unspecified.\r\n\t**/\r\n\tpublic function close():Void {}\r\n\r\n\tfunction set_bigEndian(b:Bool):Bool {\r\n\t\tbigEndian = b;\r\n\t\treturn b;\r\n\t}\r\n\r\n\t/* ------------------ API ------------------ */\r\n\t/**\r\n\t\tRead and return all available data.\r\n\r\n\t\tThe `bufsize` optional argument specifies the size of chunks by\r\n\t\twhich data is read. Its default value is target-specific.\r\n\t**/\r\n\tpublic function readAll(?bufsize:Int):Bytes {\r\n\t\tif (bufsize == null)\r\n\t\t\t#if php\r\n\t\t\tbufsize = 8192; // default value for PHP and max under certain circumstances\r\n\t\t\t#else\r\n\t\t\tbufsize = (1 << 14); // 16 Ko\r\n\t\t\t#end\r\n\r\n\t\tvar buf = Bytes.alloc(bufsize);\r\n\t\tvar total = new haxe.io.BytesBuffer();\r\n\t\ttry {\r\n\t\t\twhile (true) {\r\n\t\t\t\tvar len = readBytes(buf, 0, bufsize);\r\n\t\t\t\tif (len == 0)\r\n\t\t\t\t\tthrow Error.Blocked;\r\n\t\t\t\ttotal.addBytes(buf, 0, len);\r\n\t\t\t}\r\n\t\t} catch (e:Eof) {}\r\n\t\treturn total.getBytes();\r\n\t}\r\n\r\n\t/**\r\n\t\tRead `len` bytes and write them into `s` to the position specified by `pos`.\r\n\r\n\t\tUnlike `readBytes`, this method tries to read the exact `len` amount of bytes.\r\n\t**/\r\n\tpublic function readFullBytes(s:Bytes, pos:Int, len:Int):Void {\r\n\t\twhile (len > 0) {\r\n\t\t\tvar k = readBytes(s, pos, len);\r\n\t\t\tif (k == 0)\r\n\t\t\t\tthrow Error.Blocked;\r\n\t\t\tpos += k;\r\n\t\t\tlen -= k;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tRead and return `nbytes` bytes.\r\n\t**/\r\n\tpublic function read(nbytes:Int):Bytes {\r\n\t\tvar s = Bytes.alloc(nbytes);\r\n\t\tvar p = 0;\r\n\t\twhile (nbytes > 0) {\r\n\t\t\tvar k = readBytes(s, p, nbytes);\r\n\t\t\tif (k == 0)\r\n\t\t\t\tthrow Error.Blocked;\r\n\t\t\tp += k;\r\n\t\t\tnbytes -= k;\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n\r\n\t/**\r\n\t\tRead a string until a character code specified by `end` is occurred.\r\n\r\n\t\tThe final character is not included in the resulting string.\r\n\t**/\r\n\tpublic function readUntil(end:Int):String {\r\n\t\tvar buf = new BytesBuffer();\r\n\t\tvar last:Int;\r\n\t\twhile ((last = readByte()) != end)\r\n\t\t\tbuf.addByte(last);\r\n\t\treturn buf.getBytes().toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tRead a line of text separated by CR and/or LF bytes.\r\n\r\n\t\tThe CR/LF characters are not included in the resulting string.\r\n\t**/\r\n\tpublic function readLine():String {\r\n\t\tvar buf = new BytesBuffer();\r\n\t\tvar last:Int;\r\n\t\tvar s;\r\n\t\ttry {\r\n\t\t\twhile ((last = readByte()) != 10)\r\n\t\t\t\tbuf.addByte(last);\r\n\t\t\ts = buf.getBytes().toString();\r\n\t\t\tif (s.charCodeAt(s.length - 1) == 13)\r\n\t\t\t\ts = s.substr(0, -1);\r\n\t\t} catch (e:Eof) {\r\n\t\t\ts = buf.getBytes().toString();\r\n\t\t\tif (s.length == 0)\r\n\t\t\t\t#if neko neko.Lib.rethrow #else throw #end (e);\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n\r\n\t/**\r\n\t\tRead a 32-bit floating point number.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function readFloat():Float {\r\n\t\treturn FPHelper.i32ToFloat(readInt32());\r\n\t}\r\n\r\n\t/**\r\n\t\tRead a 64-bit double-precision floating point number.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function readDouble():Float {\r\n\t\tvar i1 = readInt32();\r\n\t\tvar i2 = readInt32();\r\n\t\treturn bigEndian ? FPHelper.i64ToDouble(i2, i1) : FPHelper.i64ToDouble(i1, i2);\r\n\t}\r\n\r\n\t/**\r\n\t\tRead a 8-bit signed integer.\r\n\t**/\r\n\tpublic function readInt8():Int {\r\n\t\tvar n = readByte();\r\n\t\tif (n >= 128)\r\n\t\t\treturn n - 256;\r\n\t\treturn n;\r\n\t}\r\n\r\n\t/**\r\n\t\tRead a 16-bit signed integer.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function readInt16():Int {\r\n\t\tvar ch1 = readByte();\r\n\t\tvar ch2 = readByte();\r\n\t\tvar n = bigEndian ? ch2 | (ch1 << 8) : ch1 | (ch2 << 8);\r\n\t\tif (n & 0x8000 != 0)\r\n\t\t\treturn n - 0x10000;\r\n\t\treturn n;\r\n\t}\r\n\r\n\t/**\r\n\t\tRead a 16-bit unsigned integer.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function readUInt16():Int {\r\n\t\tvar ch1 = readByte();\r\n\t\tvar ch2 = readByte();\r\n\t\treturn bigEndian ? ch2 | (ch1 << 8) : ch1 | (ch2 << 8);\r\n\t}\r\n\r\n\t/**\r\n\t\tRead a 24-bit signed integer.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function readInt24():Int {\r\n\t\tvar ch1 = readByte();\r\n\t\tvar ch2 = readByte();\r\n\t\tvar ch3 = readByte();\r\n\t\tvar n = bigEndian ? ch3 | (ch2 << 8) | (ch1 << 16) : ch1 | (ch2 << 8) | (ch3 << 16);\r\n\t\tif (n & 0x800000 != 0)\r\n\t\t\treturn n - 0x1000000;\r\n\t\treturn n;\r\n\t}\r\n\r\n\t/**\r\n\t\tRead a 24-bit unsigned integer.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function readUInt24():Int {\r\n\t\tvar ch1 = readByte();\r\n\t\tvar ch2 = readByte();\r\n\t\tvar ch3 = readByte();\r\n\t\treturn bigEndian ? ch3 | (ch2 << 8) | (ch1 << 16) : ch1 | (ch2 << 8) | (ch3 << 16);\r\n\t}\r\n\r\n\t/**\r\n\t\tRead a 32-bit signed integer.\r\n\r\n\t\tEndianness is specified by the `bigEndian` property.\r\n\t**/\r\n\tpublic function readInt32():Int {\r\n\t\tvar ch1 = readByte();\r\n\t\tvar ch2 = readByte();\r\n\t\tvar ch3 = readByte();\r\n\t\tvar ch4 = readByte();\r\n\t\t#if (php || python)\r\n\t\t// php will overflow integers.  Convert them back to signed 32-bit ints.\r\n\t\tvar n = bigEndian ? ch4 | (ch3 << 8) | (ch2 << 16) | (ch1 << 24) : ch1 | (ch2 << 8) | (ch3 << 16) | (ch4 << 24);\r\n\t\tif (n & 0x80000000 != 0)\r\n\t\t\treturn (n | 0x80000000);\r\n\t\telse\r\n\t\t\treturn n;\r\n\t\t#elseif lua\r\n\t\tvar n = bigEndian ? ch4 | (ch3 << 8) | (ch2 << 16) | (ch1 << 24) : ch1 | (ch2 << 8) | (ch3 << 16) | (ch4 << 24);\r\n\t\treturn lua.Boot.clampInt32(n);\r\n\t\t#else\r\n\t\treturn bigEndian ? ch4 | (ch3 << 8) | (ch2 << 16) | (ch1 << 24) : ch1 | (ch2 << 8) | (ch3 << 16) | (ch4 << 24);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tRead and `len` bytes as a string.\r\n\t**/\r\n\tpublic function readString(len:Int, ?encoding:Encoding):String {\r\n\t\tvar b = Bytes.alloc(len);\r\n\t\treadFullBytes(b, 0, len);\r\n\t\t#if neko\r\n\t\treturn neko.Lib.stringReference(b);\r\n\t\t#else\r\n\t\treturn b.getString(0, len, encoding);\r\n\t\t#end\r\n\t}\r\n\r\n\t#if neko\r\n\tstatic var _float_of_bytes = neko.Lib.load(\"std\", \"float_of_bytes\", 2);\r\n\tstatic var _double_of_bytes = neko.Lib.load(\"std\", \"double_of_bytes\", 2);\r\n\r\n\tstatic function __init__()\r\n\t\tuntyped {\r\n\t\t\tInput.prototype.bigEndian = false;\r\n\t\t}\r\n\t#end\r\n\r\n\t#if (flash || js || python)\r\n\tfunction getDoubleSig(bytes:Array<Int>) {\r\n\t\treturn (((bytes[1] & 0xF) << 16) | (bytes[2] << 8) | bytes[3]) * 4294967296.\r\n\t\t\t+ (bytes[4] >> 7) * 2147483648\r\n\t\t\t+ (((bytes[4] & 0x7F) << 24) | (bytes[5] << 16) | (bytes[6] << 8) | bytes[7]);\r\n\t}\r\n\t#end\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\nenum ValueType {\r\n\tTNull;\r\n\tTInt;\r\n\tTFloat;\r\n\tTBool;\r\n\tTObject;\r\n\tTFunction;\r\n\tTClass(c:Class<Dynamic>);\r\n\tTEnum(e:Enum<Dynamic>);\r\n\tTUnknown;\r\n}\r\n\r\n@:coreApi class Type {\r\n\tpublic static inline function getClass<T>(o:T):Null<Class<T>> {\r\n\t\treturn @:privateAccess js.Boot.getClass(o);\r\n\t}\r\n\r\n\tpublic static function getEnum(o:EnumValue):Enum<Dynamic>\r\n\t\tuntyped {\r\n\t\t\tif (o == null)\r\n\t\t\t\treturn null;\r\n\t\t\t#if js_enums_as_arrays\r\n\t\t\treturn o.__enum__;\r\n\t\t\t#else\r\n\t\t\treturn $hxEnums[o.__enum__];\r\n\t\t\t#end\r\n\t\t}\r\n\r\n\tpublic static inline function getSuperClass(c:Class<Dynamic>):Class<Dynamic> {\r\n\t\treturn untyped __define_feature__(\"Type.getSuperClass\", c.__super__);\r\n\t}\r\n\r\n\tpublic static inline function getClassName(c:Class<Dynamic>):String {\r\n\t\treturn untyped __define_feature__(\"Type.getClassName\", c.__name__);\r\n\t}\r\n\r\n\tpublic static inline function getEnumName(e:Enum<Dynamic>):String {\r\n\t\treturn untyped __define_feature__(\"Type.getEnumName\", e.__ename__);\r\n\t}\r\n\r\n\t#if js_enums_as_arrays\r\n\tpublic static function resolveClass(name:String):Class<Dynamic>\r\n\t\tuntyped {\r\n\t\t\tvar cl:Class<Dynamic> = $hxClasses[name];\r\n\t\t\t// ensure that this is a class\r\n\t\t\tif (cl == null || !js.Boot.isClass(cl))\r\n\t\t\t\treturn null;\r\n\t\t\treturn cl;\r\n\t\t}\r\n\r\n\tpublic static function resolveEnum(name:String):Enum<Dynamic>\r\n\t\tuntyped {\r\n\t\t\tvar e:Dynamic = $hxClasses[name];\r\n\t\t\t// ensure that this is an enum\r\n\t\t\tif (e == null || !js.Boot.isEnum(e))\r\n\t\t\t\treturn null;\r\n\t\t\treturn e;\r\n\t\t}\r\n\t#else\r\n\tpublic static inline function resolveClass(name:String):Class<Dynamic> {\r\n\t\treturn untyped __define_feature__(\"Type.resolveClass\", $hxClasses[name]);\r\n\t}\r\n\r\n\tpublic static inline function resolveEnum(name:String):Enum<Dynamic> {\r\n\t\treturn untyped __define_feature__(\"Type.resolveEnum\", $hxEnums[name]);\r\n\t}\r\n\t#end\r\n\r\n\t#if (js_es < 5)\r\n\tpublic static function createInstance<T>(cl:Class<T>, args:Array<Dynamic>):T {\r\n\t\tswitch (args.length) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn js.Syntax.construct(cl);\r\n\t\t\tcase 1:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0]);\r\n\t\t\tcase 2:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1]);\r\n\t\t\tcase 3:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2]);\r\n\t\t\tcase 4:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3]);\r\n\t\t\tcase 5:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4]);\r\n\t\t\tcase 6:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5]);\r\n\t\t\tcase 7:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\r\n\t\t\tcase 8:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7]);\r\n\t\t\tcase 9:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8]);\r\n\t\t\tcase 10:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9]);\r\n\t\t\tcase 11:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9], args[10]);\r\n\t\t\tcase 12:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9], args[10], args[11]);\r\n\t\t\tcase 13:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9], args[10], args[11],\r\n\t\t\t\t\targs[12]);\r\n\t\t\tcase 14:\r\n\t\t\t\treturn js.Syntax.construct(cl, args[0], args[1], args[2], args[3], args[4], args[5], args[6], args[7], args[8], args[9], args[10], args[11],\r\n\t\t\t\t\targs[12], args[13]);\r\n\t\t\tdefault:\r\n\t\t\t\tthrow \"Too many arguments\";\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static function createEmptyInstance<T>(cl:Class<T>):T\r\n\t\tuntyped {\r\n\t\t\tjs.Syntax.code(\"function empty() {}; empty.prototype = cl.prototype\");\r\n\t\t\treturn js.Syntax.code(\"new empty()\");\r\n\t\t}\r\n\t#else\r\n\tpublic static function createInstance<T>(cl:Class<T>, args:Array<Dynamic>):T {\r\n\t\tvar ctor = ((cast js.lib.Function).prototype.bind : js.lib.Function).apply(cl, [null].concat(args));\r\n\t\treturn js.Syntax.code(\"new ({0})\", ctor); // cannot use `js.Syntax.construct` because we need parens if `ctor` is fused in\r\n\t}\r\n\r\n\tpublic static inline function createEmptyInstance<T>(cl:Class<T>):T {\r\n\t\treturn js.lib.Object.create((cast cl).prototype);\r\n\t}\r\n\t#end\r\n\r\n\tpublic static function createEnum<T>(e:Enum<T>, constr:String, ?params:Array<Dynamic>):T {\r\n\t\tvar f:Dynamic = Reflect.field(e, constr);\r\n\t\tif (f == null)\r\n\t\t\tthrow \"No such constructor \" + constr;\r\n\t\tif (Reflect.isFunction(f)) {\r\n\t\t\tif (params == null)\r\n\t\t\t\tthrow \"Constructor \" + constr + \" need parameters\";\r\n\t\t\treturn Reflect.callMethod(e, f, params);\r\n\t\t}\r\n\t\tif (params != null && params.length != 0)\r\n\t\t\tthrow \"Constructor \" + constr + \" does not need parameters\";\r\n\t\treturn f;\r\n\t}\r\n\r\n\tpublic static function createEnumIndex<T>(e:Enum<T>, index:Int, ?params:Array<Dynamic>):T {\r\n\t\t#if js_enums_as_arrays\r\n\t\tvar c:String = (untyped e.__constructs__)[index];\r\n\t\t#else\r\n\t\tvar c:String = switch (untyped e.__constructs__)[index] {\r\n\t\t\tcase null: null;\r\n\t\t\tcase ctor: ctor._hx_name;\r\n\t\t}\r\n\t\t#end\r\n\t\tif (c == null)\r\n\t\t\tthrow index + \" is not a valid enum constructor index\";\r\n\t\treturn createEnum(e, c, params);\r\n\t}\r\n\r\n\t#if (js_es >= 6)\r\n\tpublic static function getInstanceFields(c:Class<Dynamic>):Array<String> {\r\n\t\tvar result = [];\r\n\t\twhile (c != null) {\r\n\t\t\tfor (name in js.lib.Object.getOwnPropertyNames((cast c).prototype)) {\r\n\t\t\t\tswitch name {\r\n\t\t\t\t\tcase \"constructor\" | \"__class__\" | \"__properties__\":\r\n\t\t\t\t\t// skip special names\r\n\t\t\t\t\tcase _:\r\n\t\t\t\t\t\tif (result.indexOf(name) == -1)\r\n\t\t\t\t\t\t\tresult.push(name);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tc = getSuperClass(c);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static function getClassFields(c:Class<Dynamic>):Array<String> {\r\n\t\tvar a = js.lib.Object.getOwnPropertyNames(cast c);\r\n\t\ta.remove(\"__id__\");\r\n\t\ta.remove(\"hx__closures__\");\r\n\t\ta.remove(\"__name__\");\r\n\t\ta.remove(\"__interfaces__\");\r\n\t\ta.remove(\"__isInterface__\");\r\n\t\ta.remove(\"__properties__\");\r\n\t\ta.remove(\"__instanceFields__\");\r\n\t\ta.remove(\"__super__\");\r\n\t\ta.remove(\"__meta__\");\r\n\t\ta.remove(\"prototype\");\r\n\t\ta.remove(\"name\");\r\n\t\ta.remove(\"length\");\r\n\t\treturn a;\r\n\t}\r\n\t#else\r\n\tpublic static function getInstanceFields(c:Class<Dynamic>):Array<String> {\r\n\t\tvar a = [];\r\n\t\tjs.Syntax.code(\"for(var i in c.prototype) a.push(i)\");\r\n\t\ta.remove(\"__class__\");\r\n\t\ta.remove(\"__properties__\");\r\n\t\treturn a;\r\n\t}\r\n\r\n\tpublic static function getClassFields(c:Class<Dynamic>):Array<String> {\r\n\t\tvar a = Reflect.fields(c);\r\n\t\ta.remove(\"__name__\");\r\n\t\ta.remove(\"__interfaces__\");\r\n\t\ta.remove(\"__properties__\");\r\n\t\ta.remove(\"__super__\");\r\n\t\ta.remove(\"__meta__\");\r\n\t\ta.remove(\"prototype\");\r\n\t\treturn a;\r\n\t}\r\n\t#end\r\n\r\n\tpublic static inline function getEnumConstructs(e:Enum<Dynamic>):Array<String> {\r\n\t\t#if js_enums_as_arrays\r\n\t\t\treturn ((cast e).__constructs__ : Array<String>).copy();\r\n\t\t#else\r\n\t\t\treturn ((cast e).__constructs__ : Array<{_hx_name:String}>).map(c -> c._hx_name);\r\n\t\t#end\r\n\t}\r\n\r\n\t@:access(js.Boot)\r\n\tpublic static function typeof(v:Dynamic):ValueType {\r\n\t\tswitch (js.Syntax.typeof(v)) {\r\n\t\t\tcase \"boolean\":\r\n\t\t\t\treturn TBool;\r\n\t\t\tcase \"string\":\r\n\t\t\t\treturn TClass(String);\r\n\t\t\tcase \"number\":\r\n\t\t\t\t// this should handle all cases : NaN, +/-Inf and Floats outside range\r\n\t\t\t\tif (Math.ceil(v) == v % 2147483648.0)\r\n\t\t\t\t\treturn TInt;\r\n\t\t\t\treturn TFloat;\r\n\t\t\tcase \"object\":\r\n\t\t\t\tif (v == null)\r\n\t\t\t\t\treturn TNull;\r\n\t\t\t\tvar e = v.__enum__;\r\n\t\t\t\tif (e != null) {\r\n\t\t\t\t\t#if js_enums_as_arrays\r\n\t\t\t\t\treturn TEnum(e);\r\n\t\t\t\t\t#else\r\n\t\t\t\t\treturn TEnum(untyped $hxEnums[e]);\r\n\t\t\t\t\t#end\r\n\t\t\t\t}\r\n\t\t\t\tvar c = js.Boot.getClass(v);\r\n\t\t\t\tif (c != null)\r\n\t\t\t\t\treturn TClass(c);\r\n\t\t\t\treturn TObject;\r\n\t\t\tcase \"function\":\r\n\t\t\t\tif (js.Boot.isClass(v) || js.Boot.isEnum(v))\r\n\t\t\t\t\treturn TObject;\r\n\t\t\t\treturn TFunction;\r\n\t\t\tcase \"undefined\":\r\n\t\t\t\treturn TNull;\r\n\t\t\tdefault:\r\n\t\t\t\treturn TUnknown;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static function enumEq<T:EnumValue>(a:T, b:T):Bool\r\n\t\tuntyped {\r\n\t\t\tif (a == b)\r\n\t\t\t\treturn true;\r\n\t\t\ttry {\r\n\t\t\t\tvar e = a.__enum__;\r\n\t\t\t\tif (e == null || e != b.__enum__)\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t#if js_enums_as_arrays\r\n\t\t\t\tif (a[0] != b[0])\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tfor (i in 2...a.length)\r\n\t\t\t\t\tif (!enumEq(a[i], b[i]))\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t#else\r\n\t\t\t\tif (a._hx_index != b._hx_index)\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tvar aparams:Array<Any> = a.__params__();\r\n\t\t\t\tvar bparams:Array<Any> = b.__params__();\r\n\t\t\t\tfor (i in 0...aparams.length) {\r\n\t\t\t\t\tif (!enumEq(aparams[i], bparams[i])) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t#end\r\n\t\t\t} catch (e:Dynamic) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\tpublic inline static function enumConstructor(e:EnumValue):String {\r\n\t\t#if js_enums_as_arrays\r\n\t\treturn untyped e[0];\r\n\t\t#else\r\n\t\treturn untyped $hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name;\r\n\t\t#end\r\n\t}\r\n\r\n\t#if js_enums_as_arrays\r\n\tpublic inline static function enumParameters(e:EnumValue):Array<Dynamic> {\r\n\t\treturn untyped e.slice(2);\r\n\t}\r\n\t#else\r\n\tpublic static function enumParameters(e:EnumValue):Array<Dynamic>\r\n\t\tuntyped {\r\n\t\t\treturn e.__params__ != null ? e.__params__() : [];\r\n\t\t}\r\n\t#end\r\n\r\n\tpublic inline static function enumIndex(e:EnumValue):Int {\r\n\t\t#if !js_enums_as_arrays\r\n\t\treturn untyped e._hx_index;\r\n\t\t#else\r\n\t\treturn untyped e[1];\r\n\t\t#end\r\n\t}\r\n\r\n\tpublic inline static function allEnums<T>(e:Enum<T>):Array<T> {\r\n\t\treturn untyped __define_feature__(\"Type.allEnums\", e.__empty_constructs__.slice());\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\nimport haxe.iterators.ArrayKeyValueIterator;\r\n\r\n@:coreApi\r\nextern class Array<T> {\r\n\tvar length(default, null):Int;\r\n\r\n\tfunction new():Void;\r\n\tfunction concat(a:Array<T>):Array<T>;\r\n\tfunction join(sep:String):String;\r\n\tfunction pop():Null<T>;\r\n\tfunction push(x:T):Int;\r\n\tfunction reverse():Void;\r\n\tfunction shift():Null<T>;\r\n\tfunction slice(pos:Int, ?end:Int):Array<T>;\r\n\tfunction sort(f:T->T->Int):Void;\r\n\tfunction splice(pos:Int, len:Int):Array<T>;\r\n\tfunction toString():String;\r\n\tfunction unshift(x:T):Void;\r\n\r\n\tinline function insert(pos:Int, x:T):Void {\r\n\t\t(cast this).splice(pos, 0, x);\r\n\t}\r\n\r\n\tinline function remove(x:T):Bool {\r\n\t\treturn @:privateAccess HxOverrides.remove(this, x);\r\n\t}\r\n\r\n\tinline function contains(x:T):Bool {\r\n\t\t#if (js_es >= 6)\r\n\t\treturn (cast this).includes(x);\r\n\t\t#else\r\n\t\treturn this.indexOf(x) != -1;\r\n\t\t#end\r\n\t}\r\n\r\n\t#if (js_es >= 5)\r\n\t@:pure function indexOf(x:T, ?fromIndex:Int):Int;\r\n\t@:pure function lastIndexOf(x:T, ?fromIndex:Int):Int;\r\n\t#else\r\n\tinline function indexOf(x:T, ?fromIndex:Int):Int {\r\n\t\treturn @:privateAccess HxOverrides.indexOf(this, x, (fromIndex != null) ? fromIndex : 0);\r\n\t}\r\n\r\n\tinline function lastIndexOf(x:T, ?fromIndex:Int):Int {\r\n\t\treturn @:privateAccess HxOverrides.lastIndexOf(this, x, (fromIndex != null) ? fromIndex : length - 1);\r\n\t}\r\n\t#end\r\n\r\n\t@:pure\r\n\tinline function copy():Array<T> {\r\n\t\treturn (cast this).slice();\r\n\t}\r\n\r\n\t@:runtime inline function map<S>(f:T->S):Array<S> {\r\n\t\tvar result:Array<S> = js.Syntax.construct(Array, length);\r\n\t\tfor(i in 0...length) {\r\n\t\t\tresult[i] = f(this[i]);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@:runtime inline function filter(f:T->Bool):Array<T> {\r\n\t\treturn [for (v in this) if (f(v)) v];\r\n\t}\r\n\r\n\t@:runtime inline function iterator():haxe.iterators.ArrayIterator<T> {\r\n\t\treturn new haxe.iterators.ArrayIterator(this);\r\n\t}\r\n\r\n\t@:runtime inline function keyValueIterator():ArrayKeyValueIterator<T> {\r\n\t\treturn new ArrayKeyValueIterator(this);\r\n\t}\r\n\r\n\tinline function resize(len:Int):Void {\r\n\t\tthis.length = len;\r\n\t}\r\n}\r\n","import js.Browser;\r\nimport haxe.Log;\r\nimport firebase.web.firestore.Timestamp;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport discord_js.Message;\r\nimport sys.io.File;\r\nimport haxe.Json;\r\nimport haxe.PosInfos;\r\n\r\nfunction loadFile(filename:String, ?pos:PosInfos):Dynamic {\r\n\tvar data = null;\r\n\ttry {\r\n\t\tdata = Json.parse(File.getContent('./commands/$filename.json'));\r\n\t} catch (e) {\r\n\t\ttrace(e);\r\n\t\ttrace('Failed to load file or parse json', pos);\r\n\t}\r\n\treturn data;\r\n}\r\n\r\nfunction hasRole(role:String, interaction:BaseCommandInteraction) {\r\n\tvar guild = interaction.member.roles.cache.get(role);\r\n\treturn (interaction.guild.available && guild != null && guild.members != null && guild.members.has(interaction.user.id));\r\n}\r\n\r\nfunction withinTime(time:Float, timeout:Float) {\r\n\tvar now = Date.now().getTime();\r\n\treturn now - time < timeout;\r\n}\r\n\r\nfunction dateWithinTimeout(a:Date, b:Date, timeout:Float) {\r\n\tif (a == null || b == null) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn a.getTime() - b.getTime() < timeout;\r\n}\r\n\r\nfunction fbDateWithinTimeout(a:Timestamp, b:Timestamp, timeout:Float) {\r\n\tif (a == null || b == null) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn a.toDate().getTime() - b.toDate().getTime() < timeout;\r\n}\r\n\r\n// inline function err(err:Dynamic) {\r\n// \tBrowser.console.dir(err);\r\n// \ttrace(err.message);\r\n// }\r\n","package commands;\r\n\r\nimport js.Browser;\r\nimport externs.FuzzySort;\r\nimport sys.io.File;\r\nimport haxe.Http;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport discord_js.MessageEmbed;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\n\r\ntypedef Data = {\r\n\tvar type:String;\r\n\tvar name:String;\r\n\tvar path:String;\r\n\tvar link:String;\r\n\tvar description:String;\r\n}\r\n\r\ntypedef TField = {\r\n\tvar id:String;\r\n\tvar code:String;\r\n\tvar doc:String;\r\n}\r\n\r\ntypedef TFieldCache = {\r\n\tvar size:Int;\r\n\tvar fields:Map<String, TField>;\r\n}\r\n\r\n@:forward\r\nabstract FieldCache(TFieldCache) from TFieldCache {\r\n\tpublic function new() {\r\n\t\tthis = {\r\n\t\t\tsize: 0,\r\n\t\t\tfields: []\r\n\t\t}\r\n\t}\r\n\r\n\tpublic function exists(pkg:String, key:String) {\r\n\t\tvar path = pkg + '.' + key;\r\n\t\treturn this.fields.exists(path);\r\n\t}\r\n\r\n\tpublic function set(pkg:String, value:TField) {\r\n\t\tvar path = pkg + '.' + value.id;\r\n\t\tif (!this.fields.exists(path)) {\r\n\t\t\tthis.size++;\r\n\t\t}\r\n\r\n\t\tthis.fields.set(path, value);\r\n\t}\r\n\r\n\tpublic function get(pkg:String, id:String) {\r\n\t\tvar path = pkg + '.' + id;\r\n\t\tif (!this.fields.exists(path)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.fields.get(path);\r\n\t}\r\n}\r\n\r\ntypedef TAutoComplete = {\r\n\tvar name:String;\r\n\tvar value:String;\r\n}\r\n\r\nclass Api extends CommandBase {\r\n\tvar api:Map<String, Map<String, Data>> = [];\r\n\tvar sapi:Map<String, Array<Data>> = [];\r\n\tvar packages:Map<String, String> = [];\r\n\tvar npackages:Array<TAutoComplete> = [];\r\n\tvar cache:FieldCache;\r\n\tvar save_time:Float;\r\n\tvar save_frequency:Float = 3600000;\r\n\r\n\toverride function onEnabled() {\r\n\t\tthis.api.set('haxe', loadFile('api/haxe'));\r\n\t\tthis.api.set('flixel', loadFile('api/flixel'));\r\n\t\tthis.api.set('heaps', loadFile('api/heaps'));\r\n\t\tthis.api.set('ceramic', loadFile('api/ceramic'));\r\n\t\tthis.api.set('openfl', loadFile('api/openfl'));\r\n\t\tthis.api.set('godot', loadFile('api/hxgodot'));\r\n\t\tthis.cache = loadFile('api/cache/0');\r\n\r\n\t\tif (this.cache == null) {\r\n\t\t\tthis.cache = new FieldCache();\r\n\t\t}\r\n\r\n\t\tfor (type => index in api) {\r\n\t\t\tvar arr = [];\r\n\t\t\tfor (k => v in index) {\r\n\t\t\t\tpackages.set(k, type);\r\n\t\t\t\tarr.push(v);\r\n\t\t\t\tthis.npackages.push({\r\n\t\t\t\t\tname: k,\r\n\t\t\t\t\tvalue: v.path\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.sapi.set(type, arr);\r\n\t\t}\r\n\r\n\t\ttrace('loaded');\r\n\t}\r\n\r\n\toverride function update(_) {\r\n\t\tsuper.update(_);\r\n\t\tvar time = Date.now().getTime();\r\n\t\tif (time - this.save_time > this.save_frequency) {\r\n\t\t\tthis.saveCache();\r\n\t\t}\r\n\t}\r\n\r\n\tinline function saveCache() {\r\n\t\tFile.saveContent('./commands/api/cache/0.json', this.cache.stringify());\r\n\t\tthis.save_time = Date.now().getTime();\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tif (command.content == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Api(path, field):\r\n\t\t\t\tvar type = this.packages.get(path);\r\n\t\t\t\tvar cls = null;\r\n\r\n\t\t\t\tif (this.packages.exists(path)) {\r\n\t\t\t\t\tcls = this.api.get(type).get(path);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\tvar focused = null;\r\n\t\t\t\t\tfor (item in interaction.options._hoistedOptions) {\r\n\t\t\t\t\t\tif (item.focused) {\r\n\t\t\t\t\t\t\tfocused = item;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tswitch (focused.name) {\r\n\t\t\t\t\t\tcase 'package':\r\n\t\t\t\t\t\t\tthis.search(path, interaction);\r\n\t\t\t\t\t\tcase 'field':\r\n\t\t\t\t\t\t\tvar ac = [];\r\n\t\t\t\t\t\t\tfor (key => value in this.cache.fields) {\r\n\t\t\t\t\t\t\t\tvar path = path + '.' + field;\r\n\t\t\t\t\t\t\t\tif (key == path) {\r\n\t\t\t\t\t\t\t\t\tac.push({\r\n\t\t\t\t\t\t\t\t\t\tname: value.id,\r\n\t\t\t\t\t\t\t\t\t\tvalue: value.id\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tinteraction.respond(ac);\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tthis.getFieldPage(cls, field, interaction);\r\n\t\t\t\t\t\t\t} catch (e ) {\r\n\t\t\t\t\t\t\t\ttrace(e);\r\n\t\t\t\t\t\t\t\ttrace(cls);\r\n\t\t\t\t\t\t\t\ttrace(field);\r\n\t\t\t\t\t\t\t\ttrace(path);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar f = this.cache.get(path, field);\r\n\t\t\t\tvar embed = new MessageEmbed();\r\n\t\t\t\tvar title = '';\r\n\t\t\t\tvar link = '';\r\n\t\t\t\tvar cls_desc = '';\r\n\t\t\t\tvar field_desc = '';\r\n\r\n\t\t\t\tif (this.packages.exists(path)) {\r\n\t\t\t\t\ttitle = cls.path;\r\n\t\t\t\t\tlink = cls.link;\r\n\t\t\t\t\tcls_desc = cls.description;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.cache.exists(path, field)) {\r\n\t\t\t\t\ttitle += '#' + f.id;\r\n\t\t\t\t\tlink += '#' + f.id;\r\n\t\t\t\t\tfield_desc = f.doc;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar desc = '$cls_desc';\r\n\r\n\t\t\t\tif (f != null) {\r\n\t\t\t\t\tdesc += '```hx\\n${f.code}\\n```${f.doc}';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cls_desc == '' && field_desc == '') {\r\n\t\t\t\t\tdesc = '*No description found*';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (title != '') {\r\n\t\t\t\t\tembed.setTitle(title);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (link != '') {\r\n\t\t\t\t\tembed.setURL(link);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (link == '' && title == '') {\r\n\t\t\t\t\tinteraction.reply({content: \"Couldn't find the package\"}).then(null, (err) -> trace(err));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tembed.setDescription(desc);\r\n\t\t\t\tinteraction.reply({embeds: [embed]});\r\n\t\t\t\treturn;\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getFieldPage(cls:Data, find:String, interaction:BaseCommandInteraction,\r\n\t\t\t?ac:Array<{name:String, value:String}>) {\r\n\t\tif (cls == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar http = new Http(cls.link);\r\n\t\tif (ac == null) {\r\n\t\t\tac = [];\r\n\t\t}\r\n\r\n\t\tvar headers = [\r\n\t\t\t'static_vars' => '<h3 class=\"section\">Static variables</h3>',\r\n\t\t\t'static_methods' => '<h3 class=\"section\">Static methods</h3>',\r\n\t\t\t'constructor' => '<h3 class=\"section\">Constructor</h3>',\r\n\t\t\t'variables' => '<h3 class=\"section\">Variables</h3>',\r\n\t\t\t'methods' => '<h3 class=\"section\">Methods</h3>',\r\n\t\t\t'last' => '<footer'\r\n\t\t];\r\n\r\n\t\tvar header_arr = ['static_vars', 'static_methods', 'constructor', 'variables', 'methods', 'last'];\r\n\r\n\t\thttp.onData = (res) -> {\r\n\t\t\theader_arr.sort(function(a, b) {\r\n\t\t\t\tvar index_a = res.indexOf(headers.get(a));\r\n\t\t\t\tvar index_b = res.indexOf(headers.get(b));\r\n\t\t\t\tif (index_a > index_b) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (index_a < index_b) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\r\n\t\t\tvar a = null;\r\n\t\t\tvar b = null;\r\n\t\t\tvar last = 0;\r\n\t\t\tvar response = [];\r\n\t\t\tvar results = [];\r\n\r\n\t\t\t// trace(header_arr);\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t\tfor (k => v in header_arr) {\r\n\t\t\t\t\tif (a != null && b != null) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (res.contains(headers.get(v))) {\r\n\t\t\t\t\t\tif (a != null && b == null && k > last) {\r\n\t\t\t\t\t\t\tb = v;\r\n\t\t\t\t\t\t\tlast = k;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (a == null) {\r\n\t\t\t\t\t\t\ta = v;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar pos_a = res.indexOf(headers.get(a)) + headers.get(a).length;\r\n\t\t\t\tvar pos_b = res.indexOf(headers.get(b));\r\n\t\t\t\tvar fields = res.substring(pos_a, pos_b);\r\n\r\n\t\t\t\tvar arr = switch (a) {\r\n\t\t\t\t\tcase 'static_vars':\r\n\t\t\t\t\t\tsearchVars(find, fields);\r\n\t\t\t\t\tcase 'static_methods':\r\n\t\t\t\t\t\tsearchMethods(find, fields);\r\n\t\t\t\t\tcase 'constructor':\r\n\t\t\t\t\t\tsearchMethods(find, fields);\r\n\t\t\t\t\tcase 'variables':\r\n\t\t\t\t\t\tsearchVars(find, fields);\r\n\t\t\t\t\tcase 'methods':\r\n\t\t\t\t\t\tsearchMethods(find, fields);\r\n\t\t\t\t\tcase 'last': [];\r\n\t\t\t\t\tdefault: [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresponse = response.concat(arr);\r\n\t\t\t\tvar algo = FuzzySort.go(find, response, {key: 'id', limit: 10, threshold: -10000});\r\n\r\n\t\t\t\tfor (a in algo) {\r\n\t\t\t\t\tresults.push(a.obj);\r\n\t\t\t\t}\r\n\r\n\t\t\t\ta = b;\r\n\t\t\t\tb = null;\r\n\r\n\t\t\t\tif (a == 'last') {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (r in results) {\r\n\t\t\t\tthis.cache.set(cls.path, r);\r\n\t\t\t\tvar name = 'var ${r.id}';\r\n\t\t\t\tif (r.code.contains('(')) {\r\n\t\t\t\t\tname = 'fun ${r.id}';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tac.push({\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tvalue: r.id\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tac.sort((a, b) -> a.name.length - b.name.length);\r\n\t\t\tthis.saveCache();\r\n\t\t\tif (ac.length > 24) {\r\n\t\t\t\tac = ac.slice(0, 24);\r\n\t\t\t}\r\n\t\t\tinteraction.respond(ac);\r\n\t\t}\r\n\t\thttp.request();\r\n\t}\r\n\r\n\tfunction searchVars(find:String, fields:String) {\r\n\t\tvar parse = NodeHtmlParser.parse(fields);\r\n\t\t// grabs things like \"static\" or \"read only\" and the field identifier\r\n\t\tvar arr = [];\r\n\t\tfor (f in parse.querySelectorAll('.field')) {\r\n\t\t\tvar labels = [];\r\n\t\t\tvar identifier = '';\r\n\t\t\tvar type = '';\r\n\t\t\tvar doc = '';\r\n\t\t\tvar value = '';\r\n\r\n\t\t\tfor (m in f.querySelectorAll('span')) {\r\n\t\t\t\tif (m.classNames.contains('label') && !m.text.contains(\"@:\")) {\r\n\t\t\t\t\tlabels.push(m.text);\r\n\t\t\t\t\t// trace(m.text);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (m.classNames.contains('identifier')) {\r\n\t\t\t\t\tidentifier = m.text;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvalue = f.querySelector('code').text.split('=')[2];\r\n\r\n\t\t\tvar split = f.querySelector('code').text.split(':');\r\n\t\t\tif (split.length == 2) {\r\n\t\t\t\ttype = split[1];\r\n\t\t\t}\r\n\r\n\t\t\tif (split.length == 3) {\r\n\t\t\t\ttype = split[2];\r\n\t\t\t}\r\n\r\n\t\t\tfor (p in f.querySelectorAll('p')) {\r\n\t\t\t\tif (p.classNames.contains('javadoc')) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tvar line = p.text.replace('\\n', '').replace('\\t', '');\r\n\t\t\t\tif (line.length == 0) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdoc += '$line ';\r\n\t\t\t}\r\n\r\n\t\t\tvar result = '';\r\n\t\t\tfor (l in labels) {\r\n\t\t\t\tresult += '$l ';\r\n\t\t\t}\r\n\r\n\t\t\tresult += '$identifier:$type';\r\n\t\t\tif (value != null) {\r\n\t\t\t\tresult += ' = $value';\r\n\t\t\t}\r\n\r\n\t\t\tarr.push({\r\n\t\t\t\tid: identifier,\r\n\t\t\t\tcode: result,\r\n\t\t\t\tdoc: doc\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tfunction searchMethods(find:String, fields:String) {\r\n\t\tvar parse = NodeHtmlParser.parse(fields);\r\n\t\t// grabs things like \"static\" or \"read only\" and the field identifier\r\n\t\tvar arr = [];\r\n\t\tfor (f in parse.querySelectorAll('.field')) {\r\n\t\t\tvar labels = [];\r\n\t\t\tvar identifier = '';\r\n\t\t\tvar parameters = '';\r\n\t\t\tvar type = '';\r\n\t\t\tvar doc = '';\r\n\t\t\tfor (m in f.querySelectorAll('span')) {\r\n\t\t\t\tif (m.classNames.contains('label') && !m.text.contains(\"@:\")) {\r\n\t\t\t\t\tlabels.push(m.text.trim());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (m.classNames.contains('identifier')) {\r\n\t\t\t\t\tidentifier = m.text.trim();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tparameters = f.querySelector('code').text.split(identifier)[1].trim();\r\n\r\n\t\t\tvar split = f.querySelector('code').text.split(':');\r\n\t\t\tif (split.length == 2) {\r\n\t\t\t\ttype = split[1].trim();\r\n\t\t\t}\r\n\r\n\t\t\tif (split.length == 3) {\r\n\t\t\t\ttype = split[2].trim();\r\n\t\t\t}\r\n\r\n\t\t\tfor (p in f.querySelectorAll('p')) {\r\n\t\t\t\tif (p.classNames.contains('javadoc')) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar line = p.text.replace('\\n', '').replace('\\t', '').trim();\r\n\t\t\t\tif (line.length == 0) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdoc += '$line ';\r\n\t\t\t}\r\n\r\n\t\t\tvar result = '';\r\n\t\t\tfor (l in labels) {\r\n\t\t\t\tresult += '$l ';\r\n\t\t\t}\r\n\r\n\t\t\tresult += '$identifier$parameters';\r\n\r\n\t\t\tarr.push({\r\n\t\t\t\tid: identifier,\r\n\t\t\t\tcode: result,\r\n\t\t\t\tdoc: doc\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tfunction search(string:String, interaction:BaseCommandInteraction) {\r\n\t\tvar results = [];\r\n\t\tvar narrow = new Array<Data>();\r\n\t\tvar keywords = [\r\n\t\t\t\"flixel\" => ['flx', 'flixel'],\r\n\t\t\t\"heaps\" => ['h2d', 'hxd', 'hxsl', 'h3d'],\r\n\t\t\t\"ceramic\" => ['ceramic', 'clay', 'spine'],\r\n\t\t\t\"openfl\" => ['openfl'],\r\n\t\t\t\"haxe\" => ['haxe'],\r\n\t\t\t\"godot\" => ['godot'],\r\n\t\t];\r\n\r\n\t\tfor (k => v in keywords) {\r\n\t\t\tfor (i in v) {\r\n\t\t\t\tif (string.contains(i)) {\r\n\t\t\t\t\tnarrow = this.sapi.get(k);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (narrow.length == 0) {\r\n\t\t\tvar algo = FuzzySort.go(string, this.npackages,\r\n\t\t\t\t{key: 'name', limit: 10, threshold: -10000});\r\n\t\t\tfor (a in algo) {\r\n\t\t\t\tresults.push(a.obj);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar algo = FuzzySort.go(string, narrow, {key: 'path', limit: 10, threshold: -10000});\r\n\t\t\tfor (a in algo) {\r\n\t\t\t\tresults.push({\r\n\t\t\t\t\tname: a.obj.path,\r\n\t\t\t\t\tvalue: a.obj.path\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tinteraction.respond(results).then(null, function(err) {\r\n\t\t\ttrace(err);\r\n\t\t\tBrowser.console.dir(err);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'api';\r\n\t}\r\n}\r\n","package ecs;\r\n\r\n#if macro\r\nimport haxe.macro.Expr;\r\nimport haxe.macro.Context;\r\nimport ecs.macros.Utils;\r\nimport ecs.macros.FamilyCache;\r\nimport ecs.macros.ResourceCache;\r\nimport ecs.macros.UniverseMacros;\r\n\r\nusing haxe.macro.Tools;\r\n#end\r\n\r\nusing Safety;\r\n\r\n@:autoBuild(ecs.macros.SystemMacros.familyConstruction()) class System\r\n{\r\n\tfinal universe : Universe;\r\n\r\n\tpublic function new(_universe)\r\n\t{\r\n\t\tuniverse = _universe;\r\n\t}\r\n\r\n\tpublic function onEnabled()\r\n\t{\r\n\t\t//\r\n\t}\r\n\r\n\tpublic function update(_dt : Float)\r\n\t{\r\n\t\t//\r\n\t}\r\n\r\n\tpublic function onDisabled()\r\n\t{\r\n\t\t//\r\n\t}\r\n\r\n\t/**\r\n\t * The setup macro function checks if all the resources requested by the provided families are available,\r\n\t * if they are it creates local variables for each resource with the specified name and runs the provided code block.\r\n\t * \r\n\t * ```\r\n\t * setup(someFamily, {\r\n\t *     // code will only be ran if all of the resources requested by `someFamily` are available.\r\n\t * });\r\n\t * ```\r\n\t * \r\n\t * This macro function cannot be used when importing the `UniverseMacros` module for static extension use.\r\n\t * @param _families Either a family definition variable or an array of family definition variables. \r\n\t * @param _function Code to execute if all the families are active.\r\n\t */\r\n\t@:ignoreInstrument macro function setup(_this : Expr, _families : ExprOf<Family>, _function : Expr)\r\n\t{\r\n\t\tfinal familiesToSetup = switch _families.expr\r\n\t\t{\r\n\t\t\tcase EConst(CIdent(s)): [ s ];\r\n\t\t\tcase EArrayDecl(values): [ for (e in values) switch e.expr {\r\n\t\t\t\tcase EConst(CIdent(s)): s;\r\n\t\t\t\tcase _: Context.error('Family should be an identifier', e.pos);\r\n\t\t\t} ];\r\n\t\t\tcase _: Context.error('Families to setup must be an identifier or an array of identifiers', _families.pos);\r\n\t\t}\r\n\t\tfinal extracted = switch _function.expr\r\n\t\t{\r\n\t\t\tcase EFunction(_, f):\r\n\t\t\t\tswitch extractFunctionBlock(f.expr)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase Some(v): v;\r\n\t\t\t\t\tcase None: Context.error('Unable to extract EBlock from function', f.expr.pos);\r\n\t\t\t\t}\r\n\t\t\tcase EBlock(exprs):\r\n\t\t\t\texprs;\r\n\t\t\tcase other:\r\n\t\t\t\tContext.error('Unsupported iterate expression $other', _function.pos);\r\n\t\t};\r\n\t\t\r\n\t\t// Add a final 0 expr to make non exhaustive if checks acceptable as the last expr in the block.\r\n\t\textracted.push(macro 0);\r\n\t\t\r\n\t\t// Insert variable declarations to the top of the extracted function block.\r\n\t\t// TODO : should probably check to make sure there are no type or name collisions.\r\n\t\tfor (ident in familiesToSetup)\r\n\t\t{\r\n\t\t\tfinal clsKey = '${ signature(Context.getLocalType()) }-${ ident }';\r\n\t\t\tswitch getFamilyByKey(clsKey)\r\n\t\t\t{\r\n\t\t\t\tcase Some(family):\r\n\t\r\n\t\t\t\t\tfor (resource in family.resources)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (resource.name != '_')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfinal signature = signature(resource.type);\r\n\t\t\t\t\t\t\tfinal ct        = resource.type.toComplexType();\r\n\t\t\t\t\t\t\tfinal varName   = resource.name;\r\n\t\r\n\t\t\t\t\t\t\tswitch getResourceID(signature)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcase Some(id):\r\n\t\t\t\t\t\t\t\t\textracted.insert(0, macro final $varName = (universe.resources.get($v{ id }) : $ct));\r\n\t\t\t\t\t\t\t\tcase None:\r\n\t\t\t\t\t\t\t\t\tContext.error('Resource ${ resource.type } has not been requested by any families', _families.pos);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\tcase None: Context.error('Unable to find a family with the key $clsKey', _families.pos);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// Build up the if check for all the of families\r\n\t\tvar idx  = familiesToSetup.length - 1;\r\n\t\tvar expr = macro $i{ familiesToSetup[idx] }.isActive();\r\n\t\r\n\t\twhile (idx > 0)\r\n\t\t{\r\n\t\t\tidx--;\r\n\t\r\n\t\t\texpr = macro $e{ expr } && $i{ familiesToSetup[idx] }.isActive();\r\n\t\t}\r\n\t\r\n\t\treturn macro if ($e{ expr }) $b{ extracted };\r\n\t}\r\n\t\r\n\t/**\r\n\t * The iterate macro is the main way to execute code with each entities components in a given family,\r\n\t * it automates the process of getting the components using the names provided when defining the family.\r\n\t * In situations where you don't actually care about the entity itself you can use it in the following way.\r\n\t * \r\n\t * ```\r\n\t * iterate(someFamily, {\r\n\t *     // code here is ran for each entity found in `someFamily`.\r\n\t * });\r\n\t * ```\r\n\t * Alternatively lambda function syntax can be used.\r\n\t * ```\r\n\t * iterate(someFamily, () -> {\r\n\t *     // code here is ran for each entity found in `someFamily`.\r\n\t * });\r\n\t * ```\r\n\t * If you do need to access the entity whos components are currently being accessed then you can use lambda function\r\n\t * syntax with a single parameter which will then be accessible in the block and contain the current entity.\r\n\t * ```\r\n\t * iterate(someFamily, entity -> {\r\n\t *     // `entity` is the entity which has the components currently being accessed.\r\n\t * });\r\n\t * ```\r\n\t * It is perfectly valid to nest iterate calls as long as there are no component identifier collisions in any of the\r\n\t * nested function iterations.\r\n\t * \r\n\t * This macro function cannot be used when importing the `UniverseMacros` module for static extension use.\r\n\t * @param _family Family to iterate over.\r\n\t * @param _function Code to run for each entity in the family.\r\n\t */\r\n\t@:ignoreInstrument macro function iterate(_this : Expr, _family : ExprOf<Family>, _function : Expr)\r\n\t{\r\n\t\t// Get the name of the family to iterate over.\r\n\t\tfinal familyIdent = switch _family.expr\r\n\t\t{\r\n\t\t\tcase EConst(CIdent(s)): s;\r\n\t\t\tcase _: Context.error('Family passed into iterate must be an identifier', _family.pos);\r\n\t\t}\r\n\t\r\n\t\t// Extract the name of the entity variable in each iteration and the user typed expressions for the loop.\r\n\t\tfinal extracted = switch _function.expr\r\n\t\t{\r\n\t\t\tcase EFunction(_, f):\r\n\t\t\t\t{\r\n\t\t\t\t\tname : if (f.args.length == 0) '_tmpEnt' else f.args[0].name,\r\n\t\t\t\t\texpr : switch extractFunctionBlock(f.expr)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase Some(v): v;\r\n\t\t\t\t\t\tcase None: Context.error('Unable to extract EBlock from function', f.expr.pos);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\tcase EBlock(exprs):\r\n\t\t\t\t{ name : '_tmpEnt', expr : exprs };\r\n\t\t\tcase other:\r\n\t\t\t\tContext.error('Unsupported iterate expression $other', _function.pos);\r\n\t\t}\r\n\t\r\n\t\t// Based on the family name and this systems name search all registered families for a match\r\n\t\tfinal clsKey     = '${ signature(Context.getLocalType()) }-${ familyIdent }';\r\n\t\tfinal components = switch getFamilyByKey(clsKey)\r\n\t\t{\r\n\t\t\tcase Some(family): family.components;\r\n\t\t\tcase None: Context.error('Unable to find a family with the key $clsKey', _family.pos);\r\n\t\t}\r\n\t\r\n\t\t// Generate a local variable with the requested name for each component in the family.\r\n\t\t// Then append the user typed for loop expression to ensure the variables are always accessible\r\n\t\tfinal forExpr = [];\r\n\t\tfor (c in components)\r\n\t\t{\r\n\t\t\tfinal varName   = c.name;\r\n\t\t\tfinal tableName = 'table${ c.hash }';\r\n\t\t\tfinal ct        = c.type.toComplexType();\r\n\t\r\n\t\t\t// Defining a component in a family as '_' will skip the variable generation.\r\n\t\t\tif (varName != '_')\r\n\t\t\t{\r\n\t\t\t\tforExpr.push(macro final $varName = ($i{ tableName }.get($i{ extracted.name }) : $ct));\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (e in extracted.expr)\r\n\t\t{\r\n\t\t\tforExpr.push(e);\r\n\t\t}\r\n\t\t\r\n\t\t// Add a final 0 expr to make non exhaustive if checks acceptable as the last expr in the block.\r\n\t\tforExpr.push(macro 0);\r\n\t\r\n\t\treturn macro @:pos(Context.currentPos()) for ($i{ extracted.name } in $e{ _family }) $b{ forExpr };\r\n\t}\r\n\t\r\n\t/**\r\n\t * The fetch macro allows you to operate on the components of a specific entity.\r\n\t * it automates the process of getting the components using the names provided when defining the family.\r\n\t * \r\n\t * ```\r\n\t * fetch(someFamily, someEntity, {\r\n\t *     // code here will only be executed if someEntity is in the specified family.\r\n\t * })\r\n\t * ```\r\n\t */\r\n\t@:ignoreInstrument macro function fetch(_this : Expr, _family : ExprOf<Family>, _entity : ExprOf<Entity>, _function : Expr)\r\n\t{\r\n\t\tfinal familyIdent = switch _family.expr\r\n\t\t{\r\n\t\t\tcase EConst(CIdent(s)): s;\r\n\t\t\tcase _: Context.error('Family passed into fetch must be an identifier', _family.pos);\r\n\t\t}\r\n\r\n\t\tfinal entityIdent = switch _entity.expr\r\n\t\t{\r\n\t\t\tcase EConst(CIdent(s)): s;\r\n\t\t\tcase _: Context.error('Entity passed into fetch must be an identifier', _entity.pos);\r\n\t\t}\r\n\r\n\t\tfinal blockExprs = switch _function.expr\r\n\t\t{\r\n\t\t\tcase EBlock(exprs): _function;\r\n\t\t\tcase _: Context.error('fetch function must be a code block', _function.pos);\r\n\t\t}\r\n\r\n\t\tfinal clsKey     = '${ signature(Context.getLocalType()) }-${ familyIdent }';\r\n\t\tfinal components = switch getFamilyByKey(clsKey)\r\n\t\t{\r\n\t\t\tcase Some(family): family.components;\r\n\t\t\tcase None: Context.error('Unable to find a family with the key $clsKey', _family.pos);\r\n\t\t}\r\n\r\n\t\tfinal forExpr = [];\r\n\t\tfor (c in components)\r\n\t\t{\r\n\t\t\tfinal varName   = c.name;\r\n\t\t\tfinal tableName = 'table${ c.hash }';\r\n\t\t\tfinal ct        = c.type.toComplexType();\r\n\t\r\n\t\t\t// Defining a component in a family as '_' will skip the variable generation.\r\n\t\t\tif (varName != '_')\r\n\t\t\t{\r\n\t\t\t\tforExpr.push(macro final $varName = ($i{ tableName }.get($e{ _entity }) : $ct));\r\n\t\t\t}\r\n\t\t}\r\n\t\tforExpr.push(blockExprs);\r\n\r\n\t\t// Add a final 0 expr to make non exhaustive if checks acceptable as the last expr in the block.\r\n\t\tforExpr.push(macro 0);\r\n\r\n\t\treturn macro {\r\n\t\t\tif ($e{ _family }.has($e{ _entity }))\r\n\t\t\t{\r\n\t\t\t\t@:mergeBlock $b{ forExpr }\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the table variable for a specific component type.\r\n\t * This should not be used outside of a system.\r\n\t * If the provided type is not used as a component in any of the systems families the behaviour is undefined.\r\n\t * \r\n\t * ```\r\n\t * final component = table(SomeComponent).get(entity);\r\n\t * ```\r\n\t * @param _type Type to get the table for.\r\n\t */\r\n\t@:ignoreInstrument macro function table(_this : Expr, _type : ExprOf<TableType>)\r\n\t{\r\n\t\tContext.warning('table is unsafe and will be removed in a future version, use fetch instead', Context.currentPos());\r\n\r\n\t\treturn switch _type.expr\r\n\t\t{\r\n\t\t\tcase EConst(CIdent(s)):\r\n\t\t\t\tfinal resolved  = Context.getType(s);\r\n\t\t\t\tfinal signature = signature(resolved);\r\n\t\r\n\t\t\t\t{ expr : EConst(CIdent('table$signature')), pos : Context.currentPos() };\r\n\t\t\tcase _:\r\n\t\t\t\tContext.error('Argument must be a type identifier', Context.currentPos());\r\n\t\t}\r\n\t}\r\n}\r\n","package systems;\r\n\r\nimport haxe.PosInfos;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport ecs.System;\r\n\r\nabstract class CommandBase extends System {\r\n\tfinal has_subcommands:Bool = false;\r\n\t@:fastFamily var commands:{command:Command, interaction:BaseCommandInteraction};\r\n\r\n\toverride function update(_) {\r\n\t\tif (!Main.connected || !Main.commands_active) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\titerate(commands, entity -> {\r\n\t\t\tif (this.has_subcommands) {\r\n\t\t\t\tif (command.name.indexOf(this.name, 0) != -1) {\r\n\t\t\t\t\tthis.run(command, interaction);\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (command.name == this.name) {\r\n\t\t\t\t\tthis.run(command, interaction);\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tabstract function run(command:Command, interaction:BaseCommandInteraction):Void;\r\n\r\n\tpublic var name(get, never):String;\r\n\r\n\tabstract function get_name():String;\r\n}\r\n","package ecs.macros;\r\n\r\nimport haxe.ds.ReadOnlyArray;\r\nimport haxe.macro.Type;\r\nimport haxe.macro.Expr;\r\nimport haxe.macro.Context;\r\n\r\nimport ecs.ds.Result;\r\n#if macro\r\nimport ecs.macros.FamilyCache;\r\nimport ecs.macros.ResourceCache;\r\nimport ecs.macros.ComponentCache;\r\n#end\r\n\r\nusing Lambda;\r\nusing Safety;\r\nusing haxe.macro.Tools;\r\n\r\n/**\r\n * Stores the user specified name and the complex type of a requested component or resource.\r\n */\r\n@:structInit\r\n@:publicFields\r\nclass FamilyField\r\n{\r\n    final name : String;\r\n    final type : ComplexType;\r\n}\r\n\r\n/**\r\n * Stores all the info on a registered component or resource.\r\n */\r\nclass RegisteredField\r\n{\r\n    public final name : String;\r\n    public final type : Type;\r\n    public final hash : String;\r\n    public final uID : Int;\r\n\r\n    public function new(_name, _type, _hash, _uID)\r\n    {\r\n        name = _name;\r\n        type = _type;\r\n        hash = _hash;\r\n        uID  = _uID;\r\n    }\r\n}\r\n\r\nclass FamilyError\r\n{\r\n    public final message : String;\r\n    public final pos : Position;\r\n\r\n    public function new(_message, _pos)\r\n    {\r\n        message = _message;\r\n        pos     = _pos;\r\n    }\r\n}\r\n\r\n@:structInit\r\n@:publicFields\r\nclass FamilyDefinition\r\n{\r\n    /**\r\n     * Name of this family.\r\n     */\r\n    final name : String;\r\n\r\n    /**\r\n     * Position of the original family field.\r\n     */\r\n    final pos : Position;\r\n\r\n    /**\r\n     * All the static resources requested by this family.\r\n     */\r\n    final resources : Array<RegisteredField>;\r\n\r\n    /**\r\n     * All of the components requested by this family.\r\n     */\r\n    final components : Array<RegisteredField>;\r\n}\r\n\r\nmacro function familyConstruction() : Array<Field>\r\n{\r\n    final fields   = Context.getBuildFields();\r\n    final output   = [];\r\n    final families = new Array<FamilyDefinition>();\r\n\r\n    if (Utils.invalidationFile != null) {\r\n        sys.io.File.saveContent(Utils.invalidationFile, Std.string(Math.random() * 2147483647));\r\n\r\n#if (debug && !ecs.no_debug_output)\r\n        Sys.println('[ecs] System ${ Context.getLocalClass().get().name } wrote to invalidation file ${ Utils.invalidationFile }');\r\n#end\r\n    }\r\n\r\n    for (field in fields)\r\n    {\r\n        if (hasMeta(field, ':fastFamily'))\r\n        {\r\n            switch extractFastFamily(field)\r\n            {\r\n                case Ok(data):\r\n                    families.push({\r\n                        name       : field.name,\r\n                        pos        : field.pos,\r\n                        components : data.map(f -> {\r\n                            final resolved  = try Context.resolveType(f.type, field.pos) catch (_) Context.error('Unable to resolve component type ${ f.type.toString() }', field.pos);\r\n                            final signature = Utils.signature(resolved);\r\n\r\n                            return new RegisteredField(f.name, resolved, signature, registerComponent(signature, resolved));\r\n                        }),\r\n                        resources  : []\r\n                    });\r\n                case Error(error): Context.error(error.message, error.pos);\r\n            }\r\n        }\r\n        else if (hasMeta(field, ':fullFamily'))\r\n        {\r\n            switch extractFullFamily(field)\r\n            {\r\n                case Ok(data):\r\n                    families.push({\r\n                        name       : data.name,\r\n                        pos        : field.pos,\r\n                        components : switch data.components\r\n                        {\r\n                            case Ok(array):\r\n                                array.map(f -> {\r\n                                    final resolved  = try Context.resolveType(f.type, field.pos) catch (_) Context.error('Unable to resolve component type ${ f.type.toString() }', field.pos);\r\n                                    final signature = Utils.signature(resolved);\r\n\r\n                                    return new RegisteredField(f.name, resolved, signature, registerComponent(signature, resolved));\r\n                                });\r\n                            case Error(error):\r\n                                Context.error(error.message, error.pos);\r\n                        },\r\n                        resources : switch data.resources\r\n                        {\r\n                            case Ok(array):\r\n                                array.map(f -> {\r\n                                    final resolved  = try Context.resolveType(f.type, field.pos) catch (_) Context.error('Unable to resolve resource type ${ f.type.toString() }', field.pos);\r\n                                    final signature = Utils.signature(resolved);\r\n\r\n                                    return new RegisteredField(f.name, resolved, signature, registerResource(signature));\r\n                                });\r\n                            case Error(error):\r\n                                Context.error(error.message, error.pos);\r\n                        }\r\n                    });\r\n                case Error(error): Context.error(error.message, field.pos);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            output.push(field);\r\n        }\r\n    }\r\n\r\n    final currentClass = Context.getLocalClass().get();\r\n\r\n    // This assignment expression in inserted into the systems constructor directly after the \r\n    final assignment = macro {\r\n        @:mergeBlock $b{ [\r\n            // First pass over the extracted families we define a new family field in the system for that type.\r\n            for (idx => family in families)\r\n            {\r\n                output.push({\r\n                    name   : family.name,\r\n                    pos    : family.pos,\r\n                    access : [ AFinal ],\r\n                    kind   : FVar(macro : ecs.Family)\r\n                });\r\n        \r\n                family.components.sort(sortFields);\r\n                family.resources.sort(sortFields);\r\n    \r\n                // We then insert expressions to fet all families from the universe.\r\n                final clsKey = '${ Utils.signature(Context.getLocalType()) }-${ family.name }';\r\n        \r\n                macro $i{ family.name } = universe.families.get($v{ registerFamily(clsKey, family) });\r\n            }\r\n        ] }\r\n\r\n        @:mergeBlock $b{ [\r\n            // For all unique components add a `Components<T>` member field and insert a call to populate it\r\n            for (idx => component in getUniqueComponents(currentClass, families))\r\n            {\r\n                final ct   = component.type.toComplexType();\r\n                final name = 'table${ component.hash }';\r\n\r\n                output.push({\r\n                    name   : name,\r\n                    pos    : Context.currentPos(),\r\n                    access : [ AFinal ],\r\n                    kind   : FVar(macro : ecs.Components<$ct>)\r\n                });\r\n\r\n                macro $i{ name } = cast universe.components.getTable($v{ component.uID });\r\n            }\r\n        ] }\r\n    }\r\n\r\n    switch output.find(f -> f.name == 'new')\r\n    {\r\n        case null:\r\n            output.push({\r\n                name   : 'new',\r\n                pos    : Context.currentPos(),\r\n                access : [ APublic ],\r\n                kind   : FFun({\r\n                    args: [ { name: '_universe', type: macro : ecs.Universe } ],\r\n                    expr: macro {\r\n                        super(_universe);\r\n\r\n                        @:mergeBlock $e{ assignment }\r\n                    }\r\n                })\r\n            });\r\n        case existing:\r\n            switch existing.kind\r\n            {\r\n                case FFun({ expr : { expr : EBlock(exprs), pos : p } }):\r\n                    var injected = false;\r\n\r\n                    for (idx => expr in exprs)\r\n                    {\r\n                        switch expr.expr\r\n                        {\r\n                            case ECall(e, _):\r\n                                if (e.expr.match(EConst(CIdent('super'))))\r\n                                {\r\n                                    if (idx + 1 >= exprs.length)\r\n                                    {\r\n                                        exprs.push(assignment);\r\n                                    }\r\n                                    else\r\n                                    {\r\n                                        exprs.insert(idx + 1, assignment);\r\n                                    }\r\n\r\n                                    injected = true;\r\n                                }\r\n                            case _:\r\n                                //\r\n                        }\r\n\r\n                        if (injected)\r\n                        {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!injected)\r\n                    {\r\n                        Context.error('Failed to find constructor super call to inject family setup code', p);\r\n                    }\r\n                case other:\r\n                    Context.error('Expected constructor to be a function, found $other', existing.pos);\r\n            }\r\n    }   \r\n\r\n    return output;\r\n}\r\n\r\n/**\r\n * Returns if a field has the provided metadata string.\r\n * @param _field Field to check.\r\n * @param _meta Meta data name.\r\n */\r\nprivate function hasMeta(_field : Field, _meta : String)\r\n{\r\n    if (_field.meta == null || _field.meta.length == 0)\r\n    {\r\n        return false;\r\n    }\r\n\r\n    for (meta in _field.meta)\r\n    {\r\n        if (meta.name == _meta)\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n * Given a field it will attempt to extract a family definition from just the requested components.\r\n * Empty arrays will be used for the resources and exclusions.\r\n * An error will be returned if any unexpected expression types are encountered.\r\n * @param _field Field to check.\r\n * @return Result<FamilyDefinition, String>\r\n */\r\nprivate function extractFastFamily(_field : Field)\r\n{\r\n    return switch _field.kind\r\n    {\r\n        case FVar(TAnonymous(fields), _): extractFamilyComponentsFromObject(fields);\r\n        case other: Error(new FamilyError('Unexpected field kind $other, expected FVar', _field.pos));\r\n    }\r\n}\r\n\r\n/**\r\n * Given a field it will attempt to extract a fully defined family from the expression within.\r\n * If any part of the definition is missing an empty array will be used in its place.\r\n * An error will be returned if any unexpected expression types are encountered.\r\n * @param _field Field to check.\r\n * @return Result<FamilyDefinition, String>\r\n */\r\nprivate function extractFullFamily(_field : Field) : Result<{ name : String, components : Result<ReadOnlyArray<FamilyField>, FamilyError>, resources : Result<ReadOnlyArray<FamilyField>, FamilyError> }, FamilyError>\r\n{\r\n    return switch _field.kind\r\n    {\r\n        case FVar(TAnonymous(fields), _):\r\n            final requires = fields\r\n                .find(f -> f.name == 'requires')\r\n                .let(f -> switch f.kind\r\n                    {\r\n                        case FVar(TAnonymous(fields), _): extractFamilyComponentsFromObject(fields);\r\n                        case other: Error(new FamilyError('Unexpected object field expression $other', f.pos));\r\n                    })\r\n                .or(Ok([]));\r\n            final resources = fields\r\n                .find(f -> f.name == 'resources')\r\n                .let(f -> switch f.kind\r\n                    {\r\n                        case FVar(TAnonymous(fields), _): extractFamilyComponentsFromObject(fields);\r\n                        case other: Error(new FamilyError('Unexpected object field expression $other', f.pos));\r\n                    })\r\n                .or(Ok([]));\r\n\r\n            Ok({\r\n                name       : _field.name,\r\n                components : requires,\r\n                resources  : resources\r\n            });\r\n        case other: Error(new FamilyError('Unexpected field kind ${ other }, expected FVar', _field.pos));\r\n    }\r\n}\r\n\r\n/**\r\n * Extracts all the `EConst(CIdent(_))` names from an array of object fields.\r\n * Returned family fields are lexographically ordered by their name.\r\n * If any other expressions are found an error is returned.\r\n * @param _fields Object fields to search through.\r\n * @return Result<ReadOnlyArray<FamilyField>, Exception>\r\n */\r\nprivate function extractFamilyComponentsFromObject(_fields : ReadOnlyArray<Field>) : Result<ReadOnlyArray<FamilyField>, FamilyError>\r\n{\r\n    final extracted = new Array<FamilyField>();\r\n\r\n    for (field in _fields)\r\n    {\r\n        switch field.kind\r\n        {\r\n            case FVar(ct, _):\r\n                extracted.push({\r\n                    name : field.name,\r\n                    type : ct\r\n                });\r\n            case other:\r\n                return Error(new FamilyError('Unexpected expression ${ other }, expected FVar(_, EConst(CIdent(_)))', field.pos));\r\n        }\r\n    }\r\n\r\n    return Ok(extracted);\r\n}\r\n\r\n/**\r\n * Given a number of families returns all unique components requested by all of them.\r\n * This function checks by type not component variable name.\r\n * @param _class Class of the system being constructed, used to ensure we don't redefine the same component twice.\r\n * @param _families Families to search.\r\n * @return ReadOnlyArray<FamilyField>\r\n */\r\nprivate function getUniqueComponents(_class : ClassType, _families : ReadOnlyArray<FamilyDefinition>) : ReadOnlyArray<RegisteredField>\r\n{\r\n    final components = new Array<RegisteredField>();\r\n\r\n    for (family in _families)\r\n    {\r\n        for (component in family.components)\r\n        {\r\n            if (!components.exists(f -> f.uID == component.uID) && _class.findField('table${ component.hash }') == null)\r\n            {\r\n                components.push(component);\r\n            }\r\n        }\r\n    }\r\n\r\n    return components;\r\n}\r\n\r\n/**\r\n * Function to sort two objects based on a name field.\r\n * @param o1 Object 1.\r\n * @param o2 Object 2.\r\n */\r\nprivate function sortFields(o1 : RegisteredField, o2 : RegisteredField)\r\n{\r\n    final name1 = o1.hash;\r\n    final name2 = o2.hash;\r\n\r\n    if (name1 < name2)\r\n    {\r\n        return -1;\r\n    }\r\n    if (name1 > name2)\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    return 0;\r\n}","package ecs;\r\n\r\nimport ecs.ds.Unit;\r\nimport ecs.ds.Signal;\r\nimport ecs.ds.SparseSet;\r\nimport bits.Bits;\r\n\r\nclass Family\r\n{\r\n    public final id : Int;\r\n\r\n    public final componentsMask : Bits;\r\n\r\n    public final resourcesMask : Bits;\r\n\r\n    public final onActivated : Signal<Unit>;\r\n\r\n    public final onDeactivated : Signal<Unit>;\r\n\r\n    public final onEntityAdded : Signal<Entity>;\r\n\r\n    public final onEntityRemoved : Signal<Entity>;\r\n\r\n    final entities : SparseSet;\r\n\r\n    var active : Bool;\r\n\r\n    public function new(_id, _cmpMask, _resMask, _size)\r\n    {\r\n        id              = _id;\r\n        componentsMask  = _cmpMask;\r\n        resourcesMask   = _resMask;\r\n        onEntityAdded   = new Signal();\r\n        onEntityRemoved = new Signal();\r\n        onActivated     = new Signal();\r\n        onDeactivated   = new Signal();\r\n        entities        = new SparseSet(_size);\r\n        active          = false;\r\n    }\r\n\r\n    public function add(_entity)\r\n    {\r\n        if (!entities.has(_entity))\r\n        {\r\n            entities.insert(_entity);\r\n\r\n            if (isActive())\r\n            {\r\n                onEntityAdded.notify(_entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    public function remove(_entity)\r\n    {\r\n        if (entities.has(_entity))\r\n        {           \r\n            if (isActive())\r\n            {\r\n                onEntityRemoved.notify(_entity);\r\n            }\r\n\r\n            entities.remove(_entity);\r\n        }\r\n    }\r\n\r\n    public function has(_entity)\r\n    {\r\n        return entities.has(_entity);\r\n    }\r\n\r\n    public function activate()\r\n    {\r\n        if (!active)\r\n        {\r\n            active = true;\r\n\r\n            onActivated.notify(Unit.unit);\r\n\r\n            for (i in 0...entities.size())\r\n            {\r\n                onEntityAdded.notify(entities.getDense(i));\r\n            }\r\n        }\r\n    }\r\n\r\n    public function deactivate()\r\n    {\r\n        if (active)\r\n        {\r\n            for (i in 0...entities.size())\r\n            {\r\n                onEntityRemoved.notify(entities.getDense(i));\r\n            }\r\n\r\n            onDeactivated.notify(Unit.unit);\r\n\r\n            active = false;\r\n        }\r\n    }\r\n\r\n    public inline function size()\r\n    {\r\n        return entities.size();\r\n    }\r\n    \r\n    public function isActive()\r\n    {\r\n        return active;\r\n    }\r\n\r\n    public inline function iterator()\r\n    {\r\n        return new FamilyIterator(entities, isActive());\r\n    }\r\n}\r\n\r\nprivate class FamilyIterator\r\n{\r\n    final set : SparseSet;\r\n\r\n    final active : Bool;\r\n\r\n    var idx : Int;\r\n\r\n    public inline function new(_set, _active)\r\n    {\r\n        set    = _set;\r\n        active = _active;\r\n        idx    = _set.size() - 1;\r\n    }\r\n\r\n    public inline function hasNext()\r\n    {\r\n        return active && idx >= 0;\r\n    }\r\n\r\n    public inline function next()\r\n    {\r\n        return set.getDense(idx--);\r\n    }\r\n}\r\n","/*\r\n * Copyright (C)2005-2018 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.iterators;\r\n\r\n@:ifFeature(\"anon_read.keyValueIterator\", \"dynamic_read.keyValueIterator\")\r\nclass ArrayKeyValueIterator<T> {\r\n\tvar current:Int = 0;\r\n\tvar array:Array<T>;\r\n\r\n\tpublic inline function new(array:Array<T>) {\r\n\t\tthis.array = array;\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn current < array.length;\r\n\t}\r\n\r\n\tpublic inline function next():{key:Int,value:T} {\r\n\t\treturn {value:array[current], key:current++};\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport js.Browser;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\n@:keep\r\nclass Archive extends CommandBase {\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Archive:\r\n\t\t\t\t// Archive role\r\n\t\t\t\tvar role = '1019915584546291712';\r\n\r\n\t\t\t\tinteraction.member.fetch(true).then(function(member) {\r\n\t\t\t\t\tvar found = false;\r\n\t\t\t\t\tfor (key => _ in member.roles.cache) {\r\n\t\t\t\t\t\tif (key == role) {\r\n\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (found) {\r\n\t\t\t\t\t\tinteraction.member.roles.remove(role).then(function(success) {\r\n\t\t\t\t\t\t\tinteraction.reply('Archives are hidden');\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinteraction.member.roles.add(role).then(function(success) {\r\n\t\t\t\t\t\t\tinteraction.reply('Archives are shown');\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'archive';\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2024 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.lib;\r\n\r\nclass HaxeKeyValueIterator<K, V> {\r\n\tfinal jsIterator:js.lib.Iterator<KeyValue<K, V>>;\r\n\tvar lastStep:js.lib.Iterator.IteratorStep<KeyValue<K, V>>;\r\n\r\n\tpublic inline function new(jsIterator:js.lib.Iterator<KeyValue<K, V>>) {\r\n\t\tthis.jsIterator = jsIterator;\r\n\t\tlastStep = jsIterator.next();\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn !lastStep.done;\r\n\t}\r\n\r\n\tpublic inline function next():{key:K, value:V} {\r\n\t\tvar v = lastStep.value;\r\n\t\tlastStep = jsIterator.next();\r\n\t\treturn {key: v.key, value: v.value};\r\n\t}\r\n\r\n\tpublic static inline function keyValueIterator<K, V>(jsIterator:js.lib.Iterator<KeyValue<K, V>>) {\r\n\t\treturn new HaxeKeyValueIterator(jsIterator);\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.lib;\r\n\r\n/**\r\n\tThe (native) JavaScript Map object holds key-value pairs.\r\n\tAny value (both objects and primitive values) may be used as either a key\r\n\tor a value.\r\n\r\n\tDocumentation [Map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map) by [Mozilla Contributors](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map$history), licensed under [CC-BY-SA 2.5](https://creativecommons.org/licenses/by-sa/2.5/).\r\n**/\r\n@:native(\"Map\")\r\nextern class Map<K, V> {\r\n\t/**\r\n\t\tThe number of key/value pairs in the `js.Map` object.\r\n\t**/\r\n\tvar size(default, null):Int;\r\n\r\n\t/**\r\n\t\tAn Array or other iterable object whose elements are key-value pairs\r\n\t\t(arrays with two elements, e.g. `[[ 1, 'one' ],[ 2, 'two' ]]`).\r\n\t\tEach key-value pair is added to the new `js.Map`;\r\n\t\tnull values are treated as undefined.\r\n\t**/\r\n\t@:pure function new(?iterable:Any);\r\n\r\n\t/**\r\n\t\tA boolean asserting whether a value has been associated to the key in\r\n\t\tthe `js.Map` object or not.\r\n\t**/\r\n\t@:pure function has(key:K):Bool;\r\n\r\n\t/**\r\n\t\tThe value associated to the key, or `null` if there is none.\r\n\t**/\r\n\t@:pure function get(key:K):Null<V>;\r\n\r\n\t/**\r\n\t\tSets the value for the key in the Map object.\r\n\t\tReturns the `js.Map` object.\r\n\t**/\r\n\tfunction set(key:K, value:V):Map<K, V>;\r\n\r\n\t/**\r\n\t\tReturns `true` if an element in the `js.Map` object existed and has been\r\n\t\tremoved, or `false` if the element does not exist.\r\n\t\t`has(key)` will return `false` afterwards.\r\n\t**/\r\n\tfunction delete(key:K):Bool;\r\n\r\n\t/**\r\n\t\tRemoves all key/value pairs from the Map object.\r\n\t**/\r\n\tfunction clear():Void;\r\n\r\n\t/**\r\n\t\tCalls `callback` once for each key-value pair present in the `js.Map`\r\n\t\tobject, in insertion order.\r\n\r\n\t\tIf a `thisArg` parameter is provided to forEach, it will be used as the\r\n\t\t`this` value for each callback.\r\n\t**/\r\n\tfunction forEach(callback:(value:V, key:K, map:Map<K, V>) -> Void, ?thisArg:Any):Void;\r\n\r\n\t/**\r\n\t\tReturns a new `Iterator` object that contains the keys for each element\r\n\t\tin the `js.Map` object in insertion order.\r\n\t**/\r\n\tfunction keys():js.lib.Iterator<K>;\r\n\r\n\t/**\r\n\t\tReturns a new `Iterator` object that contains the values for each\r\n\t\telement in the `js.Map` object in insertion order.\r\n\t**/\r\n\tfunction values():js.lib.Iterator<V>;\r\n\r\n\t/**\r\n\t\tReturns a new `Iterator` object that contains an array of `KeyValue`\r\n\t\tfor each element in the `js.Map` object in insertion order.\r\n\t**/\r\n\tfunction entries():js.lib.Iterator<KeyValue<K, V>>;\r\n\r\n\tinline function iterator():js.lib.HaxeIterator<V> {\r\n\t\treturn new HaxeIterator(this.values());\r\n\t}\r\n\r\n\tinline function keyValueIterator():HaxeKeyValueIterator<K, V> {\r\n\t\treturn new HaxeKeyValueIterator(this.entries());\r\n\t}\r\n}\r\n\r\n@:deprecated typedef MapEntry<K, V> = KeyValue<K, V>;","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.lib;\r\n\r\n/**\r\n\tKey/value access helper.\r\n**/\r\nabstract KeyValue<K, V>(Array<Any>) {\r\n\tpublic var key(get, never):K;\r\n\tpublic var value(get, never):V;\r\n\r\n\tinline function get_key():K {\r\n\t\treturn this[0];\r\n\t}\r\n\r\n\tinline function get_value():V {\r\n\t\treturn this[1];\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport js.Browser;\r\nimport systems.CommandBase;\r\nimport discord_js.GuildMember;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport Main;\r\n\r\nclass AutoRole extends CommandBase {\r\n\t@:fastFamily var users:{command:CommandForward, member:GuildMember};\r\n\tfinal news_role_id:String = \"761714325227700225\";\r\n\tfinal event_role_id:String = \"1054432874473996408\";\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\t\titerate(users, (entity) -> {\r\n\t\t\tswitch(command) {\r\n\t\t\t\tcase add_event_role:\r\n\t\t\t\t\tmember.roles.add(event_role_id).then(null, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tmember.roles.add(news_role_id).then(null, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'autorole';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport discord_js.ThreadChannel;\r\nimport discord_js.TextChannel;\r\nimport js.Browser;\r\nimport systems.CommandBase;\r\nimport discord_js.GuildMember;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport Main;\r\n\r\nclass AutoThread extends CommandBase {\r\n\t@:fastFamily var users:{command:CommandForward, member:GuildMember};\r\n\tfinal news_role_id:String = \"761714325227700225\";\r\n\tfinal event_role_id:String = \"1054432874473996408\";\r\n\tfinal announcement_channel:String = #if block '597067735771381771' #else '286485321925918721' #end;\r\n\tvar announcement:TextChannel;\r\n\tvar checking:Bool = false;\r\n\tfinal news_feed:String = '1030188275341729882';\r\n\tvar news_feed_channel:ThreadChannel;\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\t\tif (this.announcement == null && !this.checking) {\r\n\t\t\tthis.checking = true;\r\n\t\t\tMain.client.channels.fetch(announcement_channel).then(function(channel) {\r\n\t\t\t\tthis.announcement = cast channel;\r\n\t\t\t\tthis.checking = false;\r\n\t\t\t}, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.announcement != null && !this.checking) {\r\n\t\t\tchecking = true;\r\n\t\t\tthis.announcement.threads.fetch(news_feed).then(function(succ) {\r\n\t\t\t\tthis.news_feed_channel = succ;\r\n\t\t\t\tchecking = false;\r\n\t\t\t}, (err) -> trace(err));\r\n\t\t}\r\n\r\n\t\tif (this.announcement == null && news_feed == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\titerate(users, (entity) -> {\r\n\t\t\tswitch(command) {\r\n\t\t\t\tcase auto_thread:\r\n\t\t\t\t\tnews_feed_channel.members.add(member.id).then(null, (err) -> trace(err));\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'autothread';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\n\r\nclass Boop extends CommandBase {\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Boop(user):\r\n\t\t\t\tinteraction.reply('*boop* <@${user.id}>');\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'boop';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport discord_js.MessageEmbed;\r\nimport discord_builder.APIActionRowComponent;\r\nimport discord_builder.APITextInputComponent;\r\nimport discord_builder.ModalBuilder;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\nimport Main.CommandForward;\r\n\r\nclass Code extends CommandBase {\r\n\t@:fastFamily var something_else:{forward:CommandForward, interaction:BaseCommandInteraction};\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\t\titerate(something_else, entity -> {\r\n\t\t\ttrace('here');\r\n\t\t\ttrace(forward);\r\n\t\t\tswitch (forward) {\r\n\t\t\t\tcase code_paste:\r\n\t\t\t\t\tvar start = interaction.fields.getTextInputValue('start').parseInt();\r\n\t\t\t\t\tvar problem = interaction.fields.getTextInputValue('problem');\r\n\t\t\t\t\tvar code = cleanSpace(interaction.fields.getTextInputValue('code'));\r\n\r\n\t\t\t\t\tif (start == null) {\r\n\t\t\t\t\t\tstart = 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar embed = new MessageEmbed();\r\n\t\t\t\t\tvar desc = '';\r\n\t\t\t\t\tvar new_code = '';\r\n\t\t\t\t\tfor (key => value in code.split('\\n')) {\r\n\t\t\t\t\t\tnew_code += '${start + key}: $value\\n';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar content = '**__Code__**\\n```hx\\n$new_code\\n```\\n**__Problem__**\\n$problem';\r\n\t\t\t\t\tembed.setDescription(content);\r\n\t\t\t\t\tinteraction.reply({embeds: [embed]}).then(null, (err) -> trace(err)); \r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction cleanSpace(code:String) {\r\n\t\tvar shallowest = 500;\r\n\t\tvar largest = 0;\r\n\t\tvar tabs = false;\r\n\r\n\t\tcode = code.replace('`', '\\\\`');\r\n\r\n\t\tfor (line in code.split('\\n')) {\r\n\t\t\tvar first_char_pos = -1;\r\n\t\t\tvar depth = 0;\r\n\r\n\t\t\tfor (i in 0...line.length) {\r\n\t\t\t\tvar char = line.charAt(i);\r\n\t\t\t\tif (char == ' ' || char == '\\t') {\r\n\t\t\t\t\tif (char == '\\t') {\r\n\t\t\t\t\t\ttabs = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tfirst_char_pos = i;\r\n\t\t\t\tdepth = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (depth < shallowest && depth != 0) {\r\n\t\t\t\tshallowest = depth;\r\n\t\t\t}\r\n\r\n\t\t\tif (depth > largest) {\r\n\t\t\t\tlargest = depth;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar new_code = '';\r\n\t\tfor (line in code.split('\\n')) {\r\n\t\t\tnew_code += line.substring(shallowest) + '\\n';\r\n\t\t}\r\n\t\treturn new_code;\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tvar modal = new ModalBuilder().setCustomId('code_paste').setTitle('Code paste');\r\n\r\n\t\tvar problem = new APITextInputComponent().setCustomId('problem')\r\n\t\t\t.setLabel('Problem description')\r\n\t\t\t.setStyle(Paragraph)\r\n\t\t\t.setRequired(true)\r\n\t\t\t.setPlaceholder('Describe your issue and post any error messages here');\r\n\t\tvar from = new APITextInputComponent().setCustomId('start')\r\n\t\t\t.setLabel('First line number')\r\n\t\t\t.setStyle(Short)\r\n\t\t\t.setMinLength(1)\r\n\t\t\t.setMaxLength(5)\r\n\t\t\t.setPlaceholder('The starting line number of the code you are pasting');\r\n\r\n\t\tvar code = new APITextInputComponent().setCustomId('code')\r\n\t\t\t.setLabel('Code')\r\n\t\t\t.setStyle(Paragraph)\r\n\t\t\t.setMinLength(10)\r\n\t\t\t.setMaxLength(2000);\r\n\r\n\t\tvar action_a = new APIActionRowComponent().addComponents(from);\r\n\t\tvar action_c = new APIActionRowComponent().addComponents(code);\r\n\t\tvar action_d = new APIActionRowComponent().addComponents(problem);\r\n\r\n\t\tmodal.addComponents(action_a, action_c, action_d);\r\n\t\tinteraction.showModal(modal);\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'code';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport commands.types.ContextMenuTypes;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\n\r\nclass CodeLineNumbers extends CommandBase {\r\n\t@:fastFamily var options:{route:ContextMenuTypes, interaction:BaseCommandInteraction};\r\n\r\n\toverride function update(_) {\r\n\t\titerate(options, entity -> {\r\n\t\t\tswitch (route) {\r\n\t\t\t\tcase CodeLineNumbers:\r\n\t\t\t\t\tvar message = interaction.targetMessage;\r\n\t\t\t\t\tif (message.author.id != interaction.member.id) {\r\n\t\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\t\tcontent: \"Hey, that isn't your message! :angry:\",\r\n\t\t\t\t\t\t\tephemeral: true\r\n\t\t\t\t\t\t}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (message != null && message.content.length > 0) {\r\n\t\t\t\t\t\tvar replace = parseString(message.content);\r\n\t\t\t\t\t\tif (replace != null) {\r\n\t\t\t\t\t\t\tinteraction.reply({content: replace}).then(function(_) {\r\n\t\t\t\t\t\t\t\tmessage.delete().then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\t\t{content: \"No compatible code blocks were found. Only standard block or hx/haxe are supported.\",\r\n\t\t\t\t\t\t\t\t\tephemeral: true}\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction parseString(content:String) {\r\n\t\tvar matched = [];\r\n\t\tvar index = 0;\r\n\t\tvar start = -1;\r\n\t\tvar blocks = ['```hx\\n', '```haxe\\n', '```\\n'];\r\n\t\tvar selected = null;\r\n\r\n\t\tfor (opt in blocks) {\r\n\t\t\tif (content.contains(opt)) {\r\n\t\t\t\tselected = opt;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (selected == null) {\r\n\t\t\ttrace('no compatible code block');\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\twhile (index != -1) {\r\n\t\t\tvar pos = start;\r\n\t\t\tif (pos > -1) {\r\n\t\t\t\tpos += selected.length;\r\n\t\t\t} else {\r\n\t\t\t\tpos = 0;\r\n\t\t\t}\r\n\t\t\tindex = content.indexOf(selected, pos);\r\n\t\t\tstart = index;\r\n\t\t\tif (index == -1) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tvar line_end = -1;\r\n\t\t\tvar cursor = start - 1;\r\n\t\t\twhile (line_end == -1) {\r\n\t\t\t\tvar char = content.charAt(cursor);\r\n\t\t\t\tif (char == '\\n') {\r\n\t\t\t\t\tline_end = cursor + 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcursor++;\r\n\t\t\t}\r\n\r\n\t\t\tmatched.push({start: start, end: start + selected.length});\r\n\t\t\tif (selected != '```\\n') {\r\n\t\t\t\tvar end_tag = content.indexOf('```', index + selected.length);\r\n\t\t\t\tmatched.push({start: end_tag, end: end_tag + selected.length});\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar replace = content;\r\n\t\tfor (i => pos in matched) {\r\n\t\t\tif (i % 2 == 0) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvar last = matched[i - 1];\r\n\t\t\tvar ogcode = content.substring(last.end, pos.start);\r\n\t\t\tvar lines = addLineNumbers(ogcode);\r\n\t\t\treplace = replace.replace(ogcode, lines);\r\n\t\t}\r\n\r\n\t\treturn replace;\r\n\t}\r\n\r\n\tfunction addLineNumbers(code:String) {\r\n\t\tvar new_code = '\\n';\r\n\t\tcode = code.rtrim();\r\n\t\tvar split = code.split('\\n');\r\n\t\tfor (key => value in split) {\r\n\t\t\tvar new_line = false;\r\n\t\t\tif (key + 1 < split.length) {\r\n\t\t\t\tnew_line = true;\r\n\t\t\t}\r\n\t\t\tnew_code += '${key + 1}: $value';\r\n\t\t\tif (new_line) {\r\n\t\t\t\tnew_code += '\\n';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn new_code;\r\n\t}\r\n\r\n\tfunction cleanSpace(code:String) {\r\n\t\tvar shallowest = 500;\r\n\t\tvar largest = 0;\r\n\t\tvar tabs = false;\r\n\r\n\t\tcode = code.replace('`', '\\\\`');\r\n\r\n\t\tfor (line in code.split('\\n')) {\r\n\t\t\tvar first_char_pos = -1;\r\n\t\t\tvar depth = 0;\r\n\r\n\t\t\tfor (i in 0...line.length) {\r\n\t\t\t\tvar char = line.charAt(i);\r\n\t\t\t\tif (char == ' ' || char == '\\t') {\r\n\t\t\t\t\tif (char == '\\t') {\r\n\t\t\t\t\t\ttabs = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tfirst_char_pos = i;\r\n\t\t\t\tdepth = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (depth < shallowest && depth != 0) {\r\n\t\t\t\tshallowest = depth;\r\n\t\t\t}\r\n\r\n\t\t\tif (depth > largest) {\r\n\t\t\t\tlargest = depth;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar new_code = '';\r\n\t\tfor (line in code.split('\\n')) {\r\n\t\t\tnew_code += line.substring(shallowest) + '\\n';\r\n\t\t}\r\n\t\treturn new_code;\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\t// trace('here');\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'codelinenumbers';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport Main.CommandForward;\r\nimport js.Browser;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\n\r\nclass Color extends CommandBase {\r\n\tvar roles:Map<String, String>;\r\n\toverride function onEnabled() {\r\n\t\troles = [\r\n\t\t\t\"Orange\" => \"1164160370232012830\",\r\n\t\t\t\"Yellow\" => \"1164236800747900948\",\r\n\t\t\t\"Purple\" => \"1164237188561653770\",\r\n\t\t\t\"Red\" => \"1164237399719673916\",\r\n\t\t\t\"Sky Blue\" => \"1134786690754555916\",\r\n\t\t\t\"Pink\" => \"1164238547293847622\",\r\n\t\t\t\"Green\" =>  \"1164239067353985084\",\r\n\t\t\t\"Grey\" => \"1164239176686915672\",\r\n\t\t\t\"Blue\" => \"1164328144241696882\",\r\n\t\t\t\"Default\" => \"Default\"\r\n\t\t];\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Color(role_name):\r\n\t\t\t\tvar role_id = this.roles.get(role_name);\r\n\t\t\t\tinteraction.member.fetch(true).then(function(member) {\r\n\t\t\t\t\tvar set_role = null;\r\n\t\t\t\t\tvar found = false;\r\n\t\t\t\t\tif (role_id == \"Default\") {\r\n\t\t\t\t\t\tfor (value in this.roles) {\r\n\t\t\t\t\t\t\tfor (role in member.roles.cache) {\r\n\t\t\t\t\t\t\t\tif (value == role.id) {\r\n\t\t\t\t\t\t\t\t\tmember.roles.remove(role.id).then(function(_) {\r\n\t\t\t\t\t\t\t\t\t\tinteraction.reply('Color set to default');\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tinteraction.reply(\"You're already on the default color!\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (value in member.roles.cache) {\r\n\t\t\t\t\t\tfor (k => v in this.roles) {\r\n\t\t\t\t\t\t\tif (value.id == v) {\r\n\t\t\t\t\t\t\t\tmember.roles.remove(value.id).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tinteraction.member.roles.add(role_id).then(function(success) {\r\n\t\t\t\t\t\tinteraction.reply({content: 'Color changed!'}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\tif (found) {\r\n\t\t\t\t\t\t\ttrace('found $set_role');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction rollRemoved(interaction:BaseCommandInteraction, response:Dynamic) {\r\n\t\tinteraction.reply('Removed');\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'color';\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.lib;\r\n\r\n/**\r\n\t`HaxeIterator` wraps a JavaScript native iterator object to enable for-in iteration in haxe.\r\n\tIt can be used directly: `new HaxeIterator(jsIterator)` or via using: `using HaxeIterator`.\r\n**/\r\nclass HaxeIterator<T> {\r\n\r\n\tfinal jsIterator: js.lib.Iterator<T>;\r\n\tvar lastStep: js.lib.Iterator.IteratorStep<T>;\r\n\r\n\tpublic inline function new(jsIterator: js.lib.Iterator<T>) {\r\n\t\tthis.jsIterator = jsIterator;\r\n\t\tlastStep = jsIterator.next();\r\n\t}\r\n\r\n\tpublic inline function hasNext(): Bool {\r\n\t\treturn !lastStep.done;\r\n\t}\r\n\r\n\tpublic inline function next(): T {\r\n\t\tvar v = lastStep.value;\r\n\t\tlastStep = jsIterator.next();\r\n\t\treturn v;\r\n\t}\r\n\r\n\tpublic static inline function iterator<T>(jsIterator: js.lib.Iterator<T>) {\r\n\t\treturn new HaxeIterator(jsIterator);\r\n\t}\r\n\r\n}","package systems;\r\n\r\nimport haxe.PosInfos;\r\nimport firebase.web.firestore.DocumentReference;\r\nimport firebase.web.app.FirebaseApp;\r\nimport firebase.web.firestore.Firestore;\r\nimport firebase.web.firestore.Firestore.*;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport ecs.System;\r\n\r\nabstract class CommandDbBase extends System {\r\n\tvar has_subcommands:Bool = false;\r\n\tvar db(get, never):Firestore;\r\n\r\n\t@:fastFamily var commands:{command:Command, interaction:BaseCommandInteraction};\r\n\r\n\toverride function update(_) {\r\n\t\tif (!Main.connected || !Main.commands_active) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\titerate(commands, entity -> {\r\n\t\t\tif (this.has_subcommands) {\r\n\t\t\t\tif (command.name.indexOf(this.name, 0) != -1) {\r\n\t\t\t\t\tthis.run(command, interaction);\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (command.name == this.name) {\r\n\t\t\t\t\tthis.run(command, interaction);\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic inline function addDoc<T>(path:String, data:T, success:(doc:DocumentReference<T>) -> Void, failure:(error:Dynamic) -> Void) {\r\n\t\tFirestore.addDoc(collection(this.db, path), data).then(success, failure);\r\n\t}\r\n\r\n\tprivate inline function get_db() {\r\n\t\treturn Firestore.getFirestore(FirebaseApp.getApp());\r\n\t}\r\n\r\n\tabstract function run(command:Command, interaction:BaseCommandInteraction):Void;\r\n\r\n\tvar name(get, never):String;\r\n\r\n\tabstract function get_name():String;\r\n}\r\n","package commands;\r\n\r\nimport js.Browser;\r\nimport commands.types.ContextMenuTypes;\r\nimport discord_js.ThreadChannel;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandDbBase;\r\nimport Main.CommandForward;\r\nimport discord_builder.ButtonBuilder;\r\nimport discord_builder.APIActionRowComponent;\r\n\r\nclass DeleteProject extends CommandDbBase {\r\n\t@:fastFamily var options:{route:ContextMenuTypes, interaction:BaseCommandInteraction};\r\n\r\n\toverride function update(_) {\r\n\t\titerate(options, entity -> {\r\n\t\t\tswitch (route) {\r\n\t\t\t\tcase DeleteProject:\r\n\t\t\t\t\tvar author = interaction.user.id;\r\n\t\t\t\t\tif (interaction.channel.isThread()) {\r\n\t\t\t\t\t\tvar confirm = new ButtonBuilder().setCustomId('deleteProjectConfirm').setLabel('Confirm Delete').setStyle(ButtonStyle.Danger);\r\n\t\t\t\t\t\tvar cancel = new ButtonBuilder().setCustomId('deleteProjectCancel').setLabel('Cancel').setStyle(ButtonStyle.Secondary);\r\n\t\t\t\t\t\tvar row = new APIActionRowComponent();\r\n\t\t\t\t\t\trow.addComponents(cancel, confirm);\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tvar thread = cast(interaction.channel, ThreadChannel);\r\n\t\t\t\t\t\t\tif (thread.ownerId == author) {\r\n\t\t\t\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\t\t\t\tephemeral: true,\r\n\t\t\t\t\t\t\t\t\tcontent: \"Are you sure you want to delete this project? All messages within this thread will be erased - It is **permanent** and **cannot** be undone.\",\r\n\t\t\t\t\t\t\t\t\tcomponents: [row]\r\n\t\t\t\t\t\t\t\t}).then(function(response) {\r\n\t\t\t\t\t\t\t\t\tresponse.awaitMessageComponent({\r\n\t\t\t\t\t\t\t\t\t\tfilter: function(a, b) {\r\n\t\t\t\t\t\t\t\t\t\t\tswitch (a.customId) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'deleteProjectConfirm':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthread.delete('User requested delete').then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ta.update({content: \"Request cancelled.\", components: []}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}).then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\tif ((err?.message : String).indexOf('threadDelete') != -1) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tinteraction.reply({content: \"This isn't your thread! :angry:\", ephemeral: true});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e ) {\r\n\t\t\t\t\t\t\ttrace('thread cast failed');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\t\tcontent: '*This only works for threads :)*',\r\n\t\t\t\t\t\t\tephemeral: true\r\n\t\t\t\t\t\t}).then(null, function(err) trace(err));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\ttrace('here');\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'deleteproject';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport js.Browser;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\nimport database.DBEvents;\r\nimport database.types.DBEmoji;\r\nimport db.Record;\r\nimport discord_builder.ModalBuilder;\r\nimport discord_builder.APITextInputComponent;\r\nimport discord_builder.APIActionRowComponent;\r\nimport Main.CommandForward;\r\n\r\nclass Emoji extends CommandBase {\r\n\t@:fastFamily var modal:{forward:CommandForward, interaction:BaseCommandInteraction};\r\n\tvar cache:Map<String, DBEmoji> = [];\r\n\tfinal max_name_length = 35;\r\n\tfinal super_mod_id:String = #if block '1114582456381747232' #else '198916468312637440' #end;\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\t\titerate(modal, entity -> {\r\n\t\t\tswitch (forward) {\r\n\t\t\t\tcase emoji_edit:\r\n\t\t\t\t\tvar emoji = this.cache.get(interaction.user.id);\r\n\t\t\t\t\tvar url = interaction.fields.getTextInputValue('url');\r\n\t\t\t\t\temoji.description = interaction.fields.getTextInputValue('description');\r\n\r\n\t\t\t\t\tvar e = DBEvents.GetRecord('emojis', Query.query($url == url), function(resp) {\r\n\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\tcase Record(data):\r\n\t\t\t\t\t\t\t\tif (data != null && data.field('name') != emoji.name) {\r\n\t\t\t\t\t\t\t\t\tinteraction.reply('An emoji already exists with that image **__${data.field('name')}__**')\r\n\t\t\t\t\t\t\t\t\t\t.then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\temoji.name = name.toLowerCase();\r\n\t\t\t\t\t\t\t\tvar e = DBEvents.Update('emojis', emoji.record, Query.query($id == emoji.id && $author_id == emoji.author_id),\r\n\t\t\t\t\t\t\t\t\tfunction(resp) {\r\n\t\t\t\t\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\t\t\t\t\tcase Success(message, _):\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrace('$message');\r\n\t\t\t\t\t\t\t\t\t\t\t\tinteraction.reply('Emoji updated!').then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrace(this.cache.get(interaction.user.id));\r\n\t\t\t\t\t\t\t\t\t\t\t\tinteraction.reply('Something went wrong').then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tthis.cache.remove(interaction.user.id);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\r\n\t\t\tif (forward == emoji_edit) {\r\n\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase EmojiEdit(name):\r\n\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\tvar e = DBEvents.SearchBy('emojis', 'name', name, 'author_id', interaction.user.id, function(resp) {\r\n\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\tcase Records(data):\r\n\t\t\t\t\t\t\t\tvar arr = [];\r\n\t\t\t\t\t\t\t\tfor (r in data) {\r\n\t\t\t\t\t\t\t\t\tvar e = DBEmoji.fromRecord(r);\r\n\t\t\t\t\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\t\t\t\t\tname: e.name,\r\n\t\t\t\t\t\t\t\t\t\tvalue: e.id.string()\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tinteraction.respond(arr);\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t\tinteraction.respond([]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar e = DBEvents.GetRecord('emojis', Query.query($id == name && $author_id == interaction.user.id), function(resp) {\r\n\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\tcase Record(data):\r\n\t\t\t\t\t\t\tif (data == null) {\r\n\t\t\t\t\t\t\t\tinteraction.reply('Could not find emoji or you were not the author of the emoji specified');\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvar emoji = DBEmoji.fromRecord(data);\r\n\t\t\t\t\t\t\tvar modal = new ModalBuilder().setCustomId('emoji_edit').setTitle('Editting emoji #${emoji.id}');\r\n\r\n\t\t\t\t\t\t\tvar url_input = new APITextInputComponent().setCustomId('url')\r\n\t\t\t\t\t\t\t\t.setLabel('url')\r\n\t\t\t\t\t\t\t\t.setStyle(Short)\r\n\t\t\t\t\t\t\t\t.setValue(emoji.url)\r\n\t\t\t\t\t\t\t\t.setMinLength(8);\r\n\r\n\t\t\t\t\t\t\tvar desc_input = new APITextInputComponent().setCustomId('description')\r\n\t\t\t\t\t\t\t\t.setLabel('Description:')\r\n\t\t\t\t\t\t\t\t.setStyle(Paragraph)\r\n\t\t\t\t\t\t\t\t.setValue(emoji.description)\r\n\t\t\t\t\t\t\t\t.setMinLength(5)\r\n\t\t\t\t\t\t\t\t.setMaxLength(50);\r\n\r\n\t\t\t\t\t\t\tvar action_b = new APIActionRowComponent().addComponents(url_input);\r\n\t\t\t\t\t\t\tvar action_c = new APIActionRowComponent().addComponents(desc_input);\r\n\r\n\t\t\t\t\t\t\tmodal.addComponents(action_b, action_c);\r\n\r\n\t\t\t\t\t\t\tthis.cache.set(interaction.user.id, emoji);\r\n\t\t\t\t\t\t\tinteraction.showModal(modal);\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tEcsTools.set(e);\r\n\t\t\tcase EmojiRemove(name):\r\n\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\tsearch(name, function(arr) {\r\n\t\t\t\t\t\tinteraction.respond(arr).then(null, (err) -> trace(err));\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar role_status = hasRole(this.super_mod_id, interaction);\r\n\t\t\t\tvar record = new Record();\r\n\t\t\t\tif (!role_status) {\r\n\t\t\t\t\trecord.field('author_id', interaction.user.id);\r\n\t\t\t\t}\r\n\t\t\t\trecord.field('id', name);\r\n\r\n\t\t\t\tvar e = DBEvents.DeleteRecord('emojis', record, function(resp) {\r\n\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\tcase Success(message, data):\r\n\t\t\t\t\t\t\tinteraction.reply('Emoji ${name} deleted!').then(null, (err) -> trace(err));\r\n\t\t\t\t\t\tcase Error(message, data):\r\n\t\t\t\t\t\t\ttrace(message);\r\n\t\t\t\t\t\t\tinteraction.reply({ephemeral: true, content: \"Cannot delete this emoji\"}).then(null, function(err) {\r\n\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tEcsTools.set(e);\r\n\t\t\tcase EmojiGet(name, size):\r\n\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\tsearch(name, function(arr) {\r\n\t\t\t\t\t\tinteraction.respond(arr).then(null, (err) -> trace(err));\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tvar e = DBEvents.GetRecord('emojis', Query.query($name == name || $id == name), function(resp) {\r\n\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\tcase Record(data):\r\n\t\t\t\t\t\t\tif (data != null) {\r\n\t\t\t\t\t\t\t\tvar emoji = DBEmoji.fromRecord(data);\r\n\t\t\t\t\t\t\t\tvar url = formatLink(emoji.url, size);\r\n\t\t\t\t\t\t\t\tinteraction.reply({content: url}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\ttrace(data);\r\n\t\t\t\t\t\t\tinteraction.reply({content: \"Something went wrong\", ephemeral: true}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tinteraction.reply({content: \"Something went wrong\", ephemeral: true}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tEcsTools.set(e);\r\n\t\t\tcase EmojiCreate(name, url, description):\r\n\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\tsearch(name, function(arr) {\r\n\t\t\t\t\t\tinteraction.respond(arr).then(null, (err) -> trace(err));\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar e = DBEvents.GetRecord('emojis', Query.query($url == url), function(resp) {\r\n\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\tcase Record(data):\r\n\t\t\t\t\t\t\tif (data != null) {\r\n\t\t\t\t\t\t\t\tvar emoji = DBEmoji.fromRecord(data);\r\n\t\t\t\t\t\t\t\tinteraction.reply({ephemeral: true, content: 'Emoji already exists with name __${emoji.name}__'})\r\n\t\t\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar regex = ~/((((https?:)(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)/gm;\r\n\t\t\t\t\t\t\tif (!regex.match(url)) {\r\n\t\t\t\t\t\t\t\tinteraction.reply({ephemeral: true, content: 'URL does not appear to be valid'}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar e = DBEvents.GetRecords('emojis', Query.query($name == name || $id == name), function(resp) {\r\n\t\t\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\t\t\tcase Records(data):\r\n\t\t\t\t\t\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tinteraction.reply({ephemeral: true, content: \"An emoji exists with this name already\"})\r\n\t\t\t\t\t\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvar aname = interaction.user.username;\r\n\t\t\t\t\t\t\t\t\t\tvar aid = interaction.user.id;\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar emoji = new DBEmoji(aid, aname, name, url, description);\r\n\t\t\t\t\t\t\t\t\t\tvar e = DBEvents.Insert('emojis', emoji.record, function(resp) {\r\n\t\t\t\t\t\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcase Success(message, data):\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinteraction.reply({content: 'Emoji $name has been created'}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinteraction.reply({content: \"Something went wrong\", ephemeral: true})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\tinteraction.reply({content: \"Something went wrong\", ephemeral: true}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tinteraction.reply({content: \"Something went wrong\", ephemeral: true}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tEcsTools.set(e);\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction formatLink(url:String, size:String) {\r\n\t\tif (url.contains('cdn.discordapp.com')) {\r\n\t\t\tvar split = url.split('?');\r\n\t\t\tif (split.length > 1) {\r\n\t\t\t\tif (size == null) {\r\n\t\t\t\t\tsize = 'small';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar dimensions = switch(size) {\r\n\t\t\t\t\tcase 'medium': 64;\r\n\t\t\t\t\tcase 'large': 128;\r\n\t\t\t\t\tdefault: 48;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\turl = split[0] += '?quality=lossless&size=$dimensions';\r\n\t\t\t\treturn url;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn url;\r\n\t}\r\n\r\n\tfunction search(name:String, callback:Array<{name:String, value:String}>->Void) {\r\n\t\tvar e = DBEvents.Search('emojis', 'name', name, function(resp) {\r\n\t\t\tswitch (resp) {\r\n\t\t\t\tcase Records(data):\r\n\t\t\t\t\tvar arr = [];\r\n\t\t\t\t\tfor (r in data) {\r\n\t\t\t\t\t\tvar e = DBEmoji.fromRecord(r);\r\n\t\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\t\tname: e.name,\r\n\t\t\t\t\t\t\tvalue: e.id.string()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcallback(arr);\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\tcallback([]);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tEcsTools.set(e);\r\n\t}\r\n\r\n\tfunction isId(input:String) {\r\n\t\tvar check_letters = ~/^[0-9]*$/;\r\n\t\treturn check_letters.match(input);\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'emoji';\r\n\t}\r\n}\r\n","package util;\r\n\r\n#if !macro\r\nimport ecs.System;\r\nimport ecs.Entity;\r\nimport ecs.Universe;\r\n#else\r\nimport haxe.macro.Expr;\r\nimport haxe.macro.Context;\r\nusing haxe.macro.TypeTools;\r\n#end\r\n\r\nclass EcsTools {\r\n\t#if !macro\r\n\tstatic var _universe:Universe;\r\n\tpublic static var universe(get, set):Universe;\r\n\r\n\tstatic function get_universe() {\r\n\t\tif (_universe == null) {\r\n\t\t\treturn Main.universe;\r\n\t\t}\r\n\t\treturn _universe;\r\n\t}\r\n\r\n\tstatic function set_universe(value) {\r\n\t\treturn _universe = value;\r\n\t}\r\n\t#end\r\n\r\n\tpublic static macro function delete(self:ExprOf<System>, entity:ExprOf<Entity>):ExprOf<Entity> {\r\n\t\treturn macro @:pos(self.pos) $self.universe.deleteEntity(entity);\r\n\t}\r\n\r\n\tpublic static macro function set(components:Array<Expr>):ExprOf<Entity> {\r\n\t\tvar block = [macro var entity = EcsTools.universe.createEntity()];\r\n\t\tvar arr = [macro entity];\r\n\t\tfor (comp in components) {\r\n\t\t\tarr.push(macro @:pos(comp.pos) $comp);\r\n\t\t}\r\n\r\n\t\tblock.push(macro @:pos(components[0].pos) EcsTools.universe.setComponents($a{arr}));\r\n\t\tblock.push(macro entity);\r\n\t\treturn macro @:pos(components[0].pos) $b{block};\r\n\t}\r\n\r\n\tpublic static macro function addWithBaseType(components:Array<Expr>):ExprOf<Entity> {\r\n\t\tvar block = [macro var entity = universe.createEntity()];\r\n\t\tvar arr = [macro entity];\r\n\t\tfor (key => comp in components) {\r\n\t\t\tvar type = Context.typeof(comp);\r\n\t\t\tvar is_class = type.getName() == 'TInst';\r\n\t\t\tif (!is_class) {\r\n\t\t\t\tarr.push(macro @:pos(comp.pos) $comp);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tvar type_b = TypeTools.toComplexType(TInst(type.getClass().superClass.t, type.getClass().superClass.params));\r\n\t\t\t\tswitch (comp.expr) {\r\n\t\t\t\t\tcase ENew(t, params):\r\n\t\t\t\t\t\tblock.push(macro @:pos(comp.pos) var __tmp_remap = $comp);\r\n\t\t\t\t\t\tarr.push(macro @:pos(comp.pos) __tmp_remap);\r\n\t\t\t\t\t\tarr.push(macro @:pos(comp.pos) (__tmp_remap : $type_b));\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tarr.push(macro @:pos(comp.pos) $comp);\r\n\t\t\t\t\t\tarr.push(macro @:pos(comp.pos) ($comp : $type_b));\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tContext.error(e.message, comp.pos);\r\n\t\t\t}\r\n\t\t}\r\n\t\tblock.push(macro @:pos(components[0].pos) universe.setComponents($a{arr}));\r\n\t\tblock.push(macro entity);\r\n\t\treturn macro @:pos(components[0].pos) $b{block};\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport discord_js.MessageAttachment;\r\nimport discord_js.MessageEmbed;\r\nimport firebase.web.app.FirebaseApp;\r\nimport discord_js.Message;\r\nimport systems.CommandBase;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport discord_js.ThreadChannel;\r\n\r\nclass Everyone extends CommandBase {\r\n\r\n\toverride function onEnabled() {}\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch(command.content) {\r\n\t\t\tcase Everyone(content):\r\n\t\t\t\tif (interaction.channel.isThread()) {\r\n\t\t\t\t\tvar channel:ThreadChannel = cast interaction.channel;\r\n\t\t\t\t\tif (channel.ownerId != interaction.user.id) {\r\n\t\t\t\t\t\t// only thread owner can mention\r\n\t\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\t\tephemeral: true,\r\n\t\t\t\t\t\t\tcontent: \"You're not the owner of this thread\"\r\n\t\t\t\t\t\t}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\tcontent: '@everyone - $content',\r\n\t\t\t\t\t\tallowedMentions: {\r\n\t\t\t\t\t\t\tparse: [everyone]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(null, (err) -> trace(err));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\tephemeral: true,\r\n\t\t\t\t\t\tcontent: \"This command can only be activated from within a thread and one you must be the person who created it\"\r\n\t\t\t\t\t}).then(null, (err) -> trace(err));\r\n\t\t\t\t}\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'everyone';\r\n\t}\r\n}","package commands;\r\n\r\nimport js.Browser;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport discord_js.MessageEmbed;\r\nimport sys.FileSystem;\r\nimport components.Command;\r\nimport js.node.ChildProcess.spawn;\r\nimport systems.CommandBase;\r\nimport haxe.Http;\r\n\r\nprivate typedef Request = {\r\n\taction:Action,\r\n\t?input:String,\r\n\t?hxml:String,\r\n};\r\n\r\nprivate enum abstract Action(String) {\r\n\tvar Run = \"run\";\r\n\tvar HaxeVersion = \"haxe_version\";\r\n\tvar HaxelibRun = \"haxelib_run\";\r\n}\r\n\r\nprivate enum abstract Status(String) {\r\n\tvar Ok;\r\n\tvar OhNo;\r\n}\r\n\r\nprivate typedef Response = {\r\n\tstatus:Status,\r\n\t?output:Null<String>,\r\n\t?error:Null<String>,\r\n}\r\n\r\ntypedef CommandHistory = {\r\n\tvar timestamp:Float;\r\n\tvar interaction:BaseCommandInteraction;\r\n}\r\n\r\nclass Haxelib extends CommandBase {\r\n\tvar last_interaction:BaseCommandInteraction;\r\n\tfinal super_mod_id:String = #if block '1114582456381747232' #else '198916468312637440' #end;\r\n\tvar message_history:Map<String, MessageEmbed> = [];\r\n\tvar http:Http;\r\n\tvar site = #if block \"\" #else \"localhost\" #end;\r\n\r\n\toverride function onEnabled() {\r\n\t\t#if block\r\n\t\tsite = Main.keys.haxeip;\r\n\t\t#end\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tfor (key => data in message_history) {\r\n\t\t\tvar time = Date.now().getTime();\r\n\t\t\tif (time - data.timestamp > 5000) {\r\n\t\t\t\tmessage_history.remove(key);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar role_status = hasRole(this.super_mod_id, interaction);\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Haxelib(command):\r\n\t\t\t\tvar route = command;\r\n\t\t\t\tvar http = new Http('http://$site:1337');\r\n\t\t\t\thttp.onError = function(error) {\r\n\t\t\t\t\ttrace(error);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (route.contains(\" \")) {\r\n\t\t\t\t\troute = route.split(\" \")[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (route != \"list\" && route != \"info\" && route != \"search\") {\r\n\t\t\t\t\tif (!role_status) {\r\n\t\t\t\t\t\tinteraction.reply('Invalid Permissions.').then(null, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinteraction.deferReply({}).then(function(_) {\r\n\t\t\t\t\thttp.setHeader('Authorization', \"Basic \" + Main.keys.haxelib);\r\n\t\t\t\t\ttrace(Main.keys.haxelib);\r\n\t\t\t\t\thttp.onData = function(response) {\r\n\t\t\t\t\t\tvar parse:Response = Json.parse(response);\r\n\t\t\t\t\t\tswitch (parse.status) {\r\n\t\t\t\t\t\t\tcase Ok:\r\n\t\t\t\t\t\t\t\ttrace('parse');\r\n\t\t\t\t\t\t\t\tvar output = '';\r\n\t\t\t\t\t\t\t\tfor (line in parse.output.split('\\n')) {\r\n\t\t\t\t\t\t\t\t\tif (line.contains('KB') || line.contains('%')) {\r\n\t\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\toutput += line + '\\n';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttrace(output);\r\n\t\t\t\t\t\t\t\tvar embed = new MessageEmbed().setTitle('Haxelib');\r\n\t\t\t\t\t\t\t\tif (output.length > 4000) {\r\n\t\t\t\t\t\t\t\t\toutput = output.substr(0, 4000) + '...';\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (output.length == 0 || output == '') {\r\n\t\t\t\t\t\t\t\t\toutput = \"No libraries installed.\";\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tembed.setDescription(output);\r\n\t\t\t\t\t\t\t\tinteraction.editReply({embeds: [embed]}).then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tvar embed = new MessageEmbed();\r\n\t\t\t\t\t\t\t\tembed.type = 'article';\r\n\t\t\t\t\t\t\t\tvar error = parse.error;\r\n\t\t\t\t\t\t\t\tembed.setDescription('Error \\n + ${error}');\r\n\r\n\t\t\t\t\t\t\t\tinteraction.editReply({embeds: [embed]})\r\n\t\t\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\ttrace(parse);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar request:Request = {\r\n\t\t\t\t\t\taction: HaxelibRun,\r\n\t\t\t\t\t\tinput: command\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttrace(request);\r\n\r\n\t\t\t\t\tvar str = Json.stringify(request);\r\n\t\t\t\t\thttp.setPostData(str);\r\n\t\t\t\t\thttp.request(true);\r\n\t\t\t\t}, (err) -> trace(err));\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction addHistory(command:String, embed:MessageEmbed) {\r\n\t\tif (this.message_history.exists(command)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.message_history.set(command, embed);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'haxelib';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport js.Browser;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\n\r\nclass Help extends CommandBase {\r\n\tvar data:Array<THelpFormat>;\r\n\r\n\toverride function onEnabled() {\r\n\t\tthis.data = loadFile('help');\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tif (data == null || data.length == 0) {\r\n\t\t\ttrace('no help content configured');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (Main.dm_help_tracking.exists(interaction.user.id)) {\r\n\t\t\tfor (content in this.data) {\r\n\t\t\t\tif (content.type != helppls_dm) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tinteraction.reply({content: content.content.toString()}).then(null, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Help(category):\r\n\t\t\t\tvar msg = '';\r\n\t\t\t\tfor (key => item in data) {\r\n\t\t\t\t\tif (category == null) {\r\n\t\t\t\t\t\tif (!item.show_help) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (item.type == HelpType.run) {\r\n\t\t\t\t\t\t\tmsg += '- `!${item.type}`: ${item.content.toString()}';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmsg += '- `/${item.type}`: ${item.content.toString()}';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (key != data.length - 1) {\r\n\t\t\t\t\t\t\tmsg += '\\n';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (item.type == category) {\r\n\t\t\t\t\t\t\tmsg = '/`${item.type}`: ${item.content.toString()}';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (msg.length == 0 || msg == '' || msg == null) {\r\n\t\t\t\t\tmsg = 'Nothing found, sorry :(';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinteraction.reply(msg).then(null, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'help';\r\n\t}\r\n}\r\n\r\ntypedef THelpFormat = {\r\n\tvar show_help:Bool;\r\n\tvar type:HelpType;\r\n\tvar content:Array<String>;\r\n}\r\n\r\nenum abstract HelpType(String) from String {\r\n\tvar run;\r\n\tvar rtfm;\r\n\tvar notify;\r\n\tvar helppls;\r\n\tvar helppls_dm;\r\n\r\n\tstatic function fromString(value:String) {\r\n\t\treturn switch (value.toLowerCase()) {\r\n\t\t\tcase 'run': run;\r\n\t\t\tcase 'rtfm': rtfm;\r\n\t\t\tcase 'notify': notify;\r\n\t\t\tcase 'helppls_dm': helppls_dm;\r\n\t\t\tdefault:\r\n\t\t\t\t'Invalid help option.';\r\n\t\t};\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport js.Browser;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\n\r\nclass Hi extends CommandBase {\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tvar message = 'Hey there';\r\n\t\tif (Math.random() < 0.35) {\r\n\t\t\tmessage = switch (interaction.user.id) {\r\n\t\t\t\tcase '817154767733653524': 'Hello ${interaction.user.tag}, always a pleasure :)';\r\n\t\t\t\tcase '726161533540761662':\r\n\t\t\t\t\tif (Math.random() < 0.4) {\r\n\t\t\t\t\t\t\"Hi cheems, having a good day? :)\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\"Hi cheems, I know you're secretly a muffin.\";\r\n\t\t\t\t\t}\r\n\t\t\t\tcase '781745960829059072': \r\n\t\t\t\t\tif (Math.random() < 0.4) {\r\n\t\t\t\t\t\t\"Hi Ratul, don't make me go sleep :(\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\"Hi... Hmm, weren't you a sasquatch?\";\r\n\t\t\t\t\t}\r\n\t\t\t\tcase '415825875146375168': \"Hey semmi, got any cool music tonight? \\\\o/\";\r\n\t\t\t\tcase '215582414544699393': \"Hello Bulby! ReAD ArCH NeWS! :face_with_hand_over_mouth:\";\r\n\t\t\t\tcase '231872730478280705': \"Hey logo, how jammy are you feeling today? :jam:\";\r\n\t\t\t\tcase '613797359822045194': \"Hey Furret, gained any patience yet?\";\r\n\t\t\t\tdefault: \"Hey you, what's up?\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tinteraction.reply({content: message}).then(null, function(err) {\r\n\t\t\ttrace(err);\r\n\t\t\tBrowser.console.dir(err);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'hi';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport haxe.PosInfos;\r\nimport discord_js.WebhookClient;\r\nimport discord_builder.ButtonBuilder;\r\nimport discord_js.ThreadChannel;\r\nimport components.ShowcaseModalSubmit;\r\nimport discord_builder.APIActionRowComponent;\r\nimport discord_js.TextChannel;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport Main.CommandForward;\r\nimport discord_js.Message;\r\nimport systems.CommandBase;\r\nimport js.Browser;\r\n\r\nclass JamSuggestionBox extends CommandBase {\r\n\tvar channel:TextChannel;\r\n\t#if block\r\n\tfinal channel_id = '1100053767493255182';\r\n\t#else\r\n\tfinal channel_id = '1234817988377706557';\r\n\t#end\r\n\r\n\t@:fastFamily var messages:{command:CommandForward, message:Message};\r\n\r\n\tvar webhook:WebhookClient;\r\n\tpublic function new(_) {\r\n\t\tsuper(_);\r\n\t\tthis.webhook = new WebhookClient({url: Main.keys.suggestionbox_hook});\r\n\t}\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\r\n\t\titerate(messages, entity -> {\r\n\t\t\tswitch(command) {\r\n\t\t\t\tcase suggestion_box:\r\n\t\t\t\t\tvar name = message.author.username;\r\n\t\t\t\t\tif (message.member.nickname != null && message.member.nickname.length > 0) {\r\n\t\t\t\t\t\tname = message.member.nickname;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.webhook.send({\r\n\t\t\t\t\t\tusername: name,\r\n\t\t\t\t\t\tcontent: '#theme ' + message.content,\r\n\t\t\t\t\t\tavatarURL: message.author.avatarURL()\r\n\t\t\t\t\t}).then(null, function(err:{message:String}) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tmessage.delete().then(null, (err) -> trace(err));\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'jamsuggestionbox';\r\n\t}\r\n}\r\n","package commands;\r\nimport Main.CommandForward;\r\nimport js.Browser;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\nimport discord_js.TextChannel;\r\n\r\nclass Notify extends CommandBase {\r\n\tfunction getRole(channel:String) {\r\n\t\treturn switch (channel) {\r\n\t\t\t// #events\r\n\t\t\tcase 'events': #if block '738508312382799874' #else '1054432874473996408' #end;\r\n\t\t\t// #announcements\r\n\t\t\tcase 'announcements': '761714325227700225';\r\n\t\t\t// #flixel\r\n\t\t\tcase 'flixel': '761714697468248125';\r\n\t\t\t// #heaps\r\n\t\t\tcase 'heaps': '761714775902126080';\r\n\t\t\t// #kha\r\n\t\t\tcase 'kha': '761714809179209818';\r\n\t\t\t// #haxe-ui\r\n\t\t\tcase 'haxeui': '761714853403820052';\r\n\t\t\t// #ceramic\r\n\t\t\tcase 'ceramic': '914171888748609546';\r\n\t\t\tcase 'reflaxe': '1200065966445449286';\r\n\t\t\t// #devserver notes test\r\n\t\t\tcase 'dvorak': '903006951896666153';\r\n\t\t\tcase 'jam': '1058843687687295066';\r\n\t\t\tcase 'cortex': '1256579748575051867';\r\n\t\t\tcase 'godot': '1059447670344794142';\r\n\t\t\tdefault: 'err';\r\n\t\t}\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Notify(channel):\r\n\t\t\t\tvar role = this.getRole(channel);\r\n\t\t\t\tif (role == 'err') {\r\n\t\t\t\t\ttrace(channel);\r\n\t\t\t\t\ttrace(interaction.command);\r\n\t\t\t\t\tinteraction.reply('Invalid channel');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinteraction.member.fetch(true).then(function(member) {\r\n\t\t\t\t\tvar found = false;\r\n\t\t\t\t\tfor (key => _ in member.roles.cache) {\r\n\t\t\t\t\t\tif (key == role) {\r\n\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (found) {\r\n\t\t\t\t\t\tinteraction.member.roles.remove(role).then(function(success) {\r\n\t\t\t\t\t\t\tinteraction.reply('Unsubscribed to $channel updates');\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinteraction.member.roles.add(role).then(function(success) {\r\n\t\t\t\t\t\t\tif (channel == 'announcements') {\r\n\t\t\t\t\t\t\t\tuniverse.setComponents(\r\n\t\t\t\t\t\t\t\t\tuniverse.createEntity(),\r\n\t\t\t\t\t\t\t\t\tCommandForward.auto_thread, member\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinteraction.reply('Subscribed to $channel updates');\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'notify';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport commands.types.ContextMenuTypes;\r\nimport discord_js.ThreadChannel;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandDbBase;\r\nimport Main.CommandForward;\r\n\r\nclass PinMessage extends CommandDbBase {\r\n\t@:fastFamily var options:{route:ContextMenuTypes, interaction:BaseCommandInteraction};\r\n\r\n\toverride function update(_) {\r\n\t\titerate(options, entity -> {\r\n\t\t\tswitch (route) {\r\n\t\t\t\tcase PinMessage:\r\n\t\t\t\t\tvar author = interaction.user.id;\r\n\t\t\t\t\tif (interaction.channel.isThread()) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tvar thread = cast(interaction.channel, ThreadChannel);\r\n\t\t\t\t\t\t\tif (thread.ownerId == author) {\r\n\t\t\t\t\t\t\t\tif (interaction.targetMessage.pinned) {\r\n\t\t\t\t\t\t\t\t\tinteraction.targetMessage.unpin().then(function(_) {\r\n\t\t\t\t\t\t\t\t\t\tinteraction.reply({content: 'Unpinned', ephemeral: true});\r\n\t\t\t\t\t\t\t\t\t}, function(err) trace(err));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tinteraction.targetMessage.pin().then(function(_) {\r\n\t\t\t\t\t\t\t\t\t\tinteraction.reply({content: 'Pinned', ephemeral: true});\r\n\t\t\t\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\t\t\t\tvar message = null;\r\n\t\t\t\t\t\t\t\t\t\tswitch(err.code) {\r\n\t\t\t\t\t\t\t\t\t\t\tcase 50021:\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage = \"Can't pin a system message\";\r\n\t\t\t\t\t\t\t\t\t\t\tdefault: \r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage = err.message + '\\n\\n Contact NotBilly about this';\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\tinteraction.reply(message).then(null, function(err) trace(err));\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tinteraction.reply({content: \"This isn't your thread!\", ephemeral: true});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\ttrace('thread cast failed');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\t{content: '*Currently this only works for user threads :)*',\r\n\t\t\t\t\t\t\t\tephemeral: true}\r\n\t\t\t\t\t\t).then(null, function(err) trace(err));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\ttrace('here');\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'pinmessage';\r\n\t}\r\n}\r\n","package commands;\r\nimport commands.types.Duration;\r\nimport discord_js.TextChannel;\r\nimport js.Browser;\r\nimport haxe.Json;\r\nimport firebase.web.firestore.Timestamp;\r\nimport discord_js.Collection;\r\nimport discord_js.User;\r\nimport discord_js.MessageReaction;\r\nimport discord_js.MessageEmbed;\r\nimport Main.CommandForward;\r\nimport discord_js.Message;\r\nimport components.Command;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport systems.CommandDbBase;\r\n\r\nclass Poll extends CommandDbBase {\r\n\t@:fastFamily var dm_messages:{type:CommandForward, message:Message};\r\n\tvar checked = false;\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\r\n\t\tif (!checked && Main.connected) {\r\n\t\t\tchecked = true;\r\n\r\n\t\t\tvar query:FQuery<PollData> = Firestore.query(collection(this.db,\r\n\t\t\t\t'discord/polls/entries'));\r\n\t\t\tFirestore.getDocs(query).then(function(res) {\r\n\t\t\t\tvar now = Date.now().getTime();\r\n\t\t\t\tfor (doc in res.docs) {\r\n\t\t\t\t\tvar data = doc.data();\r\n\t\t\t\t\tif (!data.active) {\r\n\t\t\t\t\t\tvar four_weeks = data.timestamp.toMillis()\r\n\t\t\t\t\t\t\t+ (PollTime.two_weeks : Float) * 2;\r\n\t\t\t\t\t\tif (now - four_weeks < 0) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tFirestore.deleteDoc(doc.ref).then(null, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar start = data.timestamp.toMillis();\r\n\t\t\t\t\tvar finish = start + data.duration;\r\n\t\t\t\t\tvar time_left = 0.;\r\n\r\n\t\t\t\t\tif (finish < now) {\r\n\t\t\t\t\t\ttime_left = 30000;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttime_left = finish - now;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tMain.client.channels.fetch(data.channel).then(function(succ:TextChannel) {\r\n\t\t\t\t\t\tsucc.messages.fetch(data.message_id).then(function(message) {\r\n\t\t\t\t\t\t\ttrace('Resyncing ${data.id}');\r\n\t\t\t\t\t\t\tthis.addCollector(message, data, time_left);\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Poll(question, length, a, b, c, d, e, f, g, v):\r\n\t\t\t\tvar time = PollTime.fromString(length);\r\n\r\n\t\t\t\tif (a == null && b == null) {\r\n\t\t\t\t\tinteraction.reply(\"You must have at least 2 answers\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar body = '';\r\n\t\t\t\tvar collection = [a, b, c, d, e, f, g];\r\n\t\t\t\tvar answers = new Map();\r\n\t\t\t\tvar results = new Map();\r\n\t\t\t\tvar votes = 1;\r\n\t\t\t\tvar vtxt = 'vote';\r\n\t\t\t\tif (v == 0 || v > 1) {\r\n\t\t\t\t\tvtxt += 's';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (v != null) {\r\n\t\t\t\t\tvotes = v;\r\n\t\t\t\t\tif (votes > 7) {\r\n\t\t\t\t\t\tvotes = 7;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (i => ans in collection) {\r\n\t\t\t\t\tif (ans == null) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar char = chars(i);\r\n\r\n\t\t\t\t\tresults.set(char, 0);\r\n\t\t\t\t\tanswers.set(char, ans);\r\n\r\n\t\t\t\t\tbody += '$char - $ans\\n';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar embed = new MessageEmbed();\r\n\r\n\t\t\t\tembed.setDescription(\r\n\t\t\t\t\t'**Question**\\n$question\\n\\n**Options**\\n$body\\n**Settings**\\n**${votes}** $vtxt per user.'\r\n\t\t\t\t);\r\n\t\t\t\tembed.setFooter({text: 'Poll will run for ${length}.'});\r\n\r\n\t\t\t\tvar settings = new Map();\r\n\t\t\t\tsettings.set(PollSetting.votes, votes);\r\n\r\n\t\t\t\tinteraction.reply({embeds: [embed]}).then((_) -> {\r\n\t\t\t\t\tinteraction.fetchReply().then(function(message) {\r\n\t\t\t\t\t\tfor (k => _ in answers) {\r\n\t\t\t\t\t\t\tmessage.react(k);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar data:TPollData = {\r\n\t\t\t\t\t\t\tid: -1,\r\n\t\t\t\t\t\t\tactive: true,\r\n\t\t\t\t\t\t\tresults: Json.stringify(results),\r\n\t\t\t\t\t\t\tanswers: answers.stringify(),\r\n\t\t\t\t\t\t\tquestion: question,\r\n\t\t\t\t\t\t\tduration: time,\r\n\t\t\t\t\t\t\tsettings: settings.stringify(),\r\n\t\t\t\t\t\t\ttimestamp: Timestamp.now(),\r\n\t\t\t\t\t\t\tauthor: interaction.user.id,\r\n\t\t\t\t\t\t\tmessage_id: message.id,\r\n\t\t\t\t\t\t\tchannel: message.channel.asType0.id\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tFirestore.runTransaction(this.db, function(transaction) {\r\n\t\t\t\t\t\t\treturn transaction.get(doc(this.db, 'discord/polls'))\r\n\t\t\t\t\t\t\t\t.then(function(doc) {\r\n\t\t\t\t\t\t\t\t\tif (!doc.exists()) {\r\n\t\t\t\t\t\t\t\t\t\treturn {id: -1};\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvar data:{id:Int} = (doc.data());\r\n\t\t\t\t\t\t\t\t\tdata.id = data.id + 1;\r\n\t\t\t\t\t\t\t\t\ttransaction.update(doc.ref, data);\r\n\t\t\t\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}).then(function(value) {\r\n\t\t\t\t\t\t\tdata.id = value.id;\r\n\t\t\t\t\t\t\tFirestore.addDoc(Firestore.collection(this.db,\r\n\t\t\t\t\t\t\t\t'discord/polls/entries'), data)\r\n\t\t\t\t\t\t\t\t.then(function(_) {\r\n\t\t\t\t\t\t\t\t\tthis.addCollector(message, data);\r\n\t\t\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).then(null, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction addCollector(message:Message, data:PollData, ?time_left:Float) {\r\n\t\tvar filter = this.filter(message, data);\r\n\t\tvar time:Float = data.duration;\r\n\t\t#if block\r\n\t\ttrace('Poll duration changed due to debug block on');\r\n\t\ttime = Duration.fromString('1m');\r\n\t\t#end\r\n\t\tif (time_left != null) {\r\n\t\t\ttime = time_left;\r\n\t\t}\r\n\r\n\t\tvar collector = message.createReactionCollector({filter: filter, time: time});\r\n\r\n\t\tcollector.on('collect', (reaction:MessageReaction, user:User) -> {});\r\n\r\n\t\tcollector.on(\r\n\t\t\t'end',\r\n\t\t\t(collected:Collection<String, MessageReaction>, reason:String) -> {\r\n\t\t\t\tvar embed = new MessageEmbed();\r\n\t\t\t\tvar body = '**Question**\\n${data.question}\\n**Results**\\n';\r\n\r\n\t\t\t\tvar options = data.answers;\r\n\r\n\t\t\t\tvar sort = message.reactions.cache.sort(function(a, b, _, _) {\r\n\t\t\t\t\treturn b.count - a.count;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfor (k => v in sort) {\r\n\t\t\t\t\tvar col = sort.get(k);\r\n\t\t\t\t\tvar ans = options.get(k);\r\n\t\t\t\t\tvar count = 0;\r\n\r\n\t\t\t\t\tif (col != null) {\r\n\t\t\t\t\t\tcount = v.count;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tbody += '$k / $ans /  **${count - 1}** \\n';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbody += '\\n*Poll ran for ${data.duration}*';\r\n\r\n\t\t\t\tbody += '\\n*Posted: <t:${Math.round(message.createdTimestamp / 1000)}:R>*';\r\n\t\t\t\tembed.setDescription(body);\r\n\r\n\t\t\t\tmessage.reply({content: '<@${data.author}>', embeds: [embed]}).then(function(_) {\r\n\t\t\t\t\tvar query = Firestore.query(collection(this.db, 'discord/polls/entries'),\r\n\t\t\t\t\t\twhere('id', EQUAL_TO, data.id));\r\n\t\t\t\t\tFirestore.getDocs(query).then(function(res) {\r\n\t\t\t\t\t\tif (res.docs.length == 0) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tFirestore.updateDoc(res.docs[0].ref, 'active', false);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'poll';\r\n\t}\r\n\r\n\tfunction filter(message:Message, data:PollData) {\r\n\t\tvar reactions = data.answers;\r\n\t\tvar rcount = 0;\r\n\t\tfor (_ in reactions) {\r\n\t\t\trcount++;\r\n\t\t}\r\n\r\n\t\tvar vvotes = data.settings.get(PollSetting.votes);\r\n\t\tvar filter = (reaction:MessageReaction, user:User) -> {\r\n\t\t\tvar votes = 0;\r\n\t\t\tfor (reac in message.reactions.cache) {\r\n\t\t\t\tfor (u in reac.users.cache) {\r\n\t\t\t\t\tif (u.id == user.id && !u.bot) {\r\n\t\t\t\t\t\tvotes++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (votes > vvotes) {\r\n\t\t\t\tif (!user.bot) {\r\n\t\t\t\t\treaction.users.remove(user);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (reaction.emoji.name == \"🇦\" && rcount >= 1) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif (reaction.emoji.name == \"🇧\" && rcount >= 2) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif (reaction.emoji.name == \"🇨\" && rcount >= 3) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif (reaction.emoji.name == \"🇩\" && rcount >= 4) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif (reaction.emoji.name == \"🇪\" && rcount >= 5) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif (reaction.emoji.name == \"🇫\" && rcount >= 6) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif (reaction.emoji.name == \"🇬\" && rcount >= 7) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\ttrace('removed ${reaction.message.author.tag} reaction on message ${reaction.message}');\r\n\t\t\treaction.remove();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn filter;\r\n\t}\r\n\r\n\tfunction chars(char:Int) {\r\n\t\treturn switch (char) {\r\n\t\t\tcase 0: '🇦';\r\n\t\t\tcase 1: '🇧';\r\n\t\t\tcase 2: '🇨';\r\n\t\t\tcase 3: '🇩';\r\n\t\t\tcase 4: '🇪';\r\n\t\t\tcase 5: '🇫';\r\n\t\t\tcase 6: '🇬';\r\n\t\t\tdefault: '';\r\n\t\t}\r\n\t}\r\n}\r\n\r\ntypedef TPoll = {\r\n\tvar question:String;\r\n\tvar type:PollTypes;\r\n\tvar counter:Map<String, Int>;\r\n}\r\n\r\nenum abstract PollTypes(String) {\r\n\tvar bool;\r\n\tvar bool_maybe;\r\n\tvar multiple_choice;\r\n}\r\n\r\ntypedef TPollData = {\r\n\tvar id:Int;\r\n\tvar active:Bool;\r\n\tvar channel:String;\r\n\tvar message_id:String;\r\n\tvar author:String;\r\n\tvar question:String;\r\n\tvar duration:PollTime;\r\n\tvar timestamp:Timestamp;\r\n\tvar settings:String;\r\n\tvar answers:String;\r\n\tvar results:String;\r\n}\r\n\r\n@:forward\r\nabstract PollData(TPollData) from TPollData {\r\n\tpublic var answers(get, never):Map<String, String>;\r\n\r\n\tfunction get_answers() {\r\n\t\treturn Json.parse(this.answers);\r\n\t}\r\n\r\n\tpublic var results(get, never):Map<String, Int>;\r\n\r\n\tfunction get_results() {\r\n\t\treturn Json.parse(this.results);\r\n\t}\r\n\r\n\tpublic var settings(get, never):Map<PollSetting, Int>;\r\n\r\n\tfunction get_settings() {\r\n\t\treturn Json.parse(this.settings);\r\n\t}\r\n}\r\n\r\nenum abstract PollSetting(Int) to Int {\r\n\tvar votes;\r\n}\r\n\r\nenum abstract PollTime(Float) to Float {\r\n\tvar fifteen = 900000;\r\n\tvar thirty = 1800000;\r\n\tvar one_hour = 3600000;\r\n\tvar four_hours = 14400000;\r\n\tvar eight_hours = 28800000;\r\n\tvar twelve_hours = 43200000;\r\n\tvar one_day = 86400000;\r\n\tvar three_days = 259200000;\r\n\tvar five_days = 432000000;\r\n\tvar one_week = 604800000;\r\n\tvar two_weeks = 1210000000;\r\n\r\n\tfunction new(value) {\r\n\t\tthis = value;\r\n\t}\r\n\r\n\t@:from public static function fromString(input:String) {\r\n\t\treturn switch (input) {\r\n\t\t\tcase \"15m\": PollTime.fifteen;\r\n\t\t\tcase \"30m\": PollTime.thirty;\r\n\t\t\tcase \"1hr\": PollTime.one_hour;\r\n\t\t\tcase \"4hr\": PollTime.four_hours;\r\n\t\t\tcase \"8hr\": PollTime.eight_hours;\r\n\t\t\tcase \"12hr\": PollTime.twelve_hours;\r\n\t\t\tcase \"1d\": PollTime.one_day;\r\n\t\t\tcase \"3d\": PollTime.three_days;\r\n\t\t\tcase \"5d\": PollTime.five_days;\r\n\t\t\tcase \"1w\": PollTime.one_week;\r\n\t\t\tcase \"2w\": PollTime.two_weeks;\r\n\t\t\tdefault: PollTime.one_hour;\r\n\t\t}\r\n\t}\r\n\r\n\t@:keep\r\n\t@:to function toString() {\r\n\t\treturn switch (this) {\r\n\t\t\tcase fifteen: \"15mins\";\r\n\t\t\tcase thirty: \"30mins\";\r\n\t\t\tcase one_hour: \"1 hour\";\r\n\t\t\tcase four_hours: \"4 hours\";\r\n\t\t\tcase eight_hours: \"8 hours\";\r\n\t\t\tcase twelve_hours: \"12 hours\";\r\n\t\t\tcase one_day: \"1 day\";\r\n\t\t\tcase three_days: \"3 days\";\r\n\t\t\tcase five_days: \"5 days\";\r\n\t\t\tcase one_week: \"1 week\";\r\n\t\t\tcase two_weeks: \"2 weeks\";\r\n\t\t\tdefault: '1 hour';\r\n\t\t}\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.ds;\r\n\r\n#if (js_es >= 6)\r\n@:coreApi class IntMap<T> implements haxe.Constraints.IMap<Int, T> {\r\n\tprivate var m:js.lib.Map<Int, T>;\r\n\r\n\tpublic inline function new():Void {\r\n\t\tm = new js.lib.Map();\r\n\t}\r\n\r\n\tpublic inline function set(key:Int, value:T):Void {\r\n\t\tm.set(key, value);\r\n\t}\r\n\r\n\tpublic inline function get(key:Int):Null<T> {\r\n\t\treturn m.get(key);\r\n\t}\r\n\r\n\tpublic inline function exists(key:Int):Bool {\r\n\t\treturn m.has(key);\r\n\t}\r\n\r\n\tpublic inline function remove(key:Int):Bool {\r\n\t\treturn m.delete(key);\r\n\t}\r\n\r\n\tpublic inline function keys():Iterator<Int> {\r\n\t\treturn new js.lib.HaxeIterator(m.keys());\r\n\t}\r\n\r\n\tpublic inline function iterator():Iterator<T> {\r\n\t\treturn m.iterator();\r\n\t}\r\n\r\n\tpublic inline function keyValueIterator():KeyValueIterator<Int, T> {\r\n\t\treturn m.keyValueIterator();\r\n\t}\r\n\r\n\tpublic inline function copy():IntMap<T> {\r\n\t\tvar copied = new IntMap();\r\n\t\tcopied.m = new js.lib.Map(m);\r\n\t\treturn copied;\r\n\t}\r\n\r\n\tpublic function toString():String {\r\n\t\tvar s = new StringBuf();\r\n\t\ts.add(\"[\");\r\n\t\tvar it = keyValueIterator();\r\n\t\tfor (i in it) {\r\n\t\t\ts.add(i.key);\r\n\t\t\ts.add(\" => \");\r\n\t\t\ts.add(Std.string(i.value));\r\n\t\t\tif (it.hasNext())\r\n\t\t\t\ts.add(\", \");\r\n\t\t}\r\n\t\ts.add(\"]\");\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\tpublic inline function clear():Void {\r\n\t\tm.clear();\r\n\t}\r\n}\r\n#else\r\n@:coreApi class IntMap<T> implements haxe.Constraints.IMap<Int, T> {\r\n\tprivate var h:Dynamic;\r\n\r\n\tpublic inline function new():Void {\r\n\t\th = {};\r\n\t}\r\n\r\n\tpublic inline function set(key:Int, value:T):Void {\r\n\t\th[key] = value;\r\n\t}\r\n\r\n\tpublic inline function get(key:Int):Null<T> {\r\n\t\treturn h[key];\r\n\t}\r\n\r\n\tpublic inline function exists(key:Int):Bool {\r\n\t\treturn (cast h).hasOwnProperty(key);\r\n\t}\r\n\r\n\tpublic function remove(key:Int):Bool {\r\n\t\tif (!(cast h).hasOwnProperty(key))\r\n\t\t\treturn false;\r\n\t\tjs.Syntax.delete(h, key);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic function keys():Iterator<Int> {\r\n\t\tvar a = [];\r\n\t\tjs.Syntax.code(\"for( var key in {0} ) if({0}.hasOwnProperty(key)) {1}.push(+key)\", h, a);\r\n\t\treturn a.iterator();\r\n\t}\r\n\r\n\tpublic function iterator():Iterator<T> {\r\n\t\treturn untyped {\r\n\t\t\tref: h,\r\n\t\t\tit: keys(),\r\n\t\t\thasNext: function() {\r\n\t\t\t\treturn __this__.it.hasNext();\r\n\t\t\t},\r\n\t\t\tnext: function() {\r\n\t\t\t\tvar i = __this__.it.next();\r\n\t\t\t\treturn __this__.ref[i];\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@:runtime public inline function keyValueIterator():KeyValueIterator<Int, T> {\r\n\t\treturn new haxe.iterators.MapKeyValueIterator(this);\r\n\t}\r\n\r\n\tpublic function copy():IntMap<T> {\r\n\t\tvar copied = new IntMap();\r\n\t\tfor (key in keys())\r\n\t\t\tcopied.set(key, get(key));\r\n\t\treturn copied;\r\n\t}\r\n\r\n\tpublic function toString():String {\r\n\t\tvar s = new StringBuf();\r\n\t\ts.add(\"[\");\r\n\t\tvar it = keys();\r\n\t\tfor (i in it) {\r\n\t\t\ts.add(i);\r\n\t\t\ts.add(\" => \");\r\n\t\t\ts.add(Std.string(get(i)));\r\n\t\t\tif (it.hasNext())\r\n\t\t\t\ts.add(\", \");\r\n\t\t}\r\n\t\ts.add(\"]\");\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\tpublic inline function clear():Void {\r\n\t\th = {};\r\n\t}\r\n}\r\n#end\r\n","package ts;\r\n\r\n/**\r\n\tAnyOf implementation generated by dts2hx\r\n**/\r\n@:transitive extern abstract AnyOf4<T0, T1, T2, T3>(Dynamic) from T0 from T1 from T2 from T3 to T0 to T1 to T2 to T3 {\r\n\tvar asType0(get, never) : T0;\r\n\tprivate inline function get_asType0():T0 return this;\r\n\tvar asType1(get, never) : T1;\r\n\tprivate inline function get_asType1():T1 return this;\r\n\tvar asType2(get, never) : T2;\r\n\tprivate inline function get_asType2():T2 return this;\r\n\tvar asType3(get, never) : T3;\r\n\tprivate inline function get_asType3():T3 return this;\r\n}","package commands;\r\n\r\nimport database.DBEvents;\r\nimport database.types.DBQuote;\r\nimport discord_js.User;\r\nimport js.Browser;\r\nimport discord_builder.APIActionRowComponent;\r\nimport discord_builder.APITextInputComponent;\r\nimport discord_builder.ModalBuilder;\r\nimport discord_js.MessageEmbed;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport Main.CommandForward;\r\nimport systems.CommandDbBase;\r\nimport commands.types.ActionList;\r\nimport Query;\r\nimport db.Record;\r\n\r\nclass Quote extends CommandDbBase {\r\n\t@:fastFamily var modal:{forward:CommandForward, interaction:BaseCommandInteraction};\r\n\tvar cache:Map<String, DBQuote> = [];\r\n\tfinal max_name_length = 35;\r\n\r\n\toverride function onEnabled() {\r\n\t\tthis.has_subcommands = true;\r\n\t}\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\t\titerate(modal, entity -> {\r\n\t\t\tswitch (forward) {\r\n\t\t\t\tcase quote_set:\r\n\t\t\t\t\tvar id = interaction.user.id;\r\n\t\t\t\t\tvar name = interaction.user.username;\r\n\t\t\t\t\tvar title = interaction.fields.getTextInputValue('name');\r\n\t\t\t\t\tvar description = interaction.fields.getTextInputValue('description');\r\n\r\n\t\t\t\t\tvar quote = new DBQuote(id, name, title, description);\r\n\r\n\t\t\t\t\tif (!this.isValidName(name)) {\r\n\t\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\t\tcontent: '*Names can only contain `_-.?:` and/or spaces.*\\nname: $name\\n$description',\r\n\t\t\t\t\t\t\tephemeral: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar e = DBEvents.Insert('quotes', quote.record, function(resp) {\r\n\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\tcase Success(message, data):\r\n\t\t\t\t\t\t\t\ttrace(message);\r\n\t\t\t\t\t\t\t\tquote = DBQuote.fromRecord(data);\r\n\t\t\t\t\t\t\t\tvar embed = new MessageEmbed();\r\n\t\t\t\t\t\t\t\tembed.setTitle('Quote #${quote.id} added!');\r\n\t\t\t\t\t\t\t\tembed.setDescription('**${quote.title}**\\n$description');\r\n\t\t\t\t\t\t\t\tinteraction.reply({embeds: [embed]});\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tinteraction.reply('Something went wrong, try again later')\r\n\t\t\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t\ttrace(quote);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\tcase quote_edit:\r\n\t\t\t\t\tvar quote = this.cache.get(interaction.user.id);\r\n\t\t\t\t\tvar title = interaction.fields.getTextInputValue('title');\r\n\t\t\t\t\tquote.description = interaction.fields.getTextInputValue('description');\r\n\t\t\t\t\tvar e = DBEvents.DBEvents.GetRecord('quotes', Query.query($title == title && $author_id == interaction.user.id), function(resp) {\r\n\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\tcase Record(data):\r\n\t\t\t\t\t\t\t\ttrace(title);\r\n\t\t\t\t\t\t\t\ttrace(quote.title);\r\n\t\t\t\t\t\t\t\tif (data != null && title != quote.title) {\r\n\t\t\t\t\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\t\t\t\t'You already have a quote with the title **__${title}__**'\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t.then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tquote.title = title.toLowerCase();\r\n\t\t\t\t\t\t\t\tvar e = DBEvents.Update(\r\n\t\t\t\t\t\t\t\t\t'quotes',\r\n\t\t\t\t\t\t\t\t\tquote.record,\r\n\t\t\t\t\t\t\t\t\tQuery.query($id == quote.id && $author_id == quote.author_id),\r\n\t\t\t\t\t\t\t\t\tfunction(resp) {\r\n\t\t\t\t\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\t\t\t\t\tcase Success(message, _):\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrace('$message');\r\n\t\t\t\t\t\t\t\t\t\t\t\tinteraction.reply('Quote updated!');\r\n\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrace(this.cache.get(interaction.user.id));\r\n\t\t\t\t\t\t\t\t\t\t\t\tinteraction.reply('Something went wrong');\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tthis.cache.remove(interaction.user.id);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\r\n\t\t\tif (forward == quote_set || forward == quote_edit) {\r\n\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction parseGroupQuotes(interaction:BaseCommandInteraction, value:Callback) {\r\n\t\tswitch (value) {\r\n\t\t\tcase Records(data):\r\n\t\t\t\tif (data.length == 0) {\r\n\t\t\t\t\tinteraction.reply(\"No quotes by that user!\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar embed = new MessageEmbed();\r\n\t\t\t\tembed.setTitle('List of Quotes');\r\n\t\t\t\tvar body = '';\r\n\t\t\t\tfor (item in data) {\r\n\t\t\t\t\tvar quote = DBQuote.fromRecord(item);\r\n\t\t\t\t\tbody += '**#${quote.id}** ${quote.title} by <@${quote.author_id}> \\n';\r\n\t\t\t\t}\r\n\t\t\t\tembed.setDescription(body);\r\n\t\t\t\tembed.setColor(0xEA8220);\r\n\t\t\t\tinteraction.reply({embeds: [embed]}).then(null, (err) -> trace(err));\r\n\t\t\tdefault:\r\n\t\t\t\ttrace(value);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase QuoteList(user):\r\n\t\t\t\tvar sort = Firestore.orderBy('id', ASCENDING);\r\n\t\t\t\tvar e = DBEvents.GetAllRecords('quotes', parseGroupQuotes.bind(interaction));\r\n\t\t\t\tif (user != null) {\r\n\t\t\t\t\te = DBEvents.GetRecords('quotes', Query.query($author_id == user.id),\r\n\t\t\t\t\t\tparseGroupQuotes.bind(interaction));\r\n\t\t\t\t}\r\n\t\t\t\tEcsTools.set(e);\r\n\t\t\tcase QuoteGet(name) | QuoteCreate(name) | QuoteEdit(name) | QuoteDelete(name):\r\n\t\t\t\tvar type = get;\r\n\t\t\t\tvar enum_name = command.content.getName().toLowerCase();\r\n\t\t\t\tif (enum_name.contains('get')) {\r\n\t\t\t\t\ttype = get;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (enum_name.contains('create')) {\r\n\t\t\t\t\ttype = set;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (enum_name.contains('delete')) {\r\n\t\t\t\t\ttype = delete;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (enum_name.contains('edit')) {\r\n\t\t\t\t\ttype = edit;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar column = 'id';\r\n\t\t\t\tif (name == null) {\r\n\t\t\t\t\tname = \"\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.isName(name) && type != get) {\r\n\t\t\t\t\tif (name.length < 2) {\r\n\t\t\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\t\t\tinteraction.respond([]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.isValidName(name)) {\r\n\t\t\t\t\t\tcolumn = 'name';\r\n\t\t\t\t\t\tname = name.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar col = collection(db, 'discord/quotes/entries');\r\n\r\n\t\t\t\tvar query:FQuery<TQuoteData> = Firestore.query(\r\n\t\t\t\t\tcol,\r\n\t\t\t\t\twhere(column, EQUAL_TO, isName(name) ? name : name.parseInt()),\r\n\t\t\t\t\twhere('author', EQUAL_TO, interaction.user.id)\r\n\t\t\t\t);\r\n\r\n\t\t\t\tvar column = 'title';\r\n\t\t\t\tif (isId(name)) {\r\n\t\t\t\t\tcolumn = 'id';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (interaction.isAutocomplete() && type != get) {\r\n\t\t\t\t\tvar e = DBEvents.SearchBy('quotes', column, name, 'author_id',\r\n\t\t\t\t\t\tinteraction.user.id, function(resp) {\r\n\t\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\t\tcase Records(data):\r\n\t\t\t\t\t\t\t\t\tvar res = [];\r\n\t\t\t\t\t\t\t\t\tfor (r in data) {\r\n\t\t\t\t\t\t\t\t\t\tvar quote = DBQuote.fromRecord(r);\r\n\t\t\t\t\t\t\t\t\t\tres.push({\r\n\t\t\t\t\t\t\t\t\t\t\tname: this.dbacResponse(quote),\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: '${quote.id}'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttrace(name);\r\n\t\t\t\t\t\t\t\t\tif (!interaction.responded) {\r\n\t\t\t\t\t\t\t\t\t\tinteraction.respond(res).then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase set:\r\n\t\t\t\t\t\tvar is_id = this.isId(name);\r\n\t\t\t\t\t\tif (!is_id && !this.isValidName(name)) {\r\n\t\t\t\t\t\t\tvar error_msg = 'name can only be 3-$max_name_length characters long';\r\n\t\t\t\t\t\t\tif (name.length < this.max_name_length) {\r\n\t\t\t\t\t\t\t\terror_msg = '*Names can only contain `_.-?` and/or spaces.*';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinteraction.reply({content: error_msg, ephemeral: true});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar column = (is_id) ? 'id' : 'title';\r\n\r\n\t\t\t\t\t\tvar e = DBEvents.Search('quotes', column, name, function(resp) {\r\n\t\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\t\tcase Records(data):\r\n\t\t\t\t\t\t\t\t\tif (data.length >= 1) {\r\n\t\t\t\t\t\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\t\t\t\t\t'You already have a quote with the title __${data[0].field('title')}__'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t.then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvar modal = new ModalBuilder().setCustomId('quote_set')\r\n\t\t\t\t\t\t\t\t\t\t.setTitle('Creating a quote');\r\n\r\n\t\t\t\t\t\t\t\t\tvar title_input = new APITextInputComponent()\r\n\t\t\t\t\t\t\t\t\t\t.setCustomId('name')\r\n\t\t\t\t\t\t\t\t\t\t.setLabel('title')\r\n\t\t\t\t\t\t\t\t\t\t.setStyle(Short)\r\n\t\t\t\t\t\t\t\t\t\t.setValue(name.toLowerCase())\r\n\t\t\t\t\t\t\t\t\t\t.setMinLength(3)\r\n\t\t\t\t\t\t\t\t\t\t.setMaxLength(this.max_name_length);\r\n\r\n\t\t\t\t\t\t\t\t\tvar desc_input = new APITextInputComponent()\r\n\t\t\t\t\t\t\t\t\t\t.setCustomId('description')\r\n\t\t\t\t\t\t\t\t\t\t.setLabel('description')\r\n\t\t\t\t\t\t\t\t\t\t.setStyle(Paragraph)\r\n\t\t\t\t\t\t\t\t\t\t.setMinLength(10)\r\n\t\t\t\t\t\t\t\t\t\t.setMaxLength(2000);\r\n\r\n\t\t\t\t\t\t\t\t\tvar action_a = new APIActionRowComponent()\r\n\t\t\t\t\t\t\t\t\t\t.addComponents(title_input);\r\n\t\t\t\t\t\t\t\t\tvar action_b = new APIActionRowComponent()\r\n\t\t\t\t\t\t\t\t\t\t.addComponents(desc_input);\r\n\t\t\t\t\t\t\t\t\tmodal.addComponents(action_a, action_b);\r\n\r\n\t\t\t\t\t\t\t\t\tinteraction.showModal(modal);\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t\tcase edit:\r\n\t\t\t\t\t\tvar e = DBEvents.GetRecord(\r\n\t\t\t\t\t\t\t'quotes',\r\n\t\t\t\t\t\t\tQuery.query($id == name && $author_id == interaction.user.id),\r\n\t\t\t\t\t\t\tfunction(resp) {\r\n\t\t\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\t\t\tcase Record(data):\r\n\t\t\t\t\t\t\t\t\t\tif (data == null) {\r\n\t\t\t\t\t\t\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'Could not find quote or you were not the author of the quote specified'\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar quote = DBQuote.fromRecord(data);\r\n\t\t\t\t\t\t\t\t\t\tvar modal = new ModalBuilder().setCustomId('quote_edit')\r\n\t\t\t\t\t\t\t\t\t\t\t.setTitle('Editting quote #${quote.id}');\r\n\t\t\t\t\t\t\t\t\t\tvar title_input = new APITextInputComponent()\r\n\t\t\t\t\t\t\t\t\t\t\t.setCustomId('title')\r\n\t\t\t\t\t\t\t\t\t\t\t.setLabel('title')\r\n\t\t\t\t\t\t\t\t\t\t\t.setStyle(Short)\r\n\t\t\t\t\t\t\t\t\t\t\t.setValue(quote.title.toLowerCase())\r\n\t\t\t\t\t\t\t\t\t\t\t.setMinLength(3)\r\n\t\t\t\t\t\t\t\t\t\t\t.setMaxLength(this.max_name_length);\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar desc_input = new APITextInputComponent()\r\n\t\t\t\t\t\t\t\t\t\t\t.setCustomId('description')\r\n\t\t\t\t\t\t\t\t\t\t\t.setLabel('${quote.title}:')\r\n\t\t\t\t\t\t\t\t\t\t\t.setStyle(Paragraph)\r\n\t\t\t\t\t\t\t\t\t\t\t.setValue(quote.description)\r\n\t\t\t\t\t\t\t\t\t\t\t.setMinLength(10)\r\n\t\t\t\t\t\t\t\t\t\t\t.setMaxLength(2000);\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar action_a = new APIActionRowComponent()\r\n\t\t\t\t\t\t\t\t\t\t\t.addComponents(title_input);\r\n\t\t\t\t\t\t\t\t\t\tvar action_b = new APIActionRowComponent()\r\n\t\t\t\t\t\t\t\t\t\t\t.addComponents(desc_input);\r\n\r\n\t\t\t\t\t\t\t\t\t\tmodal.addComponents(action_a, action_b);\r\n\r\n\t\t\t\t\t\t\t\t\t\tthis.cache.set(interaction.user.id, quote);\r\n\t\t\t\t\t\t\t\t\t\tinteraction.showModal(modal);\r\n\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t\tcase delete:\r\n\t\t\t\t\t\tvar record = new Record();\r\n\t\t\t\t\t\trecord.field('author_id', interaction.user.id);\r\n\t\t\t\t\t\trecord.field('id', name);\r\n\r\n\t\t\t\t\t\tvar e = DBEvents.DeleteRecord('quotes', record, function(resp) {\r\n\t\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\t\tcase Success(message, data):\r\n\t\t\t\t\t\t\t\t\tinteraction.reply(\"Quote deleted!\")\r\n\t\t\t\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\tcase Error(message, data):\r\n\t\t\t\t\t\t\t\t\ttrace(message);\r\n\t\t\t\t\t\t\t\t\ttrace(data);\r\n\t\t\t\t\t\t\t\t\tinteraction.reply(\"Cannot delete this quote\")\r\n\t\t\t\t\t\t\t\t\t\t.then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t\tcase get | _:\r\n\t\t\t\t\t\tif (name != null) {\r\n\t\t\t\t\t\t\tvar qid = Std.parseInt(name);\r\n\t\t\t\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\t\t\t\tvar results = [];\r\n\t\t\t\t\t\t\t\tvar e:DBEvents = null;\r\n\r\n\t\t\t\t\t\t\t\tif (name != null && name.length > 0) {\r\n\t\t\t\t\t\t\t\t\tif (qid != null && qid > 0) {\r\n\t\t\t\t\t\t\t\t\t\te = DBEvents.GetRecord('quotes', Query.query($id == qid),\r\n\t\t\t\t\t\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\t\t\t\t\ttrace(name);\r\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (response) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase Record(data):\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (data == null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinteraction.respond([]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar quote = DBQuote.fromRecord(data);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tresults.push({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: this.dbacResponse(quote),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: '${quote.id}'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinteraction.respond(results)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrace(response);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\te = DBEvents.Search('quotes', 'title', name,\r\n\t\t\t\t\t\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (response) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcase Records(data):\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (item in data) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar quote = DBQuote.fromRecord(item);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresults.push({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: this.dbacResponse(quote),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: '${quote.id}'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// trace(results);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinteraction.respond(results)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrace(response);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tuniverse.setComponents(universe.createEntity(), e);\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tinteraction.respond([]).then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvar e = DBEvents.GetRecord('quotes', Query.query($id == name),\r\n\t\t\t\t\t\t\t\tfunction(resp) {\r\n\t\t\t\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\t\t\t\tcase Record(data):\r\n\t\t\t\t\t\t\t\t\t\t\tif (data == null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tinteraction.reply('Could not find any quotes with that identifier')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvar q = DBQuote.fromRecord(data);\r\n\t\t\t\t\t\t\t\t\t\t\tvar embed = new MessageEmbed();\r\n\t\t\t\t\t\t\t\t\t\t\tvar user = interaction.client.users.cache.get(q.author_id);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar from = Date.fromTime(q.timestamp);\r\n\t\t\t\t\t\t\t\t\t\t\tvar date = DateTools.format(from, '%H:%M %d-%m-%Y');\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar icon = 'https://cdn.discordapp.com/emojis/567741748172816404.webp?size=96&quality=lossless';\r\n\t\t\t\t\t\t\t\t\t\t\tvar content = q.author_tag;\r\n\t\t\t\t\t\t\t\t\t\t\tif (user != null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon = user.avatarURL();\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent = q.author_tag;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tembed.setDescription('***${q.title}***\\n${q.description}');\r\n\t\t\t\t\t\t\t\t\t\t\tembed.setFooter({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext: '$content | $date |\\t#${q.id}',\r\n\t\t\t\t\t\t\t\t\t\t\t\ticonURL: icon\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tinteraction.reply({embeds: [embed]})\r\n\t\t\t\t\t\t\t\t\t\t\t\t.then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\t// interaction.reply();\r\n\t\t}\r\n\t}\r\n\r\n\tinline function dbacResponse(data:DBQuote) {\r\n\t\tvar name = data.title;\r\n\t\tif (name.length > 25) {\r\n\t\t\tname = name.substr(0, 25) + '...';\r\n\t\t}\r\n\t\treturn '$name - ' + data.description.substr(0, 25) + '... by ${data.author_tag}';\r\n\t}\r\n\r\n\tfunction nameArray(original:String) {\r\n\t\tvar arr = original.toLowerCase().split(\" \");\r\n\t\tfor (k => v in arr) {\r\n\t\t\tarr[k] = v.trim();\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tfunction nameString(arr:Array<String>) {\r\n\t\tvar text = arr[1];\r\n\t\tfor (i in 2...arr.length) {\r\n\t\t\ttext += ' ' + arr[i];\r\n\t\t}\r\n\t\treturn text.trim();\r\n\t}\r\n\r\n\tfunction isName(input:String) {\r\n\t\tvar check_letters = ~/([a-z])/i;\r\n\t\treturn check_letters.match(input);\r\n\t}\r\n\r\n\tfunction isId(input:String) {\r\n\t\tvar check_letters = ~/^[0-9]*$/;\r\n\t\treturn check_letters.match(input);\r\n\t}\r\n\r\n\tfunction isValidName(input:String) {\r\n\t\tvar check_letters = ~/^[A-Za-z0-9 :.?_-]{3,35}$/i;\r\n\t\treturn check_letters.match(input);\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'quote';\r\n\t}\r\n}\r\n\r\ntypedef TQuoteData = {\r\n\t@:optional var id:Int;\r\n\t@:optional var tags:Array<String>;\r\n\t@:optional var name:String;\r\n\t@:optional var description:String;\r\n\t@:optional var author:String;\r\n\t@:optional var username:String;\r\n\t@:optional var timestamp:Date;\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe;\r\n\r\n/**\r\n\tThis class provides advanced methods on enums. It is ideally used with\r\n\t`using EnumTools` and then acts as an\r\n\t  [extension](https://haxe.org/manual/lf-static-extension.html) to the\r\n\t  `enum` types.\r\n\r\n\tIf the first argument to any of the methods is `null`, the result is\r\n\tunspecified.\r\n**/\r\nextern class EnumTools {\r\n\t/**\r\n\t\tReturns the name of enum `e`, including its path.\r\n\r\n\t\tIf `e` is inside a package, the package structure is returned dot-\r\n\t\tseparated, with another dot separating the enum name:\r\n\r\n\t\t\tpack1.pack2.(...).packN.EnumName\r\n\r\n\t\tIf `e` is a sub-type of a Haxe module, that module is not part of the\r\n\t\tpackage structure.\r\n\r\n\t\tIf `e` has no package, the enum name is returned.\r\n\r\n\t\tIf `e` is `null`, the result is unspecified.\r\n\r\n\t\tThe enum name does not include any type parameters.\r\n\t**/\r\n\tstatic inline function getName<T>(e:Enum<T>):String {\r\n\t\treturn Type.getEnumName(e);\r\n\t}\r\n\r\n\t/**\r\n\t\tCreates an instance of enum `e` by calling its constructor `constr` with\r\n\t\targuments `params`.\r\n\r\n\t\tIf `e` or `constr` is `null`, or if enum `e` has no constructor named\r\n\t\t`constr`, or if the number of elements in `params` does not match the\r\n\t\texpected number of constructor arguments, or if any argument has an\r\n\t\tinvalid type, the result is unspecified.\r\n\t**/\r\n\tstatic inline function createByName<T>(e:Enum<T>, constr:String, ?params:Array<Dynamic>):T {\r\n\t\treturn Type.createEnum(e, constr, params);\r\n\t}\r\n\r\n\t/**\r\n\t\tCreates an instance of enum `e` by calling its constructor number\r\n\t\t`index` with arguments `params`.\r\n\r\n\t\tThe constructor indices are preserved from Haxe syntax, so the first\r\n\t\tdeclared is index 0, the next index 1 etc.\r\n\r\n\t\tIf `e` or `index` is `null`, or if enum `e` has no constructor\r\n\t\tcorresponding to index `index`, or if the number of elements in `params`\r\n\t\tdoes not match the expected number of constructor arguments, or if any\r\n\t\targument has an invalid type, the result is unspecified.\r\n\t**/\r\n\tstatic inline function createByIndex<T>(e:Enum<T>, index:Int, ?params:Array<Dynamic>):T {\r\n\t\treturn Type.createEnumIndex(e, index, params);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a list of all constructors of enum `e` that require no\r\n\t\targuments.\r\n\r\n\t\tThis may return the empty Array `[]` if all constructors of `e` require\r\n\t\targuments.\r\n\r\n\t\tOtherwise an instance of `e` constructed through each of its non-\r\n\t\targument constructors is returned, in the order of the constructor\r\n\t\tdeclaration.\r\n\r\n\t\tIf `e` is `null`, the result is unspecified.\r\n\t**/\r\n\tstatic inline function createAll<T>(e:Enum<T>):Array<T> {\r\n\t\treturn Type.allEnums(e);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a list of the names of all constructors of enum `e`.\r\n\r\n\t\tThe order of the constructor names in the returned Array is preserved\r\n\t\tfrom the original syntax.\r\n\r\n\t\tIf `c` is `null`, the result is unspecified.\r\n\t**/\r\n\tstatic inline function getConstructors<T>(e:Enum<T>):Array<String> {\r\n\t\treturn Type.getEnumConstructs(e);\r\n\t}\r\n\r\n\t#if (java && jvm)\r\n\t@:noCompletion\r\n\textern static function values<T>(en:Enum<T>):java.NativeArray<java.lang.Enum<T>>;\r\n\t#end\r\n}\r\n\r\n/**\r\n\tThis class provides advanced methods on enum values. It is ideally used with\r\n\t`using EnumValueTools` and then acts as an\r\n\t  [extension](https://haxe.org/manual/lf-static-extension.html) to the\r\n\t  `EnumValue` types.\r\n\r\n\tIf the first argument to any of the methods is `null`, the result is\r\n\tunspecified.\r\n**/\r\nextern class EnumValueTools {\r\n\t/**\r\n\t\tRecursively compares two enum instances `a` and `b` by value.\r\n\r\n\t\tUnlike `a == b`, this function performs a deep equality check on the\r\n\t\targuments of the constructors (if there are any).\r\n\r\n\t\tIf `a` or `b` are `null`, the result is unspecified.\r\n\t**/\r\n\tstatic inline function equals<T:EnumValue>(a:T, b:T):Bool {\r\n\t\treturn Type.enumEq(a, b);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the constructor name of enum instance `e`.\r\n\r\n\t\tThe result String does not contain any constructor arguments.\r\n\r\n\t\tIf `e` is `null`, the result is unspecified.\r\n\t**/\r\n\tstatic inline function getName(e:EnumValue):String {\r\n\t\treturn Type.enumConstructor(e);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a list of the constructor arguments of enum instance `e`.\r\n\r\n\t\tIf `e` has no arguments, the result is `[]`.\r\n\r\n\t\tOtherwise the result are the values that were used as arguments to `e`,\r\n\t\tin the order of their declaration.\r\n\r\n\t\tIf `e` is `null`, the result is unspecified.\r\n\t**/\r\n\tstatic inline function getParameters(e:EnumValue):Array<Dynamic> {\r\n\t\treturn Type.enumParameters(e);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the index of enum instance `e`.\r\n\r\n\t\tThis corresponds to the original syntactic position of `e`. The index of\r\n\t\tthe first declared constructor is 0, the next one is 1 etc.\r\n\r\n\t\tIf `e` is `null`, the result is unspecified.\r\n\t**/\r\n\tstatic inline function getIndex(e:EnumValue):Int {\r\n\t\treturn Type.enumIndex(e);\r\n\t}\r\n}\r\n","package db;\r\n\r\n@:forward\r\n@:forward.new\r\n@:forwardStatics\r\nabstract RecordSet(RecordSetImpl) {\r\n    @:arrayAccess\r\n    private inline function get(index:Int) {\r\n        return @:privateAccess this.records[index];\r\n    }\r\n\r\n    @:arrayAccess\r\n    private inline function set(index:Int, value:Record):Record {\r\n        @:privateAccess this.records[index] = value;\r\n        return value;\r\n    }\r\n\r\n    @:from\r\n    private static inline function fromArray(records:Array<Record>) {\r\n        return new RecordSet(records);\r\n    }\r\n\r\n    @:to \r\n    private inline function toArray():Array<Record> {\r\n        return @:privateAccess this.records;\r\n    }\r\n}\r\n\r\nprivate class RecordSetImpl {\r\n    private var records:Array<Record> = null;\r\n\r\n    public function new(records:Array<Record> = null) {\r\n        this.records = records;\r\n    }\r\n\r\n    @:noCompletion\r\n    public function iterator():RecordSetIterator {\r\n        return new RecordSetIterator(records);\r\n    }\r\n\r\n    public var length(get, null):Int;\r\n    private function get_length():Int {\r\n        if (records == null) {\r\n            return 0;\r\n        }\r\n        return records.length;\r\n    }\r\n\r\n    public function push(record:Record) {\r\n        if (records == null) {\r\n            records = [];\r\n        }\r\n        records.push(record);\r\n    }\r\n\r\n    public function filter(f:Record->Bool):RecordSet {\r\n        if (records == null) {\r\n            return [];\r\n        }\r\n        return records.filter(f);\r\n    }\r\n\r\n    public function findRecord(fieldName:String, fieldValue:Any):Record {\r\n        if (records == null) {\r\n            return null;\r\n        }\r\n\r\n        for (r in records) {\r\n            if (r.field(fieldName) == fieldValue) {\r\n                return r;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public function extractFieldValues<T>(fieldName:String):Array<T> {\r\n        if (records == null) {\r\n            return [];\r\n        }\r\n\r\n        var values:Array<T> = [];\r\n        for (r in records) {\r\n            var v = r.field(fieldName);\r\n            if (v != null) {\r\n                values.push(v);\r\n            }\r\n        }\r\n\r\n        return values;\r\n    }\r\n\r\n    public function renameField(fieldName:String, newFieldName:String) {\r\n        if (records == null) {\r\n            return;\r\n        }\r\n\r\n        for (r in records) {\r\n            r.renameField(fieldName, newFieldName);\r\n        }\r\n    }\r\n\r\n    public function copyField(fieldName:String, newFieldName:String) {\r\n        if (records == null) {\r\n            return;\r\n        }\r\n\r\n        for (r in records) {\r\n            r.copyField(fieldName, newFieldName);\r\n        }\r\n    }\r\n\r\n    public function copy():RecordSet {\r\n        return new RecordSet(this.records.copy());\r\n    }\r\n\r\n    public function normalizeFieldNames() { // ensures that all fields have max of 2 \".\" - can be useful when working with joins\r\n        for (r in records) @:privateAccess {\r\n            for (fieldName in r.data.keys()) {\r\n                if (fieldName.indexOf(\".\") != -1) {\r\n                    var fieldNameParts = fieldName.split(\".\");\r\n                    var newFieldName = null;\r\n                    if (fieldNameParts.length > 2) {\r\n                        while (fieldNameParts.length > 2) {\r\n                            fieldNameParts.shift();\r\n                        }\r\n                        newFieldName = fieldNameParts.join(\".\");\r\n                    }\r\n\r\n                    if (newFieldName != null) {\r\n                        r.field(newFieldName, r.field(fieldName));\r\n                        r.removeField(fieldName);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nprivate class RecordSetIterator {\r\n    private var records:Array<Record> = null;\r\n    private var pos:Int = 0;\r\n\r\n    public function new(records:Array<Record> = null) {\r\n        this.records = records;\r\n        this.pos = 0;\r\n    }\r\n\r\n    public function hasNext():Bool {\r\n        if (records == null) {\r\n            return false;\r\n        }\r\n        return pos < records.length;\r\n    }\r\n\r\n    public function next():Record {\r\n        var r = records[pos];\r\n        pos++;\r\n        return r;\r\n    }\r\n}","package commands;\r\n\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\n\r\nclass React extends CommandBase {\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase React(message_id, emoji):\r\n\t\t\t\tinteraction.channel.messages.fetch(message_id).then(function(react_message) {\r\n\t\t\t\t\treact_message.asType0.react(emoji).then(function(_) {\r\n\t\t\t\t\t\tinteraction.reply({content: '*reacted*', ephemeral: true})\r\n\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t}, (err) -> {\r\n\t\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\t\tephemeral: true,\r\n\t\t\t\t\t\t\tcontent: '*failed to react, not sure why. invalid emoji perhaps? ask notbilly if no obvious reason*'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t}, (err) -> {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\tephemeral: true,\r\n\t\t\t\t\t\tcontent: '*failed to react, not sure why. invalid emoji perhaps? ask notbilly if no obvious reason*'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'react';\r\n\t}\r\n}\r\n","package ts;\r\n\r\n/**\r\n\tAnyOf implementation generated by dts2hx\r\n**/\r\n@:transitive extern abstract AnyOf2<T0, T1>(Dynamic) from T0 from T1 to T0 to T1 {\r\n\tvar asType0(get, never) : T0;\r\n\tprivate inline function get_asType0():T0 return this;\r\n\tvar asType1(get, never) : T1;\r\n\tprivate inline function get_asType1():T1 return this;\r\n}","package commands;\r\n\r\nimport commands.types.Duration;\r\nimport discord_js.MessageEmbed;\r\nimport discord_js.TextChannel;\r\nimport firebase.web.firestore.DocumentReference;\r\nimport components.Command;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport systems.CommandDbBase;\r\nimport js.Browser;\r\nclass Reminder extends CommandDbBase {\r\n\tvar channels:Map<String, TextChannel> = [];\r\n\tvar checking = false;\r\n\tvar reminders:Array<TReminder> = [];\r\n\tvar sent:Array<TReminder> = [];\r\n\tfinal bot_channel = #if block '597067735771381771' #else '663246792426782730' #end;\r\n\tfinal casual_chat = '';\r\n\r\n\toverride function onEnabled() {\r\n\t\tFirestore.onSnapshot(collection(this.db, 'discord/reminders/entries'), function(resp) {\r\n\t\t\tvar arr = [];\r\n\t\t\tfor (item in resp.docs) {\r\n\t\t\t\tarr.push(item.data());\r\n\t\t\t}\r\n\t\t\tthis.reminders = arr;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Reminder(content, when, personal, thread_reply):\r\n\t\t\t\tif (personal == null) {\r\n\t\t\t\t\tpersonal = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar thread_id = '';\r\n\t\t\t\tif (thread_reply) {\r\n\t\t\t\t\tif (interaction.channel.isThread()) {\r\n\t\t\t\t\t\tthread_id = interaction.channel.id;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\t'You marked `thread_reply` to true. Please trigger this command from a thread.'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar channel_id = null;\r\n\t\t\t\tvar category = interaction.channel.parent.name;\r\n\t\t\t\tif (category.toLowerCase() == 'offtopic') {\r\n\t\t\t\t\tchannel_id = interaction.channelId;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar obj:TReminder = {\r\n\t\t\t\t\tchannel_id: channel_id,\r\n\t\t\t\t\tsent: false,\r\n\t\t\t\t\tthread_reply: thread_reply,\r\n\t\t\t\t\tthread_id: thread_id,\r\n\t\t\t\t\tid: \"\",\r\n\t\t\t\t\tduration: Duration.fromString(when),\r\n\t\t\t\t\ttimestamp: Date.now().getTime(),\r\n\t\t\t\t\tauthor: interaction.user.id,\r\n\t\t\t\t\tcontent: content,\r\n\t\t\t\t\tpersonal: personal\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar min = #if block \"0min\" #else \"4mins\" #end;\r\n\t\t\t\tvar duration = Duration.fromString(min);\r\n\r\n\t\t\t\tif (obj.duration == 0.) {\r\n\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t'Your time formatting was likely incorrect. Use units like __m__in(s), __h__ou__r__(s), __d__ay(s), __w__ee__k__(s) and __mo__nth(s)'\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.duration <= duration) {\r\n\t\t\t\t\tinteraction.reply('Please set a reminder that is at least 5mins');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.duration >= Duration.fromString('366days')) {\r\n\t\t\t\t\tinteraction.reply('A reminder can\\'t be set for longer than 366 days');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar col = Firestore.collection(this.db, 'discord/reminders/entries');\r\n\t\t\t\tFirestore.addDoc(col, obj).then(function(doc) {\r\n\t\t\t\t\tvar post_time = Math.round((obj.timestamp + obj.duration) / 1000);\r\n\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\tephemeral: personal,\r\n\t\t\t\t\t\tcontent: 'Your reminder has been set for <t:${post_time}>'\r\n\t\t\t\t\t}).then(function(msg) {\r\n\t\t\t\t\t\tobj.id = doc.id;\r\n\t\t\t\t\t\tFirestore.updateDoc(doc, obj).then(null, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\toverride function update(_) {\r\n\t\tsuper.update(_);\r\n\r\n\t\tthis.getChannel(bot_channel);\r\n\r\n\t\tif (this.channels[bot_channel] == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (reminder in this.reminders) {\r\n\t\t\tif (reminder.sent) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (reminder.channel_id != null && !this.channels.exists(reminder.channel_id)) {\r\n\t\t\t\tthis.getChannel(reminder.channel_id);\r\n\t\t\t}\r\n\r\n\t\t\tvar post_time = reminder.timestamp + reminder.duration;\r\n\t\t\tif (Date.now().getTime() < post_time) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\treminder.sent = true;\r\n\t\t\tvar parse = {parse: ['users']};\r\n\t\t\tvar embed = new MessageEmbed();\r\n\t\t\tembed.setTitle(\"Reminder\");\r\n\t\t\tembed.setDescription(reminder.content);\r\n\t\t\tembed.setFooter({text: '<t:${Math.round(reminder.timestamp / 1000)}>'});\r\n\t\t\tvar message = '> <@${reminder.author}> Your reminder was sent <t:${Math.round(reminder.timestamp / 1000)}:R>';\r\n\t\t\tvar content = '$message\\n${reminder.content}';\r\n\r\n\t\t\tif (reminder.thread_reply) {\r\n\t\t\t\tMain.client.channels.fetch(reminder.thread_id).then(function(channel:TextChannel) {\r\n\t\t\t\t\tchannel.send({content: content, allowedMentions: parse})\r\n\t\t\t\t\t\t.then(null, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\treminder.sent = false;\r\n\t\t\t\t\t\t\treminder.duration += Duration.fromString('3hrs');\r\n\t\t\t\t\t\t\tthis.channel.send({\r\n\t\t\t\t\t\t\t\tcontent: '<@${reminder.author}> I failed to post a reminder to your thread. Might be an issue.',\r\n\t\t\t\t\t\t\t\tallowedMentions: parse\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else if (reminder.personal) {\r\n\t\t\t\tMain.client.users.fetch(reminder.author).then(function(user) {\r\n\t\t\t\t\tuser.send(content).then(null, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\treminder.sent = false;\r\n\t\t\t\t\t\treminder.duration += day;\r\n\t\t\t\t\t\tthis.channel.send({\r\n\t\t\t\t\t\t\tcontent: '<@${reminder.author}> I tried to DM you a reminder, but it failed. Do you accept messages from this server?',\r\n\t\t\t\t\t\t\tallowedMentions: parse\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar channel = this.channel;\r\n\t\t\t\tif (reminder.channel_id != null && this.channels.exists(reminder.channel_id)) {\r\n\t\t\t\t\tchannel = this.channels.get(reminder.channel_id);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchannel.send({content: content, allowedMentions: parse}).then(null, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\treminder.sent = false;\r\n\t\t\t\t\treminder.duration += hour;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (msg in this.reminders) {\r\n\t\t\tif (!msg.sent) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvar doc = Firestore.doc(this.db, 'discord/reminders/entries/${msg.id}');\r\n\t\t\tFirestore.deleteDoc(doc).then(null, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t\tthis.sent.remove(msg);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getChannel(channel_id:String) {\r\n\t\tif (!this.checking && this.channels.get(channel_id) == null) {\r\n\t\t\tthis.checking = true;\r\n\t\t\tMain.client.channels.fetch(channel_id).then(function(channel:TextChannel) {\r\n\t\t\t\tthis.channels.set(channel.id, channel);\r\n\t\t\t\tthis.checking = false;\r\n\t\t\t\ttrace('Found ${channel.name} channel');\r\n\t\t\t}, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tvar channel(get, never):TextChannel;\r\n\r\n\tfunction get_channel() {\r\n\t\treturn this.channels[bot_channel];\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'reminder';\r\n\t}\r\n}\r\n\r\ntypedef TReminder = {\r\n\tvar sent:Bool;\r\n\tvar thread_reply:Bool;\r\n\tvar id:String;\r\n\tvar channel_id:String;\r\n\tvar thread_id:String;\r\n\tvar duration:Duration;\r\n\tvar timestamp:Float;\r\n\tvar author:String;\r\n\tvar content:String;\r\n\tvar personal:Bool;\r\n}\r\n","package commands;\r\n\r\nimport commands.types.Duration;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport discord_js.MessageEmbed;\r\nimport discord_js.TextChannel;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\nimport js.Browser;\r\nimport discord_js.User;\r\nimport haxe.Json;\r\n\r\nclass Roundup extends CommandBase {\r\n\tvar last_checked:Float = -1;\r\n\tvar thursday_check:Float = -1;\r\n\tvar active:Bool = true;\r\n\tvar roundup(get, set):Int;\r\n\tvar channel:TextChannel = null;\r\n\tvar checking:Bool = false;\r\n\tvar _check_now:Bool = false;\r\n\tvar dmlist:Map<String, User> = ['367806496907591682' => null, '151104106973495296' => null];\r\n\r\n\tfinal super_mod_id:String = '198916468312637440';\r\n\tfinal news_role:String = '761714325227700225';\r\n\tfinal announcement_channel:String = #if block '597067735771381771' #else '286485321925918721' #end;\r\n\r\n\tvar sent = false;\r\n\r\n\tfunction dmUser(title:String, content:String) {\r\n\t\t#if block\r\n\t\treturn;\r\n\t\t#end\r\n\t\tvar regex = ~/\\((.*?)\\)/gmis;\r\n\t\tcontent = regex.replace(content, \"(<$1>)\");\r\n\t\tfor (key => user in dmlist) {\r\n\t\t\tif (user == null) {\r\n\t\t\t\ttrace('skipping $key');\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tuser.send('## $title');\r\n\t\t\tvar arr = content.split('\\n');\r\n\t\t\tvar half = Math.floor(arr.length / 2);\r\n\t\t\tvar a = '';\r\n\t\t\tvar b = '';\r\n\t\t\tfor (i => line in arr) {\r\n\t\t\t\tif (i <= half) {\r\n\t\t\t\t\ta += line + '\\n';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tb += line + '\\n';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tuser.send(a).then((_) -> {\r\n\t\t\t\tuser.send(b).then(null, (err) -> trace(err));\r\n\t\t\t}, (err) -> trace(err));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getHaxeIoPage() {\r\n\t\tvar data = new haxe.Http(\r\n\t\t\t'https://raw.githubusercontent.com/skial/haxe.io/master/src/roundups/$roundup.md'\r\n\t\t);\r\n\t\tvar embed = new MessageEmbed();\r\n\t\tdata.onError = (error) -> {\r\n\t\t\ttrace(error);\r\n\t\t}\r\n\r\n\t\tdata.onData = (body) -> {\r\n\t\t\tvar regex = ~/### News and Articles(.*?)##### _In case you missed it_/gmis;\r\n\t\t\tif (regex.match(body)) {\r\n\t\t\t\tembed.setTitle('Haxe Roundup #$roundup');\r\n\t\t\t\tembed.setURL('https://haxe.io/roundups/$roundup/');\r\n\r\n\t\t\t\tvar desc_split = regex.matched(1).trim().split('\\n');\r\n\t\t\t\tvar desc = '\\n**News And Articles**';\r\n\t\t\t\tfor (item in desc_split) {\r\n\t\t\t\t\tif (desc.length + item.trim().length + 3 + 22 >= 2048) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.contains(\"#### \")) {\r\n\t\t\t\t\t\titem = item.replace(\"#### \", \"### \");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdesc += '\\n' + item.trim();\r\n\t\t\t\t}\r\n\t\t\t\tdesc += '\\n...';\r\n\t\t\t\tembed.setDescription(desc);\r\n\t\t\t\tdmUser('Haxe Roundup #$roundup', desc);\r\n\t\t\t\tthis.channel.send({\r\n\t\t\t\t\tcontent: '<@&$news_role>',\r\n\t\t\t\t\tallowedMentions: {roles: [news_role]},\r\n\t\t\t\t\tembeds: [embed]\r\n\t\t\t\t}).then((_) -> {\r\n\t\t\t\t\tthis.roundup++;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tdata.request();\r\n\t}\r\n\r\n\tvar set_permissions = false;\r\n\r\n\toverride function update(_) {\r\n\t\tsuper.update(_);\r\n\t\tif (Main.state == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.channel == null && this.checking == false) {\r\n\t\t\tthis.checking = true;\r\n\t\t\tMain.client.channels.fetch(this.announcement_channel).then(function(channel) {\r\n\t\t\t\tthis.channel = cast channel;\r\n\t\t\t\tthis.checking = false;\r\n\t\t\t}, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\r\n\t\t\tfor (key => user in this.dmlist) {\r\n\t\t\t\tif (user == null) {\r\n\t\t\t\t\tMain.client.users.fetch(key).then((user) -> {\r\n\t\t\t\t\t\tthis.dmlist.set(key, user);\r\n\t\t\t\t\t\ttrace('Got ${user.tag}');\r\n\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.roundup == -1 || this.channel == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar today = Date.now();\r\n\t\tvar diff = today.getTime() - last_checked;\r\n\r\n\t\tif (today.getUTCDay() == 4 || _check_now) {\r\n\t\t\tif (!this.shouldCheck()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (diff >= Duration.fromString('1d')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.last_checked = Date.now().getTime();\r\n\t\t}\r\n\r\n\t\tgetHaxeIoPage();\r\n\t}\r\n\r\n\tfunction shouldCheck() {\r\n\t\tvar today = Date.now();\r\n\t\tvar hour = today.getUTCHours();\r\n\r\n\t\tif (_check_now) {\r\n\t\t\t_check_now = false;\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (hour < 11 || hour > 14) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar min = today.getUTCMinutes();\r\n\t\tif (min % 30 != 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar diff = today.getTime() - thursday_check;\r\n\t\tif (diff <= Duration.fromString('25m')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthursday_check = today.getTime();\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tif (!hasRole(this.super_mod_id, interaction)) {\r\n\t\t\tinteraction.reply('Invalid permissions').then(null, null);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Roundup(number):\r\n\t\t\t\tif (this.active) {\r\n\t\t\t\t\tthis.active = false;\r\n\t\t\t\t\tthis.last_checked = -1;\r\n\t\t\t\t\tinteraction.reply(\"Disabled haxe roundup monitoring\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (number <= 600) {\r\n\t\t\t\t\tinteraction.reply(\"Please enter a more recent roundup issue.\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.active = true;\r\n\t\t\t\tthis.roundup = number.int();\r\n\r\n\t\t\t\tinteraction.reply('Will start watching haxe roundups from **#$number**.');\r\n\t\t\t\tinteraction.client.channels.fetch(this.announcement_channel)\r\n\t\t\t\t\t.then(function(channel) {\r\n\t\t\t\t\t\tthis.channel = cast channel;\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tinline function get_roundup() {\r\n\t\treturn Main.state.next_roundup;\r\n\t}\r\n\r\n\tinline function set_roundup(value:Int) {\r\n\t\tMain.state.next_roundup = value;\r\n\t\tMain.updateState('next_roundup', Json.stringify(value));\t\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'roundup';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport js.Browser;\r\nimport discord_js.ReactionCollector;\r\nimport Main.TRoundup;\r\nimport discord_js.GuildMember;\r\nimport discord_js.User;\r\nimport discord_js.Collection;\r\nimport discord_js.MessageReaction;\r\nimport discord_js.Message;\r\nimport discord_js.VoiceState;\r\nimport discord_js.TextChannel;\r\nimport commands.types.Duration;\r\nimport discord_js.VoiceChannel;\r\nimport discord_js.GuildScheduledEvent;\r\nimport discord_js.GuildScheduleEventManager;\r\nimport discord_js.Guild;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandDbBase;\r\nimport Main.CommandForward;\r\nimport discord_js.GuildScheduledEvent;\r\n\r\ntypedef RoundupEndEvent = {\r\n\tvar member:GuildMember;\r\n}\r\n\r\nclass RoundupRoundup extends CommandDbBase {\r\n\tvar guild(get, never):Guild;\r\n\tvar state(get, never):TRoundup;\r\n\r\n\tvar voice_text:TextChannel;\r\n\tvar announcement:TextChannel;\r\n\tvar voice_channel:VoiceChannel;\r\n\tvar host_m:GuildMember;\r\n\tvar last_checked:Float;\r\n\tvar schedule(get, never):GuildScheduleEventManager;\r\n\tvar event:GuildScheduledEvent;\r\n\tvar waiting:Bool = false;\r\n\tvar host_active:Bool = false;\r\n\tvar host_contacted:Bool = false;\r\n\tvar new_event_collector:ReactionCollector;\r\n\tvar end_event_collector:ReactionCollector;\r\n\r\n\tfinal voice_channel_id = #if block \"416069724657418244\" #else \"198219256687493120\" #end;\r\n\tfinal announcement_id = #if block \"597067735771381771\" #else \"286485321925918721\" #end;\r\n\tfinal voice_text_id = #if block \"597067735771381771\" #else \"220626116627529728\" #end;\r\n\tfinal event_role = #if block \"<@&1114582456381747232>\" #else \"<@&1054432874473996408>\" #end;\r\n\r\n\t@:fastFamily var end_event:{data:RoundupEndEvent};\r\n\t@:fastFamily var voice_update_events:{forward:CommandForward, old:VoiceState, updated:VoiceState};\r\n\t@:fastFamily var scheduled_event_updates:{forward:CommandForward, event:GuildScheduledEvent};\r\n\r\n\toverride function update(_) {\r\n\t\tsuper.update(_);\r\n\t\t// this.handleEndEvent();\r\n\r\n\t\tif (this.state == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (voice_channel == null && !waiting) {\r\n\t\t\twaiting = true;\r\n\t\t\tMain.client.channels.fetch(voice_channel_id).then(function(channel:VoiceChannel) {\r\n\t\t\t\tthis.voice_channel = channel;\r\n\t\t\t\twaiting = false;\r\n\t\t\t}, (err) -> trace(err));\r\n\t\t}\r\n\r\n\t\tif (voice_channel == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (announcement == null && !waiting) {\r\n\t\t\twaiting = true;\r\n\t\t\tMain.client.channels.fetch(announcement_id).then(function(channel:TextChannel) {\r\n\t\t\t\tthis.announcement = channel;\r\n\t\t\t\twaiting = false;\r\n\t\t\t}, (err) -> trace(err));\r\n\t\t}\r\n\r\n\t\tif (announcement == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (voice_text == null && !waiting) {\r\n\t\t\twaiting = true;\r\n\t\t\tMain.client.channels.fetch(voice_text_id).then(function(channel:TextChannel) {\r\n\t\t\t\twaiting = false;\r\n\t\t\t\tthis.voice_text = channel;\r\n\t\t\t}, (err) -> trace(err));\r\n\t\t}\r\n\r\n\t\tif (voice_text == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (host_m == null && !waiting) {\r\n\t\t\twaiting = true;\r\n\t\t\ttrace(this.state.host);\r\n\t\t\tthis.guild.members.fetch({user: this.state.host, force: true}).then(function(member) {\r\n\t\t\t\tthis.host_m = member;\r\n\t\t\t\tthis.waiting = false;\r\n\t\t\t\ttrace('Roundup host obtained');\r\n\t\t\t}, (err) -> trace(err));\r\n\t\t}\r\n\r\n\t\tif (this.host_m == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.event == null) {\r\n\t\t\tthis.getEvent();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.handleEventUpdates();\r\n\t\tthis.handleVoiceEvents();\r\n\t\tthis.handleScheduledEvent();\r\n\t}\r\n\r\n\tfunction scheduleNewEvent() {\r\n\t\tif (host_contacted || waiting) {\r\n\t\t\ttrace(host_contacted);\r\n\t\t\ttrace(waiting);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttrace(this.host_m.user.tag);\r\n\t\twaiting = true;\r\n\t\tvar message = \"Time to schedule a new roundup roundup! How many weeks until the next roundup roundup?\\n\";\r\n\t\tvar reactions = ['2️⃣', '3️⃣', '4️⃣', '5️⃣'];\r\n\t\thost_contacted = true;\r\n\t\tthis.host_m.send(message).then(function(message) {\r\n\t\t\twaiting = false;\r\n\t\t\tnew_event_collector = this.addCollection('1w', reactions, message, newEventCollector);\r\n\t\t}, (err) -> trace(err));\r\n\t}\r\n\r\n\tfunction newEventCollector(reaction:MessageReaction, user:User) {\r\n\t\tif (user.bot) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar weeks = switch (reaction.emoji.name) {\r\n\t\t\tcase \"2️⃣\": 2;\r\n\t\t\tcase \"3️⃣\": 3;\r\n\t\t\tcase \"4️⃣\": 4;\r\n\t\t\tcase \"5️⃣\": 5;\r\n\t\t\tdefault: 2;\r\n\t\t}\r\n\t\tvar date = event.scheduledStartTimestamp + Duration.fromString('${weeks}w');\r\n\t\tthis.createEvent(date);\r\n\t\tthis.new_event_collector.stop('User selected $weeks weeks');\r\n\t}\r\n\r\n\tfunction handleEventUpdates() {\r\n\t\tif (this.event == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\titerate(scheduled_event_updates, (entity) -> {\r\n\t\t\tswitch (forward) {\r\n\t\t\t\tcase scheduled_event_update:\r\n\t\t\t\t\tif (event.id != this.event.id) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.client.guilds.fetch({guild: Main.guild_id}).then(function(guild) {\r\n\t\t\t\t\t\tguild.scheduledEvents.fetch(event.id)\r\n\t\t\t\t\t\t\t.then(function(event:GuildScheduledEvent) {\r\n\t\t\t\t\t\t\t\tthis.event = (event);\r\n\t\t\t\t\t\t\t\thandleEventStatus(event);\r\n\t\t\t\t\t\t\t\ttrace('Updated event: ${event.status}');\r\n\t\t\t\t\t\t\t\ttrace('New time: ${Date.fromTime(event.scheduledStartTimestamp)}');\r\n\t\t\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\t\t}, (err) -> trace(err));\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t\tuniverse.deleteEntity(entity);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleEventStatus(event:GuildScheduledEvent) {\r\n\t\tswitch (event.status) {\r\n\t\t\tcase Completed:\r\n\t\t\t\tthis.scheduleNewEvent();\r\n\t\t\tcase Active:\r\n\t\t\t\tif (state.announced || waiting) {\r\n\t\t\t\t\ttrace('here', state.announced, waiting);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar mention = (state.event_ping >= 3) ? event_role : '@everyone';\r\n\t\t\t\tvar message = '$mention come and join the haxe roundup where we go over what has been happening in haxe for the last few weeks!';\r\n\t\t\t\tif (state.event_ping >= 3) {\r\n\t\t\t\t\tstate.event_ping = 0;\r\n\t\t\t\t\tmessage += '\\n\\nIf you received this event and want to opt out please go to <#663246792426782730> and type `/notify events`';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstate.event_ping = state.event_ping + 1;\r\n\t\t\t\t}\r\n\t\t\t\tthis.voice_text.send({\r\n\t\t\t\t\tcontent: message,\r\n\t\t\t\t\tallowedMentions: {\r\n\t\t\t\t\t\tparse: [everyone, roles]\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(null, (err) -> trace(err));\r\n\t\t\t\tstate.announced = true;\r\n\t\t\t\tthis.setState(state);\r\n\t\t\t\ttrace('Event Started');\r\n\t\t\t\twaiting = false;\r\n\t\t\t\tthis.event = event;\r\n\t\t\tdefault:\r\n\t\t\t\ttrace(event.status);\r\n\t\t}\r\n\t}\r\n\r\n\tinline function handleVoiceEvents() {\r\n\t\titerate(voice_update_events, (entity) -> {\r\n\t\t\tswitch (forward) {\r\n\t\t\t\tcase roundup_member_update:\r\n\t\t\t\t\tif (event != null && event.status == Active) {\r\n\t\t\t\t\t\tvar member = updated.member;\r\n\t\t\t\t\t\tif (member != null && member.id == host && updated.channel == null) {\r\n\t\t\t\t\t\t\tmember.send(\r\n\t\t\t\t\t\t\t\t'Hi <@$host>, it looks like you left the voice channel. Should I end the event?'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.then(function(message) {\r\n\t\t\t\t\t\t\t\t\tvar reactions = [\"✅\", \"❎\"];\r\n\t\t\t\t\t\t\t\t\tend_event_collector = this.addCollection('1w', reactions,\r\n\t\t\t\t\t\t\t\t\t\tmessage, endEventCollector);\r\n\t\t\t\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction endEventCollector(reaction:MessageReaction, user:User) {\r\n\t\tif (user.bot) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tswitch (reaction.emoji.name) {\r\n\t\t\tcase \"✅\":\r\n\t\t\t\tevent.setStatus(Completed, \"Host ended the event.\").then((event) -> {\r\n\t\t\t\t\thost_m.send('Event ended, thank you for hosting!').then(function(_) {\r\n\t\t\t\t\t\thost_active = false;\r\n\t\t\t\t\t\twaiting = false;\r\n\t\t\t\t\t\t// this.event = event;\r\n\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\t}, (err) -> trace(err));\r\n\t\t\tdefault:\r\n\t\t}\r\n\t\tend_event_collector.stop();\r\n\t}\r\n\r\n\tfunction handleScheduledEvent() {\r\n\t\tif (event.status != Scheduled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar now = Date.now().getTime();\r\n\t\tvar left = event.scheduledStartTimestamp - now;\r\n\t\tif (left > Duration.fromString('5m')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// check if host is around before considering starting the roundup\r\n\t\tif (!host_active) {\r\n\t\t\tif (now - last_checked > Duration.fromString('1m')) {\r\n\t\t\t\tthis.last_checked = now;\r\n\t\t\t\tfor (member in voice_channel.members) {\r\n\t\t\t\t\tif (member.id == host) {\r\n\t\t\t\t\t\thost_active = true;\r\n\t\t\t\t\t\ttrace('Host is active');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (left <= Duration.fromString('0s') && !waiting && host_active) {\r\n\t\t\twaiting = true;\r\n\t\t\tevent.setStatus(Active, 'Time to start the event!').then(function(_) {\r\n\t\t\t\twaiting = false;\r\n\t\t\t}, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\twaiting = true;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction createEvent(date:Float) {\r\n\t\tvar title = 'Haxe Roundup Roundup';\r\n\t\tvar description = \"A community hosted discussion event where we go over the latest things that has gone on in the haxe over the last few weeks. We also have a period where people can show off what they're working on - its open floor come and join if you want :D\";\r\n\t\tthis.guild.scheduledEvents.create({\r\n\t\t\tname: title,\r\n\t\t\tchannel: this.voice_channel_id,\r\n\t\t\tentityType: Voice,\r\n\t\t\tprivacyLevel: GuildOnly,\r\n\t\t\tscheduledStartTime: date,\r\n\t\t\tdescription: description\r\n\t\t}).then(function(event) {\r\n\t\t\thost_contacted = false;\r\n\t\t\tthis.event = event;\r\n\t\t\tstate.announced = false;\r\n\t\t\tthis.state.event_id = event.id;\r\n\t\t\tvar time = 604800;\r\n\t\t\tevent.createInviteURL({maxAge: time, channel: voice_text_id}).then(function(url) {\r\n\t\t\t\tthis.voice_text.send(\r\n\t\t\t\t\t{content: 'Thanks for hanging out :grin: \\nGet ready for the next one! $url'}\r\n\t\t\t\t)\r\n\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\tthis.announcement.send(\r\n\t\t\t\t\t{content: 'Get ready for the next roundup roundup :grin: \\n$url'}\r\n\t\t\t\t)\r\n\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t}, (err) -> trace(err));\r\n\t\t\tthis.setState(state);\r\n\t\t\ttrace('Event setup!');\r\n\t\t\tthis.host_m.send(\r\n\t\t\t\t'New roundup event scheduled for <t:${Math.round(event.scheduledStartTimestamp / 1000)}:R>'\r\n\t\t\t)\r\n\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t}, (err) -> trace(err));\r\n\t}\r\n\r\n\tfunction getEvent() {\r\n\t\tif (waiting) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twaiting = true;\r\n\t\tschedule.fetch(this.state.event_id).then(function(event) {\r\n\t\t\twaiting = false;\r\n\t\t\ttrace('Roundup event retrieved');\r\n\t\t\tthis.event = event;\r\n\t\t\thandleEventStatus(event);\r\n\t\t}, function(err) {\r\n\t\t\ttrace(err);\r\n\t\t\twaiting = false;\r\n\t\t});\r\n\t}\r\n\r\n\tinline function handleEndEvent() {\r\n\t\titerate(end_event, (entity) -> {\r\n\t\t\tevent.setStatus(Completed, \"Host ended the event.\").then((_) -> {\r\n\t\t\t\tdata.member.send('Event ended, thank you for hosting!').then(function(_) {\r\n\t\t\t\t\thost_active = false;\r\n\t\t\t\t\twaiting = false;\r\n\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t}, (err) -> trace(err));\r\n\t\t\tuniverse.deleteEntity(entity);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction addCollection(time:String, emojis:Array<String>, message:Message,\r\n\t\t\ton_collect:MessageReaction->User->Void,\r\n\t\t\t?on_end:Collection<String, MessageReaction>->String->Void) {\r\n\t\tfor (e in emojis) {\r\n\t\t\tmessage.react(e).then(null, (err) -> trace(err));\r\n\t\t}\r\n\r\n\t\tvar collector = message.createReactionCollector({time: Duration.fromString(time)});\r\n\t\tcollector.on('collect', on_collect);\r\n\t\tif (on_end != null) {\r\n\t\t\tcollector.on('end', on_end);\r\n\t\t}\r\n\r\n\t\treturn collector;\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {}\r\n\r\n\tfunction addCollector(message:Message, member:GuildMember) {\r\n\t\tvar time:Float = Duration.fromString('1d');\r\n\t\tvar collector = message.createReactionCollector({time: time});\r\n\r\n\t\tcollector.on('collect', (reaction:MessageReaction, user:User) -> {\r\n\t\t\tif (user.bot) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tswitch (reaction.emoji.name) {\r\n\t\t\t\tcase \"✅\":\r\n\t\t\t\t\tvar obj:RoundupEndEvent = {\r\n\t\t\t\t\t\tmember: member\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.universe.setComponents(universe.createEntity(), obj);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t\tcollector.stop('User responded');\r\n\t\t});\r\n\r\n\t\tcollector.on(\r\n\t\t\t'end',\r\n\t\t\t(collected:Collection<String, MessageReaction>, reason:String) -> {}\r\n\t\t);\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'rounduproundup';\r\n\t}\r\n\r\n\tfunction get_guild() {\r\n\t\treturn Main.client.guilds.cache.get(Main.guild_id);\r\n\t}\r\n\r\n\tfunction get_state() {\r\n\t\tif (Main.state == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn Main.state.roundup_roundup;\r\n\t}\r\n\r\n\tfunction setState(value) {\r\n\t\tMain.state.roundup_roundup = value;\r\n\t\tMain.updateState('roundup_roundup', Json.stringify(Main.state.roundup_roundup));\r\n\t}\r\n\r\n\tfunction get_started() {\r\n\t\treturn event.status == Active;\r\n\t}\r\n\r\n\tfunction get_schedule() {\r\n\t\treturn guild.scheduledEvents;\r\n\t}\r\n\r\n\tvar host(get, never):String;\r\n\r\n\tfunction get_host() {\r\n\t\t#if block\r\n\t\treturn \"151104106973495296\";\r\n\t\t#end\r\n\t\treturn this.state.host;\r\n\t}\r\n}\r\n\r\ntypedef TRoundupEventData = {\r\n\tvar scheduled:Bool;\r\n\tvar date:Float;\r\n\tvar host:String;\r\n\tvar host_confirmed:Bool;\r\n\tvar reminders:Bool;\r\n}\r\n","package commands;\r\n\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\n\r\nclass Rtfm extends CommandBase {\r\n\tvar data:Array<TRtfmFormat>;\r\n\r\n\toverride function onEnabled() {\r\n\t\tthis.data = loadFile('rtfm');\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tif (this.data == null) {\r\n\t\t\ttrace(\"failed to read rtfm data\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Rtfm(channel):\r\n\t\t\t\tvar compare = channel;\r\n\t\t\t\tif (channel == null) {\r\n\t\t\t\t\tcompare = interaction.channel.name;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (item in data) {\r\n\t\t\t\t\tfor (val in item.keys) {\r\n\t\t\t\t\t\tif (val == compare) {\r\n\t\t\t\t\t\t\tinteraction.reply(item.content);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tinteraction.reply('No information available.');\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'rtfm';\r\n\t}\r\n}\r\n\r\ntypedef TRtfmFormat = {\r\n\tvar keys:Array<String>;\r\n\tvar content:String;\r\n}\r\n","package systems;\r\n\r\nimport ecs.System;\r\nimport components.TextCommand;\r\nimport discord_js.Message;\r\n\r\nabstract class TextCommandBase extends System {\r\n\t@:fastFamily var commands:{command:TextCommand, message:Message};\r\n\r\n\toverride function update(_) {\r\n\t\tif (!Main.connected || !Main.commands_active) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\titerate(commands, entity -> {\r\n\t\t\tif (command == this.name) {\r\n\t\t\t\tthis.run(message, message.content.replace(this.name, ''));\r\n\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tabstract function run(message:Message, content:String):Void;\r\n\r\n\tpublic var name(get, never):String;\r\n\r\n\tabstract function get_name():String;\r\n}\r\n","package commands;\r\n\r\nimport commands.types.Duration;\r\nimport systems.TextCommandBase;\r\nimport components.TextCommand;\r\nimport util.Random;\r\nimport vm2.NodeVM;\r\nimport js.node.Fs;\r\nimport haxe.Http;\r\nimport discord_js.TextChannel;\r\nimport discord_js.MessageEmbed;\r\nimport sys.FileSystem;\r\nimport discord_js.Message;\r\nimport js.node.ChildProcess.spawn;\r\nimport js.Browser;\r\n\r\nprivate typedef Request = {\r\n\taction:Action,\r\n\t?input:String,\r\n\t?hxml:String,\r\n};\r\n\r\nprivate enum abstract Action(String) {\r\n\tvar Run = \"run\";\r\n\tvar HaxeVersion = \"haxe_version\";\r\n\tvar HaxelibRun = \"haxelib_run\";\r\n}\r\n\r\nprivate enum abstract Status(String) {\r\n\tvar Ok;\r\n\tvar OhNo;\r\n}\r\n\r\nprivate typedef Response = {\r\n\tstatus:Status,\r\n\t?output:Null<String>,\r\n\t?error:Null<String>,\r\n}\r\n\r\nclass Run2 extends TextCommandBase {\r\n\tvar message_id:String;\r\n\tvar haxe_version:String = null;\r\n\tvar code_requests:Map<String, Array<Float>> = [];\r\n\tvar channel:TextChannel;\r\n\tvar checked:Bool = false;\r\n\tvar timeout = 5000;\r\n\tvar last_cleared:Float;\r\n\tvar site = #if block \"\" #else \"localhost\" #end;\r\n\r\n\toverride function onEnabled() {\r\n\t\t#if block\r\n\t\tsite = Main.keys.haxeip;\r\n\t\t#end\r\n\r\n\t\tvar http = new Http('http://$site:1337');\r\n\t\thttp.setHeader('Authorization', \"Basic \" + Main.keys.haxelib);\r\n\t\thttp.onError = function(error) {\r\n\t\t\ttrace(error);\r\n\t\t}\r\n\r\n\t\thttp.setPostData('{\r\n\t\t\t\t\"action\": \"haxe_version\"\r\n\t\t\t}');\r\n\r\n\t\thttp.onData = function(response) {\r\n\t\t\tvar parse:Response = Json.parse(response);\r\n\t\t\tswitch (parse.status) {\r\n\t\t\t\tcase Ok:\r\n\t\t\t\t\tthis.haxe_version = parse.output;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttrace(parse.output);\r\n\t\t\t\t\ttrace(parse.error);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\thttp.request(true);\r\n\t}\r\n\r\n\tfunction run(message:Message, content:String) {\r\n\t\tif (this.haxe_version == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.extractCode(message.content, message);\r\n\t}\r\n\r\n\tfunction codeSource(message:String) {\r\n\t\tvar remote = ~/^(!run #([a-zA-Z0-9]{5,8}))/gi;\r\n\t\tvar source = \"\";\r\n\t\tif (remote.match(message)) {\r\n\t\t\tsource = 'https://try.haxe.org/#${remote.matched(2)}';\r\n\t\t}\r\n\t\treturn source;\r\n\t}\r\n\r\n\tfunction extractCode(message:String, response:Message) {\r\n\t\tvar check_code = ~/^(!run #([a-zA-Z0-9]{5,8}))/gi;\r\n\t\tif (check_code.match(message)) {\r\n\t\t\tvar regex = ~/(<code class=\"prettyprint haxe\">)(.*?)(<\\/code>)/gmius;\r\n\t\t\tvar get_code = new Http('https://try.haxe.org/embed/${check_code.matched(2)}');\r\n\t\t\tget_code.onData = (data) -> {\r\n\t\t\t\tif (regex.match(data)) {\r\n\t\t\t\t\tthis.parse(regex.matched(2).htmlUnescape(), response);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tget_code.request();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcheck_code = ~/^(!run(\\s|\\n| \\n|).```(haxe|hx|)(.*)```)/gmisu;\r\n\t\tif (check_code.match(message)) {\r\n\t\t\tthis.parse(check_code.matched(4), response);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcheck_code = ~/!run[\\s|\\n| \\n](.*)/gmis;\r\n\t\tif (check_code.match(message)) {\r\n\t\t\tthis.parse(check_code.matched(1), response);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.parse(null, response);\r\n\t}\r\n\r\n\tfunction extractLibs(code:String) {\r\n\t\tvar check_code = ~/(\\/?\\/?-l\\W.*)/gmiu;\r\n\t\tif (!check_code.match(code)) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tvar libs = [];\r\n\t\tvar i = 0;\r\n\t\twhile (check_code.match(code)) {\r\n\t\t\tvar split = check_code.matched(1).split(\" \");\r\n\t\t\t(i > 0) ? libs.push(' -L ') : libs.push('-L ');\r\n\t\t\t\r\n\t\t\tlibs.push(split[1]);\r\n\t\t\tcode = check_code.matchedRight();\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\treturn libs;\r\n\t}\r\n\r\n\tfunction canRequest(data:Array<Float>) {\r\n\t\tvar timings = 0.0;\r\n\t\tvar last = 0.0;\r\n\t\tvar count = 1;\r\n\t\tfor (i in 0...data.length) {\r\n\t\t\tif (data.length % 2 == 1 && (data.length - i) == 1) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (i % 2 == 0) {\r\n\t\t\t\tlast = data[i];\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\ttimings += data[i] - last;\r\n\t\t\tcount++;\r\n\t\t}\r\n\r\n\t\treturn (data.length < 6) || (timings / count) > 2000;\r\n\t}\r\n\r\n\tfunction cleanOutput(data:String, filename:String, class_entry) {\r\n\t\tdata = data.toString();\r\n\t\tvar remove_vm = ~/(\\[(.*|vm)\\].*)$/igmu;\r\n\r\n\t\t//data = data.replace(filename, class_entry).replace('\x1B', '');\r\n\t\tdata = data.replace(this.base_path, \"\");\r\n\t\tdata = data.replace(\"/hx/\", \"\");\r\n\t\tdata = data.replace(\"/bin/\", \"\");\r\n\t\tvar reg = ~/Main.hx:[0-9].*?: /gm;\r\n\t\tdata = reg.replace(data, '');\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tfunction getImportAndUsings(input:String, index:Int = 0) {\r\n\t\tvar regex = new EReg('^(import|using)(.*);$', 'igmu');\r\n\t\tvar matches = [];\r\n\t\twhile (regex.match(input)) {\r\n\t\t\tmatches.push(regex.matched(index));\r\n\t\t\tinput = regex.matchedRight();\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tcode: input,\r\n\t\t\tpaths: matches\r\n\t\t};\r\n\t}\r\n\r\n\tfunction parse(code:String, response:Message) {\r\n\t\tif (code == null || code.length == 0) {\r\n\t\t\tresponse.reply(\r\n\t\t\t\t{content: 'Your `!run` command formatting is incorrect. Check the pin in <#663246792426782730>.'}\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar class_exists = ~/(class.*({|\\n{))/mgu;\r\n\r\n\t\tif (class_exists.match(code)) {\r\n\t\t\tvar check_class = ~/(^class\\s(Test|Main)(\\n|\\s|\\S))/mgu;\r\n\t\t\tif (!check_class.match(code)) {\r\n\t\t\t\tresponse.reply({content: 'You must have a class called `Test` or `Main`'});\r\n\t\t\t\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tthis.runCodeOnThread(code, response);\r\n\t}\r\n\r\n\tfunction parseError(error:String, code:String) {\r\n\t\tvar embed = new MessageEmbed();\r\n\t\tembed.setTitle('Compilation Error');\r\n\r\n\t\tvar regex = ~/(Main|Test).hx:([0-9]+): (character|characters) ([0-9]+)(-([0-9]+))? : (.*)/gm;\r\n\t\tif (regex.match(error)) {\r\n\t\t\tvar line = regex.matched(2).parseInt();\r\n\t\t\tvar start_char = regex.matched(4).parseInt();\r\n\t\t\tvar end_char = regex.matched(6).parseInt();\r\n\t\t\tvar str = '';\r\n\t\t\tvar new_code = '';\r\n\r\n\t\t\tfor (key => value in code.split('\\n')) {\r\n\t\t\t\tif (key != (line - 1)) {\r\n\t\t\t\t\tnew_code += value + '\\n';\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (i in 0...value.length) {\r\n\t\t\t\t\tvar pos = i + 1;\r\n\t\t\t\t\tvar char = value.charAt(i);\r\n\t\t\t\t\tif (pos < start_char) {\r\n\t\t\t\t\t\tstr += char;\r\n\t\t\t\t\t} else if (pos == start_char) {\r\n\t\t\t\t\t\tstr += '->$char';\r\n\t\t\t\t\t} else if (pos == end_char) {\r\n\t\t\t\t\t\tstr += '${char}<-';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnew_code += str + '\\n';\r\n\t\t\t}\r\n\t\t\tif (new_code.length > 3900) {\r\n\t\t\t\tnew_code = new_code.substr(0, 3900);\r\n\t\t\t}\r\n\r\n\t\t\tif (error.length > 3900) {\r\n\t\t\t\terror = error.substr(0, 3900);\r\n\t\t\t}\r\n\t\t\tembed.setDescription('```hx\\n' + new_code + '``` **Error** \\n $error');\r\n\t\t\treturn embed;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tfunction runCodeOnThread(code:String, message:Message) {\r\n\t\tvar mention = '<@${message.author.id}>';\r\n\r\n\t\tvar libs = this.extractLibs(code);\r\n\t\tvar lib_regex = ~/(\\/?\\/?-l\\W.*)/gmiu;\r\n\t\tif (lib_regex.match(code)) {\r\n\t\t\tcode = lib_regex.replace(code, \"\");\r\n\t\t}\r\n\r\n\t\tvar get_paths = this.getImportAndUsings(code);\r\n\t\tvar format = '';\r\n\r\n\t\tfor (data in get_paths.paths) {\r\n\t\t\tformat += data;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tvar check_class = ~/(^class\\s(Test|Main)(\\n|\\s|\\S))/mg;\r\n\t\t\tvar code_content = get_paths.code;\r\n\t\t\tvar class_entry = \"Main\";\r\n\r\n\t\t\tif (check_class.match(get_paths.code)) {\r\n\t\t\t\tvar parsed = check_class.matched(0);\r\n\t\t\t\tvar replaced = \"\";\r\n\t\t\t\tif (parsed.contains(\"Test\")) {\r\n\t\t\t\t\tcode_content = code_content.replace('class Test', 'class Main');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcode_content = 'class $class_entry {\\n\\tstatic function main() {\\n\\t\\t${get_paths.code}\\n\\t}\\n}';\r\n\t\t\t}\r\n\r\n\t\t\tcode_content = format + '\\n' + code_content;\r\n\t\t\tvar pre_loop = code_content;\r\n\r\n\t\t\tvar http = new Http('http://$site:1337');\r\n\t\t\thttp.setHeader('Authorization', \"Basic \" + Main.keys.haxelib);\r\n\t\t\thttp.onError = function(error) {\r\n\t\t\t\ttrace(error);\r\n\t\t\t}\r\n\r\n\t\t\thttp.onData = function(response) {\r\n\t\t\t\tvar parse:Response = Json.parse(response);\r\n\t\t\t\tswitch (parse.status) {\r\n\t\t\t\t\tcase Ok:\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar resp = '';\r\n\t\t\t\t\t\tvar extra = '';\r\n\r\n\t\t\t\t\t\tvar x = parse.output.split('\\n');\r\n\t\t\t\t\t\tvar truncate = false;\r\n\t\t\t\t\t\tvar max_lines = 40;\r\n\t\t\t\t\t\tif (parse.output.length > 3500) {\r\n\t\t\t\t\t\t\ttruncate = true;\r\n\t\t\t\t\t\t\tif (message.channel.asType0.id == \"663246792426782730\") {\r\n\t\t\t\t\t\t\t\tmax_lines = 105;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfor (line in x) {\r\n\t\t\t\t\t\t\tvar data = line + \"\\n\";\r\n\t\t\t\t\t\t\tif (resp.length + data.length > 3000) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresp += data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresp = resp.substring(0, resp.lastIndexOf('\\n'));\r\n\r\n\t\t\t\t\t\tvar cembed = new MessageEmbed();\r\n\t\t\t\t\t\tvar oembed = new MessageEmbed();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcembed.type = 'article';\r\n\t\t\t\t\t\toembed.type = 'article';\r\n\r\n\t\t\t\t\t\tvar code_output = '';\r\n\t\t\t\t\t\t//resp = parse.output;\r\n\r\n\t\t\t\t\t\tvar split = resp.split('\\n');\r\n\t\t\t\t\t\tfor (key => item in split) {\r\n\t\t\t\t\t\t\tif (key >= split.length - 1) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcode_output += '$key. $item \\n';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcode_output = cleanOutput(code_output, 'Main.hx', 'Main');\r\n\t\t\t\t\t\tif (truncate) {\r\n\t\t\t\t\t\t\tcode_output += '\\n//Output has been trimmed.';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar cdesc = '**Code:**\\n```hx\\n${get_paths.code}\\n```';\r\n\t\t\t\t\t\tvar odesc = '**Output:**\\n ```markdown\\n' + code_output + '```';\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar embeds = [];\r\n\t\t\t\t\t\tif (truncate) {\r\n\t\t\t\t\t\t\toembed.setDescription(odesc);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcdesc += '\\n$odesc';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcembed.setDescription(cdesc);\r\n\t\t\t\t\t\tembeds.push(cembed);\r\n\t\t\t\t\t\tif (truncate) {\r\n\t\t\t\t\t\t\tembeds.push(oembed);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// trace(cdesc);\r\n\t\t\t\t\t\t// trace(odesc);\r\n\t\t\t\t\t\t// cembed.setDescription(cdesc);\r\n\t\t\t\t\t\t// oembed.setDescription(odesc);\r\n\t\t\t\t\t\tvar url = this.codeSource(message.content);\r\n\t\t\t\t\t\tvar author = {\r\n\t\t\t\t\t\t\tname: '@' + message.author.username,\r\n\t\t\t\t\t\t\ticonURL: message.author.displayAvatarURL()\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (url == \"\") {\r\n\t\t\t\t\t\t\tcembed.setAuthor(author);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar tag = url.split('#')[1];\r\n\t\t\t\t\t\t\tcembed.setTitle('TryHaxe #$tag');\r\n\t\t\t\t\t\t\tcembed.setURL(url);\r\n\t\t\t\t\t\t\tcembed.setAuthor(author);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar date = Date.fromTime(message.createdTimestamp);\r\n\t\t\t\t\t\tvar format_date = DateTools.format(date, \"%d-%m-%Y %H:%M:%S\");\r\n\t\t\t\t\t\tvar which = (truncate) ? oembed : cembed;\r\n\t\t\t\t\t\twhich.setFooter({\r\n\t\t\t\t\t\t\ttext: 'Haxe ${this.haxe_version}',\r\n\t\t\t\t\t\t\ticonURL: 'https://cdn.discordapp.com/emojis/567741748172816404.png?v=1'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// trace(resp);\r\n\t\t\t\t\t\t// trace(parse);\r\n\t\t\t\t\t\tif (resp.length > 0) {\r\n\t\t\t\t\t\t\tmessage.reply({allowedMentions: {parse: []}, embeds: embeds})\r\n\t\t\t\t\t\t\t\t.then((succ) -> {\r\n\t\t\t\t\t\t\t\t\ttrace('${message.author.tag} at $format_date with file id:');\r\n\t\t\t\t\t\t\t\t\tif (message.deletable) {\r\n\t\t\t\t\t\t\t\t\t\tmessage.delete().then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tcase OhNo:\r\n\t\t\t\t\t\tvar compile_output = this.cleanOutput(parse.error, null, class_entry);\r\n\t\t\t\t\t\tvar errs = '';\r\n\t\t\t\t\t\tfor (line in parse.error.split('\\n')) {\r\n\t\t\t\t\t\t\tvar split = line.split('/');\r\n\t\t\t\t\t\t\terrs += split[split.length - 1] + '\\n';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar embed = parseError(errs, code_content);\r\n\t\t\t\t\t\tif (embed == null) {\r\n\t\t\t\t\t\t\tmessage.reply({\r\n\t\t\t\t\t\t\t\tallowedMentions: {parse: []},\r\n\t\t\t\t\t\t\t\tcontent: mention + '```\\n${compile_output}```'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmessage.reply({allowedMentions: {parse: []}, embeds: [embed]});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar libstr = \"\";\r\n\t\t\tfor (lib in libs) {\r\n\t\t\t\tlibstr += '$lib';\r\n\t\t\t}\r\n\r\n\t\t\tvar request:Request = {\r\n\t\t\t\taction: Run,\r\n\t\t\t\tinput: code_content,\r\n\t\t\t\thxml: libstr\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttrace(request);\r\n\r\n\t\t\tvar str = Json.stringify(request);\r\n\t\t\thttp.setPostData(str);\r\n\t\t\thttp.request(true);\r\n\t\t\treturn;\r\n\t\t\tvar filename = \"\";\r\n\t\t\tFs.appendFile(\r\n\t\t\t\t'${this.base_path}/hx/$filename.hx',\r\n\t\t\t\tcode_content + '//User:${message.author.tag} | time: ${Date.now()}',\r\n\t\t\t\t(error) -> {\r\n\t\t\t\t\tif (error != null) {\r\n\t\t\t\t\t\ttrace(error);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar commands = [\r\n\t\t\t\t\t\t'-cp',\r\n\t\t\t\t\t\t'${this.base_path}/hx',\r\n\t\t\t\t\t\t'-main',\r\n\t\t\t\t\t\tfilename,\r\n\t\t\t\t\t\t'-js',\r\n\t\t\t\t\t\t'${this.base_path}/bin/$filename.js'\r\n\t\t\t\t\t];\r\n\r\n\t\t\t\t\tvar process = './haxe/haxe';\r\n\t\t\t\t\tif (!FileSystem.exists(process)) {\r\n\t\t\t\t\t\tprocess = 'haxe';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar ls = spawn(process, libs.concat(commands), {timeout: this.timeout});\r\n\r\n\t\t\t\t\t// to debug code output\r\n\t\t\t\t\t// ls.stdout.on('data', (data:String) -> {\r\n\t\t\t\t\t// \ttrace('stdout: ' + this.cleanOutput(data, filename, class_entry));\r\n\t\t\t\t\t// });\r\n\r\n\t\t\t\t\tls.stderr.once('data', (data) -> {\r\n\t\t\t\t\t\tvar compile_output = this.cleanOutput(data, filename, class_entry);\r\n\t\t\t\t\t\tpre_loop = pre_loop.replace(filename, class_entry);\r\n\r\n\t\t\t\t\t\tvar embed = this.parseError(compile_output, pre_loop);\r\n\r\n\t\t\t\t\t\tif (embed == null) {\r\n\t\t\t\t\t\t\tmessage.reply({\r\n\t\t\t\t\t\t\t\tallowedMentions: {parse: []},\r\n\t\t\t\t\t\t\t\tcontent: mention + '```\\n${compile_output}```'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tembed.setDescription(this.cleanOutput(embed.description, filename,\r\n\t\t\t\t\t\t\t\tclass_entry));\r\n\t\t\t\t\t\t\tmessage.reply({allowedMentions: {parse: []}, embeds: [embed]});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tls.kill('SIGTERM');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tls.once('close', (data) -> {\r\n\t\t\t\t\t\tvar response = \"\";\r\n\t\t\t\t\t\tvar js_file = '${this.base_path}/bin/$filename.js';\r\n\t\t\t\t\t\tif (!FileSystem.exists(js_file)) {\r\n\t\t\t\t\t\t\ttrace('Code likely errored and didnt compile ($filename.js)');\r\n\t\t\t\t\t\t\tls.kill('SIGTERM');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar obj = null;\r\n\r\n\t\t\t\t\t\tvar vm = new NodeVM({\r\n\t\t\t\t\t\t\tsandbox: obj,\r\n\t\t\t\t\t\t\tconsole: 'redirect',\r\n\t\t\t\t\t\t\ttimeout: this.timeout,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tvm.on('console.log', (data, info) -> {\r\n\t\t\t\t\t\t\tvar regex = ~/H[0-9]*..hx:[0-9]*.: (.*)/gm;\r\n\t\t\t\t\t\t\tif (regex.match(data)) {\r\n\t\t\t\t\t\t\t\tdata = regex.matched(1);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (info != null) {\r\n\t\t\t\t\t\t\t\tresponse += '$info\\n';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tresponse += '$data\\n';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tvm.run(sys.io.File.getContent(js_file));\r\n\r\n\t\t\t\t\t\t\tvar x = response.split('\\n');\r\n\t\t\t\t\t\t\tvar truncated = false;\r\n\t\t\t\t\t\t\tif (x.length > 24) {\r\n\t\t\t\t\t\t\t\ttruncated = true;\r\n\t\t\t\t\t\t\t\tresponse = \"\";\r\n\t\t\t\t\t\t\t\tfor (line in x.slice(x.length - 23)) {\r\n\t\t\t\t\t\t\t\t\tresponse += line + \"\\n\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvar embed = new MessageEmbed();\r\n\t\t\t\t\t\t\tembed.type = 'article';\r\n\t\t\t\t\t\t\tvar code_output = '';\r\n\t\t\t\t\t\t\tvar split = response.split('\\n');\r\n\t\t\t\t\t\t\tfor (key => item in split) {\r\n\t\t\t\t\t\t\t\tif (key >= split.length - 1) {\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tcode_output += '$key. $item \\n';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (truncated) {\r\n\t\t\t\t\t\t\t\tcode_output += '\\n//Output has been trimmed.';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvar desc = '**Code:**\\n```hx\\n${get_paths.code}``` **Output:**\\n ```markdown\\n'\r\n\t\t\t\t\t\t\t\t+ code_output\r\n\t\t\t\t\t\t\t\t+ '\\n```';\r\n\t\t\t\t\t\t\tembed.setDescription(desc);\r\n\r\n\t\t\t\t\t\t\tvar url = this.codeSource(message.content);\r\n\t\t\t\t\t\t\tvar author = {\r\n\t\t\t\t\t\t\t\tname: '@' + message.author.tag,\r\n\t\t\t\t\t\t\t\ticonURL: message.author.displayAvatarURL()\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (url == \"\") {\r\n\t\t\t\t\t\t\t\tembed.setAuthor(author);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar tag = url.split('#')[1];\r\n\t\t\t\t\t\t\t\tembed.setTitle('TryHaxe #$tag');\r\n\t\t\t\t\t\t\t\tembed.setURL(url);\r\n\t\t\t\t\t\t\t\tembed.setAuthor(author);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvar date = Date.fromTime(message.createdTimestamp);\r\n\t\t\t\t\t\t\tvar format_date = DateTools.format(date, \"%d-%m-%Y %H:%M:%S\");\r\n\r\n\t\t\t\t\t\t\tembed.setFooter({\r\n\t\t\t\t\t\t\t\ttext: 'Haxe ${this.haxe_version}',\r\n\t\t\t\t\t\t\t\ticonURL: 'https://cdn.discordapp.com/emojis/567741748172816404.png?v=1'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (response.length > 0 && data == 0) {\r\n\t\t\t\t\t\t\t\tmessage.reply({allowedMentions: {parse: []}, embeds: [embed]})\r\n\t\t\t\t\t\t\t\t\t.then((succ) -> {\r\n\t\t\t\t\t\t\t\t\t\ttrace(\r\n\t\t\t\t\t\t\t\t\t\t\t'${message.author.tag} at $format_date with file id: ${filename}'\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\tif (message.deletable) {\r\n\t\t\t\t\t\t\t\t\t\t\tmessage.delete().then(null, function(err) {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tls.kill();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e ) {\r\n\t\t\t\t\t\t\tvar compile_output = this.cleanOutput(e.message, filename, class_entry);\r\n\t\t\t\t\t\t\tmessage.reply({\r\n\t\t\t\t\t\t\t\tallowedMentions: {parse: []},\r\n\t\t\t\t\t\t\t\tcontent: mention + '```\\n${compile_output}```'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\ttrace(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t} catch (e:Dynamic ) {\r\n\t\t\ttrace(e);\r\n\t\t\tthis.channel.send({content: mention + \"Code failed to execute.\"});\r\n\t\t}\r\n\t}\r\n\r\n\tvar base_path(get, never):String;\r\n\r\n\tfunction get_base_path():String {\r\n\t\tvar path = FileSystem.absolutePath('.');\r\n\t\tif (!FileSystem.exists(path + '/haxebot')) {\r\n\t\t\tFileSystem.createDirectory(path + '/haxebot');\r\n\t\t}\r\n\t\tpath += '/haxebot';\r\n\t\tvar date = DateTools.format(Date.now(), '%F');\r\n\t\tpath += '/$date';\r\n\t\tif (!FileSystem.exists(path)) {\r\n\t\t\tFileSystem.createDirectory(path);\r\n\t\t}\r\n\r\n\t\tif (!FileSystem.exists(path + '/hx')) {\r\n\t\t\tFileSystem.createDirectory(path + '/hx');\r\n\t\t}\r\n\r\n\t\tif (!FileSystem.exists(path + '/bin')) {\r\n\t\t\tFileSystem.createDirectory(path + '/bin');\r\n\t\t}\r\n\t\treturn path;\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn '!run';\r\n\t}\r\n}\r\n","package sys;\r\n\r\nimport js.node.Fs;\r\nimport js.node.Path;\r\n#if haxe4\r\nimport js.lib.Error;\r\n#else\r\nimport js.Error;\r\n#end\r\n\r\n@:dce\r\n@:coreApi\r\nclass FileSystem {\r\n\tpublic static function exists(path:String):Bool {\r\n\t\treturn try {\r\n\t\t\tFs.accessSync(path);\r\n\t\t\ttrue;\r\n\t\t} catch (_:Dynamic) false;\r\n\t}\r\n\r\n\tpublic static inline function rename(path:String, newPath:String):Void {\r\n\t\tFs.renameSync(path, newPath);\r\n\t}\r\n\r\n\tpublic static inline function stat(path:String):sys.FileStat {\r\n\t\treturn cast Fs.statSync(path);\r\n\t}\r\n\r\n\tpublic static inline function fullPath(relPath:String):String {\r\n\t\treturn try Fs.realpathSync(relPath) catch (e:Dynamic) null;\r\n\t}\r\n\r\n\tpublic static inline function absolutePath(relPath:String):String {\r\n\t\tif (haxe.io.Path.isAbsolute(relPath))\r\n\t\t\treturn relPath;\r\n\t\treturn js.node.Path.resolve(relPath);\r\n\t}\r\n\r\n\tpublic static function isDirectory(path:String):Bool {\r\n\t\treturn try Fs.statSync(path).isDirectory() catch (e:Dynamic) false;\r\n\t}\r\n\r\n\tpublic static function createDirectory(path:String):Void {\r\n\t\ttry {\r\n\t\t\tFs.mkdirSync(path);\r\n\t\t} catch (e:Dynamic) {\r\n\t\t\tif (e.code == \"ENOENT\") {\r\n\t\t\t\t// parent doesn't exist - create parent and then this dir\r\n\t\t\t\tcreateDirectory(Path.dirname(path));\r\n\t\t\t\tFs.mkdirSync(path);\r\n\t\t\t} else {\r\n\t\t\t\t// some other error - check if path is a dir, rethrow the error if not\r\n\t\t\t\t// (the `(e : Error)` cast is here to avoid HaxeError wrapping, though we need to investigate this in Haxe itself)\r\n\t\t\t\tvar stat = try Fs.statSync(path) catch (_:Dynamic) throw(e : Error);\r\n\t\t\t\tif (!stat.isDirectory())\r\n\t\t\t\t\tthrow(e : Error);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static inline function deleteFile(path:String):Void {\r\n\t\tFs.unlinkSync(path);\r\n\t}\r\n\r\n\tpublic static inline function deleteDirectory(path:String):Void {\r\n\t\tif (exists(path)) {\r\n\t\t\tfor (file in readDirectory(path)) {\r\n\t\t\t\tvar curPath = path + \"/\" + file;\r\n\t\t\t\tif (isDirectory(curPath)) {\r\n\t\t\t\t\tdeleteDirectory(curPath);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdeleteFile(curPath);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tjs.node.Fs.rmdirSync(path);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static inline function readDirectory(path:String):Array<String> {\r\n\t\treturn Fs.readdirSync(path);\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\n\r\nclass Say extends CommandBase {\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Say(message, message_id):\r\n\t\t\t\tif (message_id == null) {\r\n\t\t\t\t\tinteraction.channel.sendTyping().then((_) -> {\r\n\t\t\t\t\t\tinteraction.channel.send({content: message}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\tinteraction.reply({content: \"sent\", ephemeral: true}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinteraction.channel.messages.fetch(message_id).then(function(reply) {\r\n\t\t\t\t\t\treply.asType0.reply({content: message})\r\n\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t\tinteraction.reply({content: \"sent\", ephemeral: true}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\t}\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'say';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport discord_js.TextChannel;\r\nimport js.html.URL;\r\nimport discord_js.MessageEmbed;\r\nimport haxe.Json;\r\nimport haxe.Http;\r\nimport discord_js.User;\r\nimport discord_js.Message;\r\nimport Main.CommandForward;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\nimport js.Browser;\r\n\r\nclass ScamPrevention extends CommandBase {\r\n\t@:fastFamily var messages:{forward:CommandForward, message:Message};\r\n\tvar time_since:Map<String, Float> = new Map();\r\n\tvar sequential_tags:Map<String, Int> = new Map();\r\n\tvar user_list:Map<String, User> = new Map();\r\n\tvar trigger_messages:Map<String, Array<Message>> = new Map();\r\n\r\n\tvar phishing_urls:Array<String> = [];\r\n\tvar phishing_update_time:Float;\r\n\r\n\tvar timestamp(get, never):Float;\r\n\tfinal last_message_interval = 5000;\r\n\t\r\n\tfinal queue_time = 10000; //40 seconds\r\n\tvar hold_list:Map<String, Message> = [];\r\n\r\n\tfunction singleMessageCheck(message:Message) {\r\n\t\tif (!message.content.contains('@everyone') && !message.content.contains('@here')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (hasLink(message.content)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\tvar counter = 0;\r\n\t\tif (checkContent([message])) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction hasLink(message:String) {\r\n\t\tvar markdown = ~/\\[.*?\\]\\(.*?\\)/gmi;\r\n\t\tif (markdown.match(message)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tvar https = ~/https:\\/\\/.*?\\..*?[\\/|\\s]/gmi;\r\n\t\tif (https.match(message)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\t\titerate(messages, entity -> {\r\n\t\t\tif (forward != scam_prevention) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.singleMessageCheck(message)) {\r\n\t\t\t\thold_list.set(message.id, message);\r\n\t\t\t}\r\n\r\n\t\t\tif (withinTime(message.createdTimestamp, last_message_interval)) {\r\n\t\t\t\tthis.updateTime(message.author.id);\r\n\t\t\t\tthis.addMessage(message.author.id, message);\r\n\t\t\t}\r\n\r\n\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t});\r\n\r\n\t\tthis.getPhishingLinks();\r\n\r\n\t\tfor (messages in this.trigger_messages) {\r\n\t\t\tif (this.checkPhishingLinks(messages)) {\r\n\t\t\t\tthis.banUser(messages);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (messages.length < 3) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tfor (m in messages) {\r\n\t\t\t\tif (this.hold_list.exists(m.id)) {\r\n\t\t\t\t\thold_list.remove(m.id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar review = false;\r\n\t\t\tif (this.checkTags(messages)) {\r\n\t\t\t\treview = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.checkContent(messages)) {\r\n\t\t\t\treview = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.checkEquality(messages)) {\r\n\t\t\t\treview = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.checkChannels(messages)) {\r\n\t\t\t\treview = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (!review) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tthis.reviewMessage(messages);\r\n\t\t\tthis.resetChecks(messages[0].author.id);\r\n\t\t}\r\n\r\n\t\tfor (key => value in hold_list) {\r\n\t\t\tvar now = Date.now().getTime() + queue_time;\r\n\t\t\ttrace(value.createdTimestamp);\r\n\t\t\t\r\n\t\t\tif (withinTime(value.createdTimestamp, queue_time)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tthis.reviewMessage([value]);\r\n\t\t\tthis.resetChecks(value.author.id);\r\n\t\t\tthis.hold_list.remove(key);\r\n\t\t}\r\n\r\n\r\n\t\tfor (id => value in this.time_since) {\r\n\t\t\tif (this.timestamp - value > this.last_message_interval) {\r\n\t\t\t\tthis.resetChecks(id);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction reviewMessage(messages:Array<Message>) {\r\n\t\tvar message = messages[0];\r\n\t\tvar embed = this.reformatMessage('SPAM ALERT - Timed out', message);\r\n\r\n\t\tthis.timeoutUser(message, function(_) {\r\n\t\t\tmessage.reply({\r\n\t\t\t\tcontent: '<@&198916468312637440> Please review this message by: <@${message.author.id}>',\r\n\t\t\t\tembeds: [embed]\r\n\t\t\t}).then(function(_) {\r\n\t\t\t\tfor (message in messages) {\r\n\t\t\t\t\tmessage.delete().then(null, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tinline function resetChecks(id:String) {\r\n\t\tthis.time_since.remove(id);\r\n\t\tthis.user_list.remove(id);\r\n\t\tthis.trigger_messages.remove(id);\r\n\t}\r\n\r\n\tinline function getPhishingLinks() {\r\n\t\tif (this.timestamp - this.phishing_update_time < 1000 * 60 * 60 * 6) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tphishing_update_time = this.timestamp;\r\n\t\tvar links = new Http(\r\n\t\t\t'https://raw.githubusercontent.com/Discord-AntiScam/scam-links/main/urls.json'\r\n\t\t);\r\n\t\tlinks.onData = function(data) {\r\n\t\t\ttry {\r\n\t\t\t\tphishing_urls = Json.parse(data);\r\n\t\t\t} catch (e ) {\r\n\t\t\t\ttrace(e);\r\n\t\t\t\ttrace('error parsing phishing links');\r\n\t\t\t\tthis.phishing_update_time = this.timestamp - 1000 * 60 * 60 * 5;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlinks.request();\r\n\t}\r\n\r\n\tfunction timeoutUser(message:Message, ?callback:(_:Dynamic) -> Void) {\r\n\t\tmessage.guild.members.fetch(message.author.id).then(function(guild_member) {\r\n\t\t\tthis.logMessage(message.author.id,\r\n\t\t\t\tthis.reformatMessage('Original Message', message, false), TIMEOUT);\r\n\t\t\tguild_member.timeout(\r\n\t\t\t\t1000 * 60 * 60 * 12,\r\n\t\t\t\t'Stop spamming, a mod will review this at their convenience.'\r\n\t\t\t)\r\n\t\t\t\t.then(callback, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\tthis.resetChecks(message.author.id);\r\n\t\t}, function(err) {\r\n\t\t\ttrace(err);\r\n\t\t\tBrowser.console.dir(err);\r\n\t\t});\r\n\t}\r\n\r\n\tinline function checkChannels(messages:Array<Message>) {\r\n\t\tvar channel_count = 0;\r\n\t\tfor (k => m in messages) {\r\n\t\t\tif (k == 0) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvar last = messages[k - 1];\r\n\t\t\tif (last.channel.asType0.id != m.channel.asType0.id) {\r\n\t\t\t\tchannel_count++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn channel_count > 2;\r\n\t}\r\n\r\n\tfunction banUser(messages:Array<Message>, ?callback:(_:Dynamic) -> Void) {\r\n\t\tvar message = messages[0];\r\n\t\tmessage.guild.members.fetch(message.author.id).then(function(guild_member) {\r\n\t\t\tfor (message in messages) {\r\n\t\t\t\tthis.logMessage(message.author.id,\r\n\t\t\t\t\tthis.reformatMessage('Original Message', message, false), BAN);\r\n\t\t\t}\r\n\t\t\tguild_member.ban({\r\n\t\t\t\tdays: 1,\r\n\t\t\t\treason: \"found phishing links, auto banned.\"\r\n\t\t\t}).then(null, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t\tthis.resetChecks(message.author.id);\r\n\t\t\tmessage.channel.asType0.send(\r\n\t\t\t\t'User <@${message.author.id}> has been auto banned for sending scam links.'\r\n\t\t\t)\r\n\t\t\t\t.then(callback, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t}, function(err) {\r\n\t\t\ttrace(err);\r\n\t\t\tBrowser.console.dir(err);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction logMessage(id:String, embed:MessageEmbed, action:UserActions) {\r\n\t\tembed.description += '\\n\\n Action: **__${action}__**';\r\n\r\n\t\tMain.client.channels.fetch('952952631079362650').then(function(channel:TextChannel) {\r\n\t\t\tchannel.send({content: '<@$id>', embeds: [embed]});\r\n\t\t}, function(err) {\r\n\t\t\ttrace(err);\r\n\t\t\tBrowser.console.dir(err);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction checkContent(messages:Array<Message>) {\r\n\t\tvar keywords = ['$', 'crypto', 'market', 'profit', '£', 'nudes', 'free', 'gift', 'steam', 'telegram', 'giftcard', 'whatsapp', 'girls', 'sexy', 'teen', 'port', 'nsfw', '%', 'nitro', 'airdrop', 'forex', 'pay'];\r\n\t\tfor (m in messages) {\r\n\t\t\tfor (key in keywords) {\r\n\t\t\t\tif (m.content.toLowerCase().contains(key)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction checkPhishingLinks(messages:Array<Message>) {\r\n\t\tfor (message in messages) {\r\n\t\t\tfor (link in this.phishing_urls) {\r\n\t\t\t\tif (message.content.contains(link)) {\r\n\t\t\t\t\tvar regex = ~/((((https?:)(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)/gm;\r\n\t\t\t\t\tif (regex.match(message.content)) {\r\n\t\t\t\t\t\tvar url = new URL(regex.matched(1));\r\n\t\t\t\t\t\tvar arr = [~/(.*)?.?(discordapp.com)/gu, ~/(.*)?.?(twitch.tv)/gu];\r\n\t\t\t\t\t\tvar whitelisted = false;\r\n\t\t\t\t\t\tfor (url_host_regex in arr) {\r\n\t\t\t\t\t\t\tif (url_host_regex.match(url.hostname)) {\r\n\t\t\t\t\t\t\t\twhitelisted = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (whitelisted) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (url.hostname.length == 0 || url.hostname == null) {\r\n\t\t\t\t\t\t\ttrace(regex.matched(1));\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (link != url.hostname) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction checkTags(messages:Array<Message>) {\r\n\t\tvar tag_count = 0;\r\n\r\n\t\tfor (message in messages) {\r\n\t\t\tif (message.content.contains('@everyone') || message.content.contains('@here')) {\r\n\t\t\t\tif (tag_count >= 3) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\ttag_count++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (tag_count >= 3) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction checkEquality(messages:Array<Message>) {\r\n\t\tvar equality_count = 0;\r\n\t\tvar channel_count = 0;\r\n\r\n\t\tvar compare = messages[0];\r\n\t\tfor (message in messages) {\r\n\t\t\ttry {\r\n\t\t\t\tvar content = message.content;\r\n\t\t\t\tif (compare.content == content) {\r\n\t\t\t\t\tequality_count++;\r\n\t\t\t\t}\r\n\t\t\t\tif (compare.channel.asType0.id != message.channel.asType0.id) {\r\n\t\t\t\t\tchannel_count++;\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\ttrace(e);\r\n\t\t\t\ttrace(Json.stringify(messages));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (equality_count == messages.length && equality_count >= 3 && channel_count >= 4) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction reformatMessage(title:String, message:Message, format:Bool = true) {\r\n\t\tvar embed = new MessageEmbed();\r\n\t\tvar content = message.content;\r\n\r\n\t\tif (title != null) {\r\n\t\t\tembed.setTitle(title);\r\n\t\t}\r\n\r\n\t\tif (format) {\r\n\t\t\tvar link_regex = ~/(https?:\\/\\/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9])(:?\\d*)\\/?([a-z_\\/0-9\\-#.]*)\\??([a-z_\\/0-9\\-#=&]*)/ig;\r\n\r\n\t\t\tif (link_regex.match(content)) {\r\n\t\t\t\tcontent = link_regex.replace(content, '[Link Removed]');\r\n\t\t\t}\r\n\r\n\t\t\tvar markdown_regex = ~/\\[.*\\)/ig;\r\n\r\n\t\t\tif (markdown_regex.match(content)) {\r\n\t\t\t\tcontent = markdown_regex.replace(content, '[Content Removed]');\r\n\t\t\t}\r\n\r\n\t\t\tcontent = content.replace(\"#\", \"\");\r\n\t\t}\r\n\r\n\t\tvar rand = Math.random();\r\n\t\tvar avatar = if (rand >= 0 && rand < 0.33) {\r\n\t\t\tmuffin;\r\n\t\t} else if (rand >= 0.33 && rand < 0.66) {\r\n\t\t\tbulby;\r\n\t\t} else {\r\n\t\t\tbsod;\r\n\t\t}\r\n\r\n\t\tembed.setAuthor({name: '${message.author.tag}', iconURL: avatar});\r\n\t\tembed.setDescription(content);\r\n\r\n\t\treturn embed;\r\n\t}\r\n\r\n\tinline function updateTime(user:String) {\r\n\t\tthis.time_since.set(user, this.timestamp);\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {}\r\n\r\n\tprivate inline function get_timestamp() {\r\n\t\treturn Date.now().getTime();\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'scamprevention';\r\n\t}\r\n\r\n\tfunction addMessage(id:String, message:Message) {\r\n\t\tvar messages = this.trigger_messages.get(id);\r\n\t\tif (messages == null) {\r\n\t\t\tmessages = [];\r\n\t\t}\r\n\t\tmessages.push(message);\r\n\t\tthis.trigger_messages.set(id, messages);\r\n\t}\r\n}\r\n\r\nenum abstract UserActions(String) {\r\n\tvar NONE;\r\n\tvar TIMEOUT;\r\n\tvar BAN;\r\n}\r\n\r\nenum abstract CopLogo(String) to String {\r\n\tvar muffin = 'https://github.com/Jarrio/Haxebot/blob/master/bin/resources/images/muffin_haxe_cop.png?raw=true&rf=1';\r\n\tvar bulby = 'https://github.com/Jarrio/Haxebot/blob/master/bin/resources/images/bulby_haxe_cop.png?raw=true';\r\n\tvar bsod = 'https://github.com/Jarrio/Haxebot/blob/master/bin/resources/images/bsod_haxe_cop.png?raw=true';\r\n}\r\n","package discord_js;\r\n\r\nimport haxe.extern.EitherType;\r\n\r\ntypedef EmbedAuthorData = {\r\n\tvar name:String;\r\n\t@:optional var url:String;\r\n\t@:optional var iconURL:String;\r\n}\r\n\r\ntypedef EmbedFooterData = {\r\n\tvar text:String;\r\n\t@:optional var iconURL:String;\r\n}\r\n\r\n@:jsRequire('@discordjs/builders', 'EmbedBuilder')\r\nextern class MessageEmbed {\r\n\tfunction new(?data:ts.AnyOf2<MessageEmbed, MessageEmbedOptions>);\r\n\tpublic var data:Dynamic;\r\n\tpublic var author : Null<MessageEmbedAuthor>;\r\n\tpublic var color : Null<Float>;\r\n\tpublic final createdAt : Null<js.lib.Date>;\r\n\tpublic var description(get, set) : Null<String>;\r\n\tpublic inline function set_description(value:String):String {\r\n\t\tvar desc = this.data.description;\r\n\t\tthis.setDescription(desc + value);\r\n\t\treturn this.data.description;\r\n\t}\r\n\tpublic inline function get_description():String {\r\n\t\treturn this.data.description;\r\n\t}\r\n\r\n\tpublic var fields : Array<EmbedField>;\r\n\tpublic var files : Array<ts.AnyOf3<String, FileOptions, MessageAttachment>>;\r\n\tpublic var footer : Null<MessageEmbedFooter>;\r\n\tpublic final hexColor : Null<String>;\r\n\tpublic var image : Null<MessageEmbedImage>;\r\n\tpublic final length : Float;\r\n\tpublic var provider : Null<MessageEmbedProvider>;\r\n\tpublic var thumbnail : Null<MessageEmbedThumbnail>;\r\n\tpublic var timestamp : Null<Float>;\r\n\tpublic var title : Null<String>;\r\n\tpublic var type : String;\r\n\tpublic var url : Null<String>;\r\n\tpublic final video : Null<MessageEmbedVideo>;\r\n\tpublic function addFields(fields:...Field):MessageEmbed;\r\n\tpublic function attachFiles(file:Array<ts.AnyOf3<String, FileOptions, MessageAttachment>>):MessageEmbed;\r\n\tpublic function setAuthor(options:EmbedAuthorData):MessageEmbed;\r\n\tpublic function setColor(color:ColorResolvable):MessageEmbed;\r\n\tpublic function setDescription(description:Dynamic):MessageEmbed;\r\n\tpublic function setFooter(data:EmbedFooterData):MessageEmbed;\r\n\tpublic function setImage(url:String):MessageEmbed;\r\n\tpublic function setThumbnail(url:String):MessageEmbed;\r\n\tpublic function setTimestamp(?timestamp:ts.AnyOf2<Float, js.lib.Date>):MessageEmbed;\r\n\tpublic function setTitle(title:String):MessageEmbed;\r\n\tpublic function setURL(url:String):MessageEmbed;\r\n\tpublic function spliceFields(index:Float, deleteCount:Float, fields:haxe.extern.Rest<Any>):MessageEmbed;\r\n\tpublic function toJSON():Dynamic;\r\n\tstatic var prototype : MessageEmbed;\r\n\tpublic static function normalizeField(name:Dynamic, value:Dynamic, ?inline_:Bool):{\r\n\t\tvar name : Dynamic;\r\n\t\tvar value : Dynamic;\r\n\t\t@:native(\"inline\")\r\n\t\tvar inline_ : Bool;\r\n\t};\r\n\tpublic static function normalizeFields(fields:haxe.extern.Rest<Any>):Array<{\r\n\t\tvar name : Dynamic;\r\n\t\tvar value : Dynamic;\r\n\t\t@:native(\"inline\")\r\n\t\tvar inline_ : Bool;\r\n\t}>;\r\n}\r\n\r\n@:structInit\r\nclass Field {\r\n\tvar name:String;\r\n\tvar value:String;\r\n\t@:native('inline')\r\n\tvar _inline:Null<Bool>;\r\n\tpublic function new(name:String, value:String, ?in_line:Bool) {\r\n\t\tthis.name = name;\r\n\t\tthis.value = value;\r\n\t\tthis._inline = in_line;\r\n\t}\r\n}","package commands;\r\n\r\nimport haxe.PosInfos;\r\nimport discord_js.WebhookClient;\r\nimport discord_builder.ButtonBuilder;\r\nimport discord_js.ThreadChannel;\r\nimport components.ShowcaseModalSubmit;\r\nimport discord_builder.APIActionRowComponent;\r\nimport discord_js.TextChannel;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport Main.CommandForward;\r\nimport discord_js.Message;\r\nimport systems.CommandBase;\r\nimport js.Browser;\r\nclass Showcase extends CommandBase {\r\n\tvar channel:TextChannel;\r\n\t#if block\r\n\tfinal channel_id = '1100053767493255182';\r\n\t#else\r\n\tfinal channel_id = '162664383082790912';\r\n\t#end\r\n\r\n\tvar webhook:WebhookClient;\r\n\tvar checking = false;\r\n\t@:fastFamily var modal:{command:BaseCommandInteraction, modal:ShowcaseModalSubmit};\r\n\t@:fastFamily var messages:{command:CommandForward, message:Message};\r\n\t@:fastFamily var interactions:{command:CommandForward, interaction:BaseCommandInteraction};\r\n\r\n\tpublic function new(_) {\r\n\t\tsuper(_);\r\n\t\tvar hook = Main.keys.showcase_hook;\r\n\t\t#if block\r\n\t\thook = Main.keys.showcase_hook_debug;\r\n\t\t#end\r\n\t\tthis.webhook = new WebhookClient({url: hook});\r\n\t}\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\r\n\t\tif (this.channel == null && !checking) {\r\n\t\t\tchecking = true;\r\n\t\t\tMain.client.channels.fetch(this.channel_id).then(function(channel) {\r\n\t\t\t\tthis.channel = channel;\r\n\t\t\t\tchecking = false;\r\n\t\t\t\ttrace('loaded showcase channel');\r\n\t\t\t}, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (channel == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\titerate(modal, entity -> {\r\n\t\t\tthis.channel.send('${modal.title_or_link} \\n ${modal.description}').then(function(_) {\r\n\t\t\t\tcommand.reply('Your post was submitted to the showcase channel!');\r\n\t\t\t});\r\n\r\n\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t});\r\n\r\n\t\titerate(messages, entity -> {\r\n\t\t\tswitch(command) {\r\n\t\t\t\tcase showcase_message:\r\n\t\t\t\t\tvar regex = ~/https?:\\/\\/(?:www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&\\/=]*)/ig;\r\n\r\n\t\t\t\t\tif (!regex.match(message.content) && message.attachments.size == 0) {\r\n\t\t\t\t\t\tvar content = '```\\n${message.content}\\n```';\r\n\t\t\t\t\t\tcontent += '\\nYour message was removed due to not having any attachments or links. Please chat within threads only.\\n';\r\n\t\t\t\t\t\tcontent += '**Showcase Channel guidelines:**\\n\\n';\r\n\t\t\t\t\t\tcontent += '1. Programming projects must be haxe related\\n2. Comments on posts should be made within threads\\n3. Art and Music showcases are allowed here';\r\n\r\n\t\t\t\t\t\tmessage.author.send({content: content}).then(function(succ) {\r\n\t\t\t\t\t\t\tmessage.delete().then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\tcase showcase:\r\n\t\t\t\t\tvar thread = cast(message.channel.asType0, ThreadChannel);\r\n\t\t\t\t\tif (!message.channel.asType0.isThread()) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t#if !block\r\n\t\t\t\t\tif (thread.id != \"1024905470621798410\") { // TODO: (LD thread id) better solution\r\n\t\t\t\t\t\tif (thread.ownerId != message.author.id) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t#end\r\n\t\t\t\t\tvar arr = [];\r\n\r\n\t\t\t\t\tvar content = message.content.substring(10).trim();\r\n\t\t\t\t\tfor (a in message.attachments) {\r\n\t\t\t\t\t\tarr.push(a);\r\n\t\t\t\t\t\ttrace(a);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar name = message.author.username;\r\n\t\t\t\t\tif (message.member.nickname != null && message.member.nickname.length > 0) {\r\n\t\t\t\t\t\tname = message.member.nickname;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar cont = () -> this.webhook.send({\r\n\t\t\t\t\t\tcontent: '***Continue the conversation at - <#${thread.id}>***',\r\n\t\t\t\t\t\tusername: name,\r\n\t\t\t\t\t\tavatarURL: message.author.avatarURL()\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// trace(message.attachments);\r\n\t\t\t\t\tthis.webhook.send({\r\n\t\t\t\t\t\tcontent: content,\r\n\t\t\t\t\t\tusername: name,\r\n\t\t\t\t\t\tavatarURL: message.author.avatarURL(),\r\n\t\t\t\t\t\tfiles: arr\r\n\t\t\t\t\t}).then(function(_) {\r\n\t\t\t\t\t\tcont();\r\n\t\t\t\t\t}, function(err:{message:String}) {\r\n\t\t\t\t\t\tif (err != null && err.message.contains(\"Request entity too large\")) {\r\n\t\t\t\t\t\t\tthis.webhook.send({\r\n\t\t\t\t\t\t\t\tcontent: content + '\\n' + arr[0].url,\r\n\t\t\t\t\t\t\t\tusername: name,\r\n\t\t\t\t\t\t\t\tavatarURL: message.author.avatarURL()\r\n\t\t\t\t\t\t\t}).then(function(_) {\r\n\t\t\t\t\t\t\t\tcont();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\titerate(interactions, entity -> {\r\n\t\t\tif (command == CommandForward.showcase_agree) {\r\n\t\t\t\tinteraction.member.roles.add('1021517470080700468').then(function(success) {\r\n\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\tcontent: 'Thanks! You can now post in <#162664383082790912>',\r\n\t\t\t\t\t\tephemeral: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (command == CommandForward.showcase_disagree) {\r\n\t\t\t\tinteraction.reply({content: \"Keep on lurking :)\", ephemeral: true});\r\n\t\t\t}\r\n\r\n\t\t\tswitch(command) {\r\n\t\t\t\tcase showcase_agree | showcase_disagree:\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tvar text = 'If your post does not contain either an __**attachment**__ or a __**link**__, the post will be removed. Any comments on any of the works posted in the <#162664383082790912> channel should be made within threads. \\n\\n**Guidelines**\\n1. Programming projects must be haxe related\\n2. Comments on posts should be made within threads\\n3. Art and Music showcases are allowed here';\r\n\t\tvar agree_btn = new ButtonBuilder().setCustomId('showcase_agree')\r\n\t\t\t.setLabel('Agree')\r\n\t\t\t.setStyle(Primary);\r\n\t\tvar disagree_btn = new ButtonBuilder().setCustomId('showcase_disagree')\r\n\t\t\t.setLabel('Disagree')\r\n\t\t\t.setStyle(Secondary);\r\n\t\tvar row = new APIActionRowComponent().addComponents(agree_btn, disagree_btn);\r\n\r\n\t\tinteraction.reply({content: text, components: [row], ephemeral: true});\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'showcase';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport discord_js.Message;\r\nimport Main.CommandForward;\r\nimport discord_builder.APIActionRowComponent;\r\nimport discord_builder.ButtonBuilder;\r\nimport externs.FuzzySort;\r\nimport firebase.web.firestore.DocumentSnapshot;\r\nimport discord_js.MessageEmbed;\r\nimport components.Command;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport systems.CommandDbBase;\r\nimport js.Browser;\r\n\r\nclass Snippet extends CommandDbBase {\r\n\tvar sent:Array<TSnippet> = [];\r\n\tvar tags:Array<{name:String, value:String}> = [];\r\n\tfinal results_per_page:Int = 5;\r\n\tfinal results_per_page_no_desc:Int = 20;\r\n\tvar cache:Map<String, TListState> = [];\r\n\t@:fastFamily var button_events:{command:CommandForward, interaction:BaseCommandInteraction};\r\n\r\n\toverride function onEnabled() {\r\n\t\tthis.has_subcommands = true;\r\n\t\tFirestore.onSnapshot(doc(this.db, 'discord/snippets'),\r\n\t\t\tfunction(resp:DocumentSnapshot<{tags:Array<String>}>) {\r\n\t\t\t\tvar arr = [];\r\n\t\t\t\tfor (tag in resp.data().tags) {\r\n\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\tname: tag,\r\n\t\t\t\t\t\tvalue: tag\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.tags = arr;\r\n\t\t\t\tthis.tags.sort(function(a, b) {\r\n\t\t\t\t\tif (a.name.charCodeAt(0) > b.name.charCodeAt(0)) {\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a.name.charCodeAt(0) < b.name.charCodeAt(0)) {\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\toverride function update(_) {\r\n\t\tsuper.update(_);\r\n\t\titerate(button_events, entity -> {\r\n\t\t\tvar cache = this.cache.get(interaction.user.id);\r\n\t\t\tif (cache != null) {\r\n\t\t\t\tswitch (command) {\r\n\t\t\t\t\tcase snippet_left:\r\n\t\t\t\t\t\tif (cache.page - 1 >= 0) {\r\n\t\t\t\t\t\t\tvar embed = this.formatResultOutput(cache, -1);\r\n\t\t\t\t\t\t\tcache.message.edit({embeds: [embed]});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcache.interacted_at = Date.now().getTime();\r\n\t\t\t\t\t\tinteraction.deferUpdate().then(null, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\t\t\tcase snippet_right:\r\n\t\t\t\t\t\tvar page = cache.page;\r\n\t\t\t\t\t\tvar results_pp = (cache.desc) ? results_per_page : results_per_page_no_desc;\r\n\t\t\t\t\t\tvar max = Math.ceil(cache.results.length / results_pp);\r\n\t\t\t\t\t\tif (page + 1 < max) {\r\n\t\t\t\t\t\t\tvar embed = this.formatResultOutput(cache, 1);\r\n\t\t\t\t\t\t\tcache.message.edit({embeds: [embed]});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcache.interacted_at = Date.now().getTime();\r\n\t\t\t\t\t\tinteraction.deferUpdate().then(null, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (command == snippet_left || command == snippet_right) {\r\n\t\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfor (key => item in cache) {\r\n\t\t\tvar now = Date.now().getTime();\r\n\t\t\tvar diff = now - item.interacted_at;\r\n\t\t\tif (diff < 30000) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\titem.interacted_at = now;\r\n\t\t\tvar embed = this.formatResultOutput(item, 0);\r\n\t\t\titem.message.edit({embeds: [embed], components: []}).then(function(_) {\r\n\t\t\t\tthis.cache.remove(key);\r\n\t\t\t}, function(err) {\r\n\t\t\t\tif (item.message.deleted) {\r\n\t\t\t\t\tthis.cache.remove(key);\r\n\t\t\t\t}\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase SnippetAdd(url, title, description, taga, tagb, tagc, tagd, tage):\r\n\t\t\t\tvar ac = taga;\r\n\t\t\t\tvar obj:TSnippet = {\r\n\t\t\t\t\tid: -1,\r\n\t\t\t\t\tsubmitted_by: interaction.user.id,\r\n\t\t\t\t\ttimestamp: Date.now().getTime(),\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\tdescription: description,\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\ttags: [taga]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (tagb != null) {\r\n\t\t\t\t\tac = tagb;\r\n\t\t\t\t\tobj.tags.push(tagb);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (tagc != null) {\r\n\t\t\t\t\tac = tagc;\r\n\t\t\t\t\tobj.tags.push(tagc);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (tagd != null) {\r\n\t\t\t\t\tac = tagd;\r\n\t\t\t\t\tobj.tags.push(tagd);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (tage != null) {\r\n\t\t\t\t\tac = tage;\r\n\t\t\t\t\tobj.tags.push(tage);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\tvar results = this.autoComplete(ac);\r\n\t\t\t\t\tinteraction.respond(results);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!validateURL(url)) {\r\n\t\t\t\t\tinteraction.reply('Invalid URL format');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (url.charAt(url.length - 1) == '/') {\r\n\t\t\t\t\turl = url.substring(0, url.length - 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (tag in obj.tags) {\r\n\t\t\t\t\tvar found = false;\r\n\t\t\t\t\tfor (v in this.tags) {\r\n\t\t\t\t\t\tif (tag == v.name) {\r\n\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!found) {\r\n\t\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\t'The tag __${tag}__ is not available as an option currently.'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar q = query(collection(db, 'discord/snippets/entries'),\r\n\t\t\t\t\twhere('url', EQUAL_TO, url));\r\n\t\t\t\tFirestore.getDocs(q).then(function(resp) {\r\n\t\t\t\t\tif (!resp.empty) {\r\n\t\t\t\t\t\tinteraction.reply('Snippet already exists');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar doc = doc(db, 'discord/snippets');\r\n\t\t\t\t\tFirestore.runTransaction(this.db, function(transaction) {\r\n\t\t\t\t\t\treturn transaction.get(doc).then(function(doc) {\r\n\t\t\t\t\t\t\tif (!doc.exists()) {\r\n\t\t\t\t\t\t\t\treturn {id: -1};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar data:{id:Int} = (doc.data());\r\n\t\t\t\t\t\t\tdata.id = data.id + 1;\r\n\t\t\t\t\t\t\ttransaction.update(doc.ref, data);\r\n\t\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).then(function(value) {\r\n\t\t\t\t\t\tobj.id = value.id;\r\n\t\t\t\t\t\tobj.tags.insert(0, '${value.id}');\r\n\r\n\t\t\t\t\t\tthis.addDoc('discord/snippets/entries', obj, function(_) {\r\n\t\t\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\t\t'*Snippet #${value.id} added!*\\ntitle: $title\\n$description\\n'\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\tcase SnippetSearch(taga, tagb, tagc):\r\n\t\t\t\tvar restraints = [];\r\n\t\t\t\tvar search = '';\r\n\t\t\t\tif (taga != null) {\r\n\t\t\t\t\tsearch = taga;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (tagb != null) {\r\n\t\t\t\t\tsearch = tagb;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (tagc != null) {\r\n\t\t\t\t\tsearch = tagc;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\tvar results = this.autoComplete(search);\r\n\t\t\t\t\tinteraction.respond(results);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isValidTag(taga)) {\r\n\t\t\t\t\tsearch = taga;\r\n\t\t\t\t\trestraints.push(taga);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isValidTag(tagb)) {\r\n\t\t\t\t\tsearch = tagb;\r\n\t\t\t\t\trestraints.push(tagb);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isValidTag(tagc)) {\r\n\t\t\t\t\tsearch = tagc;\r\n\t\t\t\t\trestraints.push(tagc);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (restraints != null && restraints.length > 0) {\r\n\t\t\t\t\tvar q = query(collection(this.db, 'discord/snippets/entries'),\r\n\t\t\t\t\t\twhere('tags', ARRAY_CONTAINS_ANY, restraints));\r\n\t\t\t\t\tgetDocs(q).then(function(resp) {\r\n\t\t\t\t\t\tvar res = new Array<TSnippet>();\r\n\r\n\t\t\t\t\t\tfor (doc in resp.docs) {\r\n\t\t\t\t\t\t\tres.push(doc.data());\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tres = matchTags(restraints, res);\r\n\r\n\t\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\t\tpage: 0,\r\n\t\t\t\t\t\t\tdesc: true,\r\n\t\t\t\t\t\t\tmessage: null,\r\n\t\t\t\t\t\t\tresults: res,\r\n\t\t\t\t\t\t\tinteracted_at: Date.now().getTime()\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.handleSearchResponse(interaction, obj);\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\tcase SnippetList(user, show_desc):\r\n\t\t\t\tif (show_desc == null) {\r\n\t\t\t\t\tshow_desc = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar q = query(collection(this.db, 'discord/snippets/entries'),\r\n\t\t\t\t\torderBy('id', ASCENDING));\r\n\t\t\t\tif (user != null) {\r\n\t\t\t\t\tq = query(collection(this.db, 'discord/snippets/entries'),\r\n\t\t\t\t\t\twhere('submitted_by', EQUAL_TO, user.id), orderBy('id', ASCENDING));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgetDocs(q).then(function(resp) {\r\n\t\t\t\t\tvar res = [];\r\n\r\n\t\t\t\t\tfor (doc in resp.docs) {\r\n\t\t\t\t\t\tres.push(doc.data());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tpage: 0,\r\n\t\t\t\t\t\tdesc: show_desc,\r\n\t\t\t\t\t\tmessage: null,\r\n\t\t\t\t\t\tresults: res,\r\n\t\t\t\t\t\tinteracted_at: Date.now().getTime()\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.handleSearchResponse(interaction, obj);\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\tcase SnippetEdit(id):\r\n\t\t\t\tvar q = query(collection(this.db, 'discord/snippets/entries'),\r\n\t\t\t\t\twhere('id', EQUAL_TO, id),\r\n\t\t\t\t\twhere('submitted_by', EQUAL_TO, interaction.user.id));\r\n\t\t\t\tgetDocs(q).then(function(resp) {\r\n\t\t\t\t\tif (resp.empty && !interaction.isAutocomplete()) {\r\n\t\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\t'No snippets with that id were found that could belong to you'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\t\tvar res = [];\r\n\t\t\t\t\t\tif (resp.docs.length > 0) {\r\n\t\t\t\t\t\t\tvar data = (resp.docs[0].data() : TSnippet);\r\n\t\t\t\t\t\t\tres.push({name: '${data.id} - ${data.title}', value: '${data.id}'});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tinteraction.respond(res);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tinteraction.reply('Editting currently not implemented');\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\tcase SnippetDelete(id):\r\n\t\t\t\tvar q = query(collection(this.db, 'discord/snippets/entries'),\r\n\t\t\t\t\twhere('id', EQUAL_TO, id.parseInt()),\r\n\t\t\t\t\twhere('submitted_by', EQUAL_TO, interaction.user.id));\r\n\t\t\t\tgetDocs(q).then(function(resp) {\r\n\t\t\t\t\tif (resp.empty && !interaction.isAutocomplete()) {\r\n\t\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\t'No snippets with that id were found that could belong to you'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\t\tvar res = [];\r\n\t\t\t\t\t\tif (resp.docs.length > 0) {\r\n\t\t\t\t\t\t\tvar data = (resp.docs[0].data() : TSnippet);\r\n\t\t\t\t\t\t\tres.push({name: '${data.id} - ${data.title}', value: '${data.id}'});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tinteraction.respond(res);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tFirestore.deleteDoc(resp.docs[0].ref).then(function(_) {\r\n\t\t\t\t\t\tinteraction.reply('Your snippet(#$id) has been deleted.');\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\tcase SnippetTags:\r\n\t\t\t\tvar embed = new MessageEmbed();\r\n\t\t\t\tembed.setTitle('Tags');\r\n\t\t\t\tfor (i => tag in tags) {\r\n\t\t\t\t\tif (i % 2 == 0 && i != tags.length - 1) {\r\n\t\t\t\t\t\tembed.addFields(new Field(tag.name, tags[i + 1].name, true));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (i == tags.length - 1) {\r\n\t\t\t\t\t\tembed.addFields(new Field(tag.name, '...', true));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinteraction.reply({embeds: [embed]}).then(null, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction matchTags(tags:Array<String>, results:Array<TSnippet>) {\r\n\t\tvar arr = [];\r\n\t\tfor (r in results) {\r\n\t\t\tvar matches = 0;\r\n\r\n\t\t\tfor (rtag in r.tags) {\r\n\t\t\t\tif (tags.contains(rtag)) {\r\n\t\t\t\t\tmatches++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (matches == tags.length) {\r\n\t\t\t\tarr.push(r);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tfunction handleSearchResponse(interaction:BaseCommandInteraction, state:TListState) {\r\n\t\tvar builder = new APIActionRowComponent();\r\n\t\tbuilder.addComponents(\r\n\t\t\tnew ButtonBuilder().setCustomId('snippet_left').setLabel('Prev').setStyle(Primary),\r\n\t\t\tnew ButtonBuilder().setCustomId('snippet_right').setLabel('Next').setStyle(Primary)\r\n\t\t);\r\n\r\n\t\tvar arr = [];\r\n\t\tvar results_pp = (state.desc) ? results_per_page : results_per_page_no_desc;\r\n\t\tvar max = Math.ceil(state.results.length / results_pp);\r\n\t\tif (max > 1) {\r\n\t\t\tarr = [builder];\r\n\t\t}\r\n\r\n\t\tvar embed = formatResultOutput(state, 0);\r\n\t\tvar eph = false;\r\n\t\tif (embed.description == 'No results found') {\r\n\t\t\teph = true;\r\n\t\t}\r\n\t\tinteraction.reply({\r\n\t\t\tembeds: [embed],\r\n\t\t\tcomponents: arr,\r\n\t\t\tephemeral: eph,\r\n\t\t\tfetchReply: true\r\n\t\t}).then(function(message) {\r\n\t\t\tif (!eph || max == 1) {\r\n\t\t\t\tstate.message = message;\r\n\t\t\t\tthis.cache.set(interaction.user.id, state);\r\n\t\t\t}\r\n\t\t}, function(err) {\r\n\t\t\ttrace(err);\r\n\t\t\tBrowser.console.dir(err);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction formatResultOutput(state:TListState, forward:Int) {\r\n\t\tvar embed = new MessageEmbed();\r\n\t\tvar desc = 'No results found';\r\n\t\tvar results = state.results;\r\n\t\tvar results_pp = (state.desc) ? results_per_page : results_per_page_no_desc;\r\n\t\tvar max = Math.ceil(results.length / results_pp);\r\n\r\n\t\tembed.setTitle('Snippets');\r\n\t\tif (results.length > 0) {\r\n\t\t\tdesc = '';\r\n\t\t\tif (forward == -1) {\r\n\t\t\t\tstate.page = state.page - 1;\r\n\t\t\t}\r\n\r\n\t\t\tif (forward == 1) {\r\n\t\t\t\tstate.page = state.page + 1;\r\n\t\t\t}\r\n\r\n\t\t\tvar start = 0;\r\n\t\t\tif (state.page > 0) {\r\n\t\t\t\tstart = state.page * results_pp;\r\n\t\t\t}\r\n\r\n\t\t\tvar end = start + results_pp;\r\n\r\n\t\t\tif (start < 0) {\r\n\t\t\t\tstart = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (end > results.length) {\r\n\t\t\t\tend = results.length;\r\n\t\t\t}\r\n\r\n\t\t\tfor (i => data in results.slice(start, end)) {\r\n\t\t\t\tvar count = start + i + 1;\r\n\t\t\t\tdesc += '**$count) [${data.title}](${data.url})**\\n';\r\n\t\t\t\tif (state.desc) {\r\n\t\t\t\t\tdesc += '***tags: ${data.tags.slice(1).toString().replace(',', ', ')}***\\n';\r\n\t\t\t\t\tdesc += data.description + '\\n';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tembed.setColor(0xEA8220);\r\n\t\tembed.setDescription(desc);\r\n\t\tif (results.length > 0) {\r\n\t\t\tembed.setFooter({\r\n\t\t\t\ticonURL: 'https://cdn.discordapp.com/emojis/567741748172816404.png?v=1',\r\n\t\t\t\ttext: 'Page ${state.page + 1} / ${max}'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn embed;\r\n\t}\r\n\r\n\tfunction validateURL(content:String) {\r\n\t\tvar regex = ~/((((https?:)(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)/gm;\r\n\t\tif (regex.match(content)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction autoComplete(term:String) {\r\n\t\tvar results = [];\r\n\t\tvar algo = FuzzySort.go(term, this.tags, {key: 'name', limit: 15, threshold: -1000});\r\n\r\n\t\tfor (a in algo) {\r\n\t\t\tresults.push(a.obj);\r\n\t\t}\r\n\r\n\t\tif (results.length == 0) {\r\n\t\t\tresults = this.tags.slice(0, 20);\r\n\t\t}\r\n\r\n\t\treturn results;\r\n\t}\r\n\r\n\tfunction isValidTag(tag:String) {\r\n\t\tvar found = false;\r\n\t\tfor (v in this.tags) {\r\n\t\t\tif (tag == v.name) {\r\n\t\t\t\tfound = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn found;\r\n\t}\r\n\r\n\tfunction createEmbed(obj:TSnippet) {\r\n\t\tvar embed = new MessageEmbed();\r\n\t\tembed.setTitle(obj.title);\r\n\t\tembed.setURL(obj.url);\r\n\t\tembed.setDescription(obj.description);\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'snippet';\r\n\t}\r\n}\r\n\r\ntypedef TListState = {\r\n\tvar page:Int;\r\n\tvar desc:Bool;\r\n\tvar interacted_at:Float;\r\n\tvar message:Message;\r\n\tvar results:Array<TSnippet>;\r\n}\r\n\r\ntypedef TSnippet = {\r\n\tvar id:Int;\r\n\tvar submitted_by:String;\r\n\tvar timestamp:Float;\r\n\tvar url:String;\r\n\tvar title:String;\r\n\tvar description:String;\r\n\tvar tags:Array<String>;\r\n}\r\n","package commands;\r\n\r\nimport sys.FileSystem;\r\nimport js.Browser;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\nimport Main.CommandForward;\r\nimport discord_js.Message;\r\nimport sys.io.File;\r\n\r\nclass ThreadCount extends CommandBase {\r\n\tvar count:Map<String, Int> = [];\r\n\t@:fastFamily var messages:{command:CommandForward, message:Message};\r\n\tfinal path = \"./config/threadcount.json\";\r\n\r\n\toverride function onEnabled() {\r\n\t\tif (FileSystem.exists(path)) {\r\n\t\t\tcount = Json.parse(File.getContent(path));\r\n\t\t}\r\n\t}\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\t\t#if block\r\n\t\treturn;\r\n\t\t#end\r\n\t\titerate(messages, (entity) -> {\r\n\t\t\tswitch (command) {\r\n\t\t\t\tcase thread_count:\r\n\t\t\t\t\tvar count = -1;\r\n\t\t\t\t\tvar channel = message.channel.asType0;\r\n\t\t\t\t\tif (this.count.exists(channel.id)) {\r\n\t\t\t\t\t\tcount = this.count.get(channel.id) + 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcount = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.count.set(channel.id, count);\r\n\t\t\t\t\tFile.saveContent(path, Json.stringify(this.count));\r\n\t\t\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tif (this.count.exists(interaction.channelId)) {\r\n\t\t\tvar count = this.count.get(interaction.channelId);\r\n\t\t\tinteraction.reply({content: 'This thread has ${count} messages'})\r\n\t\t\t\t.then(null, function(err) {\r\n\t\t\t\t\ttrace(err);\r\n\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tvar content = '';\r\n\t\t\tcontent = switch (interaction.channel.type) {\r\n\t\t\t\tcase PUBLIC_THREAD | ANNOUNCEMENT_THREAD | PRIVATE_THREAD:\r\n\t\t\t\t\t'Either a new thread or was created before 23/04/2024. Check back later.';\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t'This is not a thread :angry:';\r\n\t\t\t}\r\n\t\t\tinteraction.reply({content: content}).then(null, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'threadcount';\r\n\t}\r\n}\r\n","package commands;\r\n\r\nimport externs.Fetch;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport components.Command;\r\nimport systems.CommandBase;\r\nimport js.Browser;\r\nclass Translate extends CommandBase {\r\n\tvar usage:TUsage;\r\n\r\n\toverride function onEnabled() {\r\n\t\tthis.getCount();\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Translate(to, message, from):\r\n\t\t\t\tif (this.usage == null) {\r\n\t\t\t\t\tinteraction.reply(\"An error occured\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.usage.character_count + message.length > this.usage.character_limit) {\r\n\t\t\t\t\tinteraction.reply(\r\n\t\t\t\t\t\t\"API has reached its limit unfortunately. Please wait till next month.\"\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.getTranslation(interaction, from, to, message);\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getCount() {\r\n\t\tthis.request('/v2/usage').then((resp) -> {\r\n\t\t\tresp.json().then(function(body:TUsage) {\r\n\t\t\t\tthis.usage = body;\r\n\t\t\t\ttrace(\r\n\t\t\t\t\t'Character count: ${this.usage.character_count}/${this.usage.character_limit}'\r\n\t\t\t\t);\r\n\t\t\t}, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getTranslation(interaction:BaseCommandInteraction, from:String, to:String,\r\n\t\t\tmessage:String) {\r\n\t\tif (from == null) {\r\n\t\t\tfrom = '';\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tthis.request(\r\n\t\t\t\t'/v2/translate?source_lang=$from&target_lang=$to&text=$message'\r\n\t\t\t)\r\n\t\t\t\t.then((resp) -> {\r\n\t\t\t\t\tresp.json().then(function(body:{translations:Array<TTranslated>}) {\r\n\t\t\t\t\t\tvar content = '';\r\n\t\t\t\t\t\tfor (item in body.translations) {\r\n\t\t\t\t\t\t\tcontent += item.text + '\\n';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tinteraction.reply(content).then((_) -> this.getCount(), function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t} catch (e ) {\r\n\t\t\ttrace('Deepl error');\r\n\t\t\ttrace(e.details);\r\n\t\t\ttrace(e.message);\r\n\t\t\ttrace(e);\r\n\t\t\tinteraction.reply('Deepl error?').then(null, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getLanguages() {\r\n\t\tthis.request('/v2/languages').then((resp) -> {\r\n\t\t\tresp.json().then(function(body:Array<TLanguage>) {\r\n\t\t\t\tvar str = '[';\r\n\t\t\t\tfor (item in body) {\r\n\t\t\t\t\tstr += '{\r\n\t\t\t\t\t\t\"name\": \"${item.name}\",\r\n\t\t\t\t\t\t\"value\": \"${item.language}\"\r\n\t\t\t\t\t},';\r\n\t\t\t\t}\r\n\t\t\t\tstr += ']';\r\n\t\t\t\ttrace(str);\r\n\t\t\t}, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tinline function request(endpoint:String) {\r\n\t\treturn Fetch.fetch('https://api-free.deepl.com$endpoint', {\r\n\t\t\tmethod: HttpMethod.GET,\r\n\t\t\theaders: {\r\n\t\t\t\t'Authorization': 'DeepL-Auth-Key ' + Main.keys.deepl_key\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'translate';\r\n\t}\r\n}\r\n\r\nprivate typedef TUsage = {\r\n\tvar character_count:Float;\r\n\tvar character_limit:Float;\r\n}\r\n\r\nprivate typedef TLanguage = {\r\n\tvar language:String;\r\n\tvar name:String;\r\n\tvar supports_formality:Bool;\r\n}\r\n\r\nprivate typedef TTranslated = {\r\n\tvar text:String;\r\n\tvar detected_source_language:String;\r\n}\r\n","package commands.events;\r\n\r\nimport sys.FileSystem;\r\nimport sys.io.File;\r\nimport js.Browser;\r\nimport discord_js.Message;\r\nimport discord_js.ThreadChannel;\r\nimport Main.CommandForward;\r\nimport ecs.System;\r\n\r\nclass PinMessageInfo extends System {\r\n\t@:fastFamily var threads:{command:CommandForward, thread:ThreadChannel};\r\n\tvar messages:Array<Message> = [];\r\n\tvar notified:Map<String, Bool> = [];\r\n\tfinal path = './config/pinmessage.json';\r\n\toverride function onEnabled() {\r\n\t\tif (FileSystem.exists(path)) {\r\n\t\t\tthis.notified = Json.parse(File.getContent(path));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction saveHistory(uid:String) {\r\n\t\tthis.notified.set(uid, true);\r\n\t\tFile.saveContent(path, Json.stringify(this.notified));\r\n\t}\r\n\r\n\toverride function update(_dt:Float) {\r\n\t\titerate(threads, entity -> {\r\n\t\t\tswitch (command) {\r\n\t\t\t\tcase thread_pin_message:\r\n\t\t\t\t\tif (notified.exists(thread.ownerId) || thread.parentId == \"162664383082790912\" /* showcase channel */) {\r\n\t\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar now = Date.now().getTime();\r\n\t\t\t\t\tif (now - thread.createdTimestamp < 10000) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthread.send(\r\n\t\t\t\t\t\t{content: '<@${thread.ownerId}> You can pin messages in your own threads by Right clicking a message -> Apps -> Pin Message\\n\\n*This message will selfdestruct in 30 seconds.*'}\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\t.then(function(message) {\r\n\t\t\t\t\t\t\tsaveHistory(thread.ownerId);\r\n\t\t\t\t\t\t\tthis.messages.push(message);\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\tif ((err?.message:String).indexOf('Unknown Channel') != -1) {\r\n\t\t\t\t\t\t\t\treturn; //assume thread was deleted\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tthis.universe.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar now = Date.now().getTime();\r\n\t\tfor (message in messages) {\r\n\t\t\tif (now - message.createdTimestamp < 30000) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tmessage.delete().then(function(_) {\r\n\t\t\t\tthis.messages.remove(message);\r\n\t\t\t}, (err) -> trace(err));\r\n\t\t}\r\n\t}\r\n}\r\n","package commands.mod;\r\n\r\nimport discord_js.GuildMember;\r\nimport util.Duration;\r\nimport database.DBEvents;\r\nimport discord_js.MessageEmbed;\r\nimport discord_js.User;\r\nimport externs.FuzzySort;\r\nimport js.Browser;\r\nimport components.Command;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport systems.CommandBase;\r\nimport Main.CommandForward;\r\nimport discord_js.Message;\r\nimport discord_js.TextChannel;\r\nimport database.types.DBRateLimit;\r\nimport Query.query;\r\n\r\nprivate typedef TTracker = {\r\n\tvar counter:Int;\r\n\tvar member:GuildMember;\r\n\tvar last_message:Float;\r\n}\r\n\r\nclass RateLimit extends CommandBase {\r\n\tvar tracking:Map<String, TTracker> = [];\r\n\tvar limits:Map<String, DBRateLimit> = [];\r\n\tvar records:Bool = false;\r\n\r\n\t@:fastFamily var messages:{command:CommandForward, message:Message};\r\n\r\n\tfinal silence_role = #if block \"1257723900813639801\" #else \"503359600712482827\" #end;\r\n\r\n\toverride function onEnabled() {\r\n\t\tvar e = DBEvents.GetAllRecords('rate_limit', function(response) {\r\n\t\t\tswitch (response) {\r\n\t\t\t\tcase Records(data):\r\n\t\t\t\t\tfor (r in data) {\r\n\t\t\t\t\t\tvar obj = DBRateLimit.fromRecord(r);\r\n\t\t\t\t\t\tlimits.set(obj.user_id, obj);\r\n\t\t\t\t\t\tvar tracker = tracking.get(obj.user_id);\r\n\t\t\t\t\t\tif (!tracking.exists(obj.user_id)) {\r\n\t\t\t\t\t\t\tsetTracker(obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\trecords = true;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttrace(response);\r\n\t\t\t}\r\n\t\t});\r\n\t\tuniverse.setComponents(universe.createEntity(), e);\r\n\t}\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\t\tif (!records) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\titerate(messages, (entity) -> {\r\n\t\t\tswitch (command) {\r\n\t\t\t\tcase rate_limit:\r\n\t\t\t\t\tfor (limit in limits) {\r\n\t\t\t\t\t\tif (message.author.id != limit.user_id\r\n\t\t\t\t\t\t\t|| limit.silenced > -1\r\n\t\t\t\t\t\t\t|| message.channel.asType0.id == \"663246792426782730\") {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar tracker = tracking.get(limit.user_id);\r\n\t\t\t\t\t\tif (tracker.counter >= limit.count) {\r\n\t\t\t\t\t\t\t// silence\r\n\t\t\t\t\t\t\ttracker.last_message = message.createdTimestamp;\r\n\t\t\t\t\t\t\ttracker.member.roles.add(silence_role).then(function(resp) {\r\n\t\t\t\t\t\t\t\t //trace('${Date.now()} user ${limit.user_tag} silenced');\r\n\t\t\t\t\t\t\t\tlimit.silenced = tracker.last_message;\r\n\t\t\t\t\t\t\t\tupdateLimit(limit);\r\n\t\t\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttracker.counter++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfor (limit in limits) {\r\n\t\t\tif (limit.silenced == -1 || !tracking.exists(limit.user_id)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvar now = Date.now().getTime();\r\n\t\t\tvar dur:Float = Duration.fromString(limit.time);\r\n\t\t\tvar diff = limit.silenced + dur;\r\n\r\n\t\t\tif (now > diff) {\r\n\t\t\t\t\r\n\t\t\t\tvar tracker = tracking.get(limit.user_id);\r\n\t\t\t\ttracker.member.roles.remove(silence_role).then(function(response) {\r\n\t\t\t\t\tlimit.silenced = -1;\r\n\t\t\t\t\ttracker.counter = 1;\r\n\t\t\t\t\tupdateLimit(limit);\r\n\t\t\t\t\t //trace('${Date.now()} user ${limit.user_tag} unsilenced');\r\n\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateLimit(limit:DBRateLimit) {\r\n\t\tvar e = DBEvents.Update('rate_limit', limit.record, query($user_id == limit.user_id),\r\n\t\t\tfunction(response) {\r\n\t\t\t\tswitch (response) {\r\n\t\t\t\t\tcase Success(message, data):\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ttrace(response);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tEcsTools.set(e);\r\n\t}\r\n\r\n\tfunction setTracker(obj:DBRateLimit) {\r\n\t\tvar tracker = tracking.get(obj.user_id);\r\n\t\tif (!tracking.exists(obj.user_id)) {\r\n\t\t\tMain.client.guilds.cache.get(Main.guild_id)\r\n\t\t\t\t.members.fetch(obj.user_id)\r\n\t\t\t\t.then(function(member) {\r\n\t\t\t\t\ttracker = {\r\n\t\t\t\t\t\tmember: member,\r\n\t\t\t\t\t\tcounter: 1,\r\n\t\t\t\t\t\tlast_message: -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttrace('Added ${obj.user_tag} to list');\r\n\t\t\t\t\ttracking.set(obj.user_id, tracker);\r\n\t\t\t\t}, (err) -> trace(err));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase RatelimitCreate(user, counter, time, reason):\r\n\t\t\t\tvar modid = interaction.user.id;\r\n\t\t\t\tvar modtag = interaction.user.tag;\r\n\t\t\t\tvar obj = new DBRateLimit(user.id, user.tag, modid, modtag, counter, time);\r\n\t\t\t\tobj.reason = reason;\r\n\t\t\t\tsetTracker(obj);\r\n\t\t\t\t\r\n\t\t\t\tvar e = DBEvents.SearchAndUpdate('rate_limit', 'user_id', query($user_id == obj.user_id), obj.record, function(response) {\r\n\t\t\t\t\tswitch (response) {\r\n\t\t\t\t\t\tcase Success(message, data):\r\n\t\t\t\t\t\t\tthis.limits.set(user.id, DBRateLimit.fromRecord(data));\r\n\t\t\t\t\t\t\ttrace('Inserted ${user.tag} rate limit');\r\n\t\t\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\t\t\tcontent: '<@${user.id}> has been rate limited'\r\n\t\t\t\t\t\t\t}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\t\t\tephemeral: true,\r\n\t\t\t\t\t\t\t\tcontent: \"An error occured, check logs\"\r\n\t\t\t\t\t\t\t}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\ttrace(response);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tEcsTools.set(e);\r\n\t\t\tcase RatelimitDelete(user):\r\n\t\t\t\tvar obj = limits.get(user.id);\r\n\t\t\t\tif (limits.exists(user.id)) {\r\n\t\t\t\t\tvar e = DBEvents.DeleteByValue('rate_limit', 'user_id', obj.user_id, function(resp) {\r\n\t\t\t\t\t\tswitch (resp) {\r\n\t\t\t\t\t\t\tcase Success(message, data):\r\n\t\t\t\t\t\t\t\ttracking.remove(user.id);\r\n\t\t\t\t\t\t\t\tlimits.remove(user.id);\r\n\t\t\t\t\t\t\t\ttrace('removed slow mode from ${user.tag}');\r\n\t\t\t\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\t\t\t\tcontent: 'Slow mode has been removed for <@${user.id}>'\r\n\t\t\t\t\t\t\t\t}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tinteraction.reply({\r\n\t\t\t\t\t\t\t\t\tephemeral: true,\r\n\t\t\t\t\t\t\t\t\tcontent: \"An error occured, check logs\"\r\n\t\t\t\t\t\t\t\t}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\ttrace(resp);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tEcsTools.set(e);\r\n\t\t\t\t}\r\n\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'ratelimit';\r\n\t}\r\n}\r\n","package commands.mod;\r\n\r\nimport js.Browser;\r\nimport components.Command;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport systems.CommandDbBase;\r\n\r\nclass Social extends CommandDbBase {\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase Social(tag, user):\r\n\t\t\t\tthis.parseTwitter(interaction, tag, user);\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction parseTwitter(interaction:BaseCommandInteraction, tag:String, user:String) {\r\n\t\tif (tag == null && user == null) {\r\n\t\t\tinteraction.reply('Invalid input').then(null, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (tag != null) {\r\n\t\t\tvar doc = Firestore.doc(db, 'discord/social');\r\n\t\t\tFirestore.updateDoc(doc, {\r\n\t\t\t\ttwitter_tags: Firestore.arrayUnion(tag)\r\n\t\t\t}).then(function(_) {\r\n\t\t\t\tif (!interaction.replied) {\r\n\t\t\t\t\tinteraction.reply('Updated collection!');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (user != null) {\r\n\t\t\tvar doc = Firestore.doc(db, 'discord/social');\r\n\t\t\tFirestore.updateDoc(doc, {\r\n\t\t\t\ttwitter_users: Firestore.arrayUnion(user)\r\n\t\t\t}).then(function(_) {\r\n\t\t\t\tif (!interaction.replied) {\r\n\t\t\t\t\tinteraction.reply('Updated collection!');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'social';\r\n\t}\r\n}\r\n\r\ntypedef TSocial = {\r\n\tvar twitter_tags:Array<String>;\r\n\tvar twitter_users:Array<String>;\r\n}\r\n\r\nenum abstract SocialPlatform(String) from String {\r\n\tvar twitter;\r\n}\r\n","package commands.mod;\r\n\r\nimport discord_js.MessageEmbed;\r\nimport discord_js.User;\r\nimport externs.FuzzySort;\r\nimport js.Browser;\r\nimport components.Command;\r\nimport discord_builder.BaseCommandInteraction;\r\nimport systems.CommandDbBase;\r\nimport Main.CommandForward;\r\nimport discord_js.Message;\r\nimport discord_js.TextChannel;\r\nimport firebase.web.firestore.DocumentSnapshot;\r\n\r\nclass Tracker extends CommandDbBase {\r\n\tvar trackers:Map<String, TTracker> = [];\r\n\tvar dm:Map<String, User> = [];\r\n\t@:fastFamily var messages:{command:CommandForward, message:Message};\r\n\tvar init_trackers:Bool = false;\r\n\r\n\toverride function onEnabled() {\r\n\t\tFirestore.onSnapshot(collection(this.db, 'discord/admin/trackers'), function(resp) {\r\n\t\t\tif (init_trackers) {\r\n\t\t\t\tfor (item in resp.docChanges()) {\r\n\t\t\t\t\tswitch (item.type) {\r\n\t\t\t\t\t\tcase \"added\" | \"modified\":\r\n\t\t\t\t\t\t\tvar data = item.doc.data();\r\n\t\t\t\t\t\t\ttrackers.set(item.doc.id, data);\r\n\t\t\t\t\t\t\tif (!dm.exists(data.by)) {\r\n\t\t\t\t\t\t\t\tMain.client.users.fetch(data.by).then(function(user) {\r\n\t\t\t\t\t\t\t\t\tthis.dm.set(data.by, user);\r\n\t\t\t\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase \"removed\":\r\n\t\t\t\t\t\t\ttrackers.remove(item.doc.id);\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\ttrace('item type not mapped? ${item.type}');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tinit_trackers = true;\r\n\t\t\tfor (item in resp.docs) {\r\n\t\t\t\tvar data = item.data();\r\n\t\t\t\ttrackers.set(item.id, cast data);\r\n\t\t\t\t\r\n\t\t\t\tif (!dm.exists(data.by)) {\r\n\t\t\t\t\tMain.client.users.fetch(data.by).then(function(user) {\r\n\t\t\t\t\t\ttrace('added user ${user.tag}');\r\n\t\t\t\t\t\tthis.dm.set(data.by, user);\r\n\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction string_compare(value:String, array:Array<String>) {\r\n\t\tfor (a in array) {\r\n\t\t\tif (a == value) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction excludeKeywords(message:Message, tracker:TTracker) {\r\n\t\tvar content = message.content;\r\n\t\tif (tracker.string_exclude == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (word in tracker.string_exclude) {\r\n\t\t\tif (content.toLowerCase().contains(word)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction findKeywords(message:Message, tracker:TTracker) {\r\n\t\tvar content = message.content;\r\n\t\tfor (word in tracker.keywords) {\r\n\t\t\tif (content.toLowerCase().contains(word)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction keywordParser(content:String, matcher:Array<String>) {\r\n\t\t\r\n\t}\r\n\r\n\toverride function update(_:Float) {\r\n\t\tsuper.update(_);\r\n\t\titerate(messages, (entity) -> {\r\n\t\t\tswitch (command) {\r\n\t\t\t\tcase keyword_tracker:\r\n\t\t\t\t\tfor (tracker in trackers) {\r\n\r\n\t\t\t\t\t\tif (message.author.id == tracker.by) {\r\n\t\t\t\t\t\t\t#if !block\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t#end\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar content = message.content;\r\n\r\n\t\t\t\t\t\tif (tracker.user_exclude != null\r\n\t\t\t\t\t\t\t&& string_compare(message.author.id, tracker.user_exclude)) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (tracker.channel_exclude != null\r\n\t\t\t\t\t\t\t&& string_compare((message.channel : TextChannel).id,\r\n\t\t\t\t\t\t\t\ttracker.channel_exclude)) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// will improve another time\r\n\t\t\t\t\t\tif (excludeKeywords(message, tracker)) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// will improve another time\r\n\t\t\t\t\t\tif (findKeywords(message, tracker)) {\r\n\t\t\t\t\t\t\tif (this.dm.exists(tracker.by) #if block && tracker.by == \"151104106973495296\" #end) {\r\n\t\t\t\t\t\t\t\tvar embed = new MessageEmbed();\r\n\t\t\t\t\t\t\t\tembed.setTitle('${tracker.name}');\r\n\t\t\t\t\t\t\t\tvar description = message.content;\r\n\t\t\t\t\t\t\t\tvar channel = (message.channel : TextChannel).name;\r\n\t\t\t\t\t\t\t\tdescription += '\\n ----- \\n [Location: $channel](${message.url})';\r\n\t\t\t\t\t\t\t\tembed.setDescription(description);\r\n\t\t\t\t\t\t\t\tembed.setFooter({\r\n\t\t\t\t\t\t\t\t\ttext: 'Keyword Tracker',\r\n\t\t\t\t\t\t\t\t\ticonURL: 'https://cdn.discordapp.com/emojis/567741748172816404.png?v=1'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tvar author = {\r\n\t\t\t\t\t\t\t\t\tname: '@' + message.author.tag,\r\n\t\t\t\t\t\t\t\t\ticonURL: message.author.displayAvatarURL()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tembed.setAuthor(author);\r\n\t\t\t\t\t\t\t\tthis.dm[tracker.by].send({embeds: [embed]})\r\n\t\t\t\t\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction run(command:Command, interaction:BaseCommandInteraction) {\r\n\t\tswitch (command.content) {\r\n\t\t\tcase TrackerCreate(name, keywords, description, string_exclude, channel_exclude,\r\n\t\t\t\tuser_exclude):\r\n\t\t\t\tvar keywords = keywords.split(',');\r\n\t\t\t\tfor (key => value in keywords) {\r\n\t\t\t\t\tkeywords[key] = value.toLowerCase().trim();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar str_exclude = [];\r\n\t\t\t\tif (string_exclude != null) {\r\n\t\t\t\t\tstr_exclude = string_exclude.split(',');\r\n\t\t\t\t\tfor (key => value in str_exclude) {\r\n\t\t\t\t\t\tstr_exclude[key] = value.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar chl_exclude = [];\r\n\t\t\t\tif (channel_exclude != null) {\r\n\t\t\t\t\tchl_exclude = channel_exclude.split(',');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar usr_exclude = [];\r\n\t\t\t\tif (user_exclude != null) {\r\n\t\t\t\t\tusr_exclude = user_exclude.split(',');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (key => str in str_exclude) {\r\n\t\t\t\t\tstr_exclude[key] = str.trim();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (key => user in usr_exclude) {\r\n\t\t\t\t\tusr_exclude[key] = cleanDiscordThings(user).trim();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (key => channel in chl_exclude) {\r\n\t\t\t\t\tchl_exclude[key] = cleanDiscordThings(channel).trim();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.parseTracker(interaction, name, description, keywords, str_exclude,\r\n\t\t\t\t\tchl_exclude, usr_exclude);\r\n\t\t\tcase TrackerDelete(name):\r\n\t\t\t\tvar col = collection(db, 'discord/admin/trackers');\r\n\t\t\t\tif (name != null) {\r\n\t\t\t\t\tvar query = Firestore.query(col, where('name', GREATER_EQUALS, name),\r\n\t\t\t\t\t\twhere('name', LESS_EQUALS, name + '~'),\r\n\t\t\t\t\t\twhere('by', EQUAL_TO, interaction.user.id));\r\n\r\n\t\t\t\t\tif (interaction.isAutocomplete()) {\r\n\t\t\t\t\t\tFirestore.getDocs(query).then(function(res) {\r\n\t\t\t\t\t\t\tvar results = [];\r\n\t\t\t\t\t\t\tfor (d in res.docs) {\r\n\t\t\t\t\t\t\t\tvar data = d.data();\r\n\t\t\t\t\t\t\t\tvar name = data.name;\r\n\t\t\t\t\t\t\t\tif (data.description != null) {\r\n\t\t\t\t\t\t\t\t\tname += ' - ' + data.description;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tresults.push({\r\n\t\t\t\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t\t\t\tvalue: d.id\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tinteraction.respond(results).then(null, function(err) {\r\n\t\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}).then(null, function(err) {\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tFirestore.deleteDoc(doc(db, 'discord/admin/trackers/$name')).then(function(_) {\r\n\t\t\t\t\t\ttrackers.remove(name);\r\n\t\t\t\t\t\tinteraction.reply({content: 'Tracker deleted!', ephemeral: true}).then(null, (err) -> trace(err));\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\tdefault:\r\n\t\t}\r\n\t}\r\n\r\n\tfunction parseTracker(interaction:BaseCommandInteraction, name:String, description:String,\r\n\t\t\tkeywords:Array<String>, string_exclude:Array<String>, channel_exclude:Array<String>,\r\n\t\t\tuser_exclude:Array<String>) {\r\n\t\tvar obj:TTracker = {\r\n\t\t\tname: name,\r\n\t\t\tby: interaction.user.id,\r\n\t\t\tdiscord_name: interaction.user.username,\r\n\t\t\tkeywords: keywords,\r\n\t\t\ttimestamp: Date.now().getTime()\r\n\t\t}\r\n\r\n\t\tif (description != null) {\r\n\t\t\tobj.description = description;\r\n\t\t}\r\n\r\n\t\tif (string_exclude.length > 0) {\r\n\t\t\tobj.string_exclude = string_exclude;\r\n\t\t}\r\n\r\n\t\tif (channel_exclude.length > 0) {\r\n\t\t\tobj.channel_exclude = channel_exclude;\r\n\t\t}\r\n\r\n\t\tif (channel_exclude.length > 0) {\r\n\t\t\tobj.channel_exclude = channel_exclude;\r\n\t\t}\r\n\r\n\t\tFirestore.addDoc(collection(this.db, 'discord/admin/trackers'), obj).then(function(_) {\r\n\t\t\tinteraction.reply({content: 'Your tracker is now active!', ephemeral: true})\r\n\t\t\t\t.then(null, (err) -> trace(err));\r\n\t\t}, (err) -> trace(err));\r\n\t}\r\n\r\n\tinline function cleanDiscordThings(string:String) {\r\n\t\tstring = string.replace('<', '');\r\n\t\tstring = string.replace('>', '');\r\n\t\tstring = string.replace('#', '');\r\n\t\tstring = string.replace('@', '');\r\n\t\tstring = string.replace('&', '');\r\n\t\ttrace(string);\r\n\t\treturn string;\r\n\t}\r\n\r\n\tfunction get_name():String {\r\n\t\treturn 'tracker';\r\n\t}\r\n}\r\n\r\ntypedef TTracker = {\r\n\tvar by:String;\r\n\tvar name:String;\r\n\tvar discord_name:String;\r\n\tvar timestamp:Float;\r\n\tvar keywords:Array<String>;\r\n\t@:optional var description:String;\r\n\t@:optional var string_exclude:Array<String>;\r\n\t@:optional var channel_exclude:Array<String>;\r\n\t@:optional var user_exclude:Array<String>;\r\n}\r\n","package commands.types;\r\n\r\nenum abstract Duration(Float) to Float {\r\n\tvar minute = 60000;\r\n\tvar hour = 3600000;\r\n\tvar day = 86400000;\r\n\tvar week = 604800000;\r\n\tvar month = 2419200000;\r\n\r\n\tpublic function new(value) {\r\n\t\tthis = value;\r\n\t}\r\n\r\n\t@:op(A > B) static function gt(a:Duration, b:Duration):Bool;\r\n\r\n\t@:op(A >= B) static function gtequalto(a:Duration, b:Duration):Bool;\r\n\r\n\t@:op(A < B) static function lt(a:Duration, b:Duration):Bool;\r\n\r\n\t@:op(A <= B) static function ltequalto(a:Duration, b:Duration):Bool;\r\n\r\n\t@:op(A == B) static function equality(a:Duration, b:Duration):Bool;\r\n\r\n\t@:op(A > B) static function gtfloat(a:Float, b:Duration):Bool;\r\n\r\n\t@:op(A >= B) static function gtequaltofloat(a:Float, b:Duration):Bool;\r\n\r\n\t@:op(A < B) static function ltfloat(a:Float, b:Duration):Bool;\r\n\r\n\t@:op(A <= B) static function ltequaltofloat(a:Float, b:Duration):Bool;\r\n\r\n\t@:op(A == B) static function equalityFloat(a:Float, b:Duration):Bool;\r\n\r\n\t@:op(A + B) static function addition(a:Duration, b:Duration):Duration;\r\n\t@:op(A / B) static function division(a:Duration, b:Duration):Duration;\r\n\t@:op(A / B) static function divisionb(a:Duration, b:Float):Duration;\r\n\r\n\t@:from public static function fromString(input:String):Duration {\r\n\t\tvar time = 0.;\r\n\r\n\t\tvar min_regex = ~/([0-9]+)[ ]?(m|min|mins)\\b/gi;\r\n\t\tif (min_regex.match(input)) {\r\n\t\t\tvar num = min_regex.matched(1).parseFloat();\r\n\t\t\ttime = num * 60000;\r\n\t\t}\r\n\r\n\t\tvar hour_regex = ~/([0-9]+)[ ]?(h|hr|hrs|hours)\\b/gi;\r\n\t\tif (hour_regex.match(input)) {\r\n\t\t\tvar num = hour_regex.matched(1).parseFloat();\r\n\t\t\ttime = num * 3600000;\r\n\t\t}\r\n\r\n\t\tvar day_regex = ~/([0-9]+)[ ]?(d|day|days)\\b/gi;\r\n\t\tif (day_regex.match(input)) {\r\n\t\t\tvar num = day_regex.matched(1).parseFloat();\r\n\t\t\ttime = num * 86400000;\r\n\t\t}\r\n\r\n\t\tvar week_regex = ~/([0-9]+)[ ]?(w|wk|wks|week|weeks)\\b/gi;\r\n\t\tif (week_regex.match(input)) {\r\n\t\t\tvar num = week_regex.matched(1).parseFloat();\r\n\t\t\ttime = num * 604800000;\r\n\t\t}\r\n\r\n\t\tvar month_regex = ~/([0-9]+)[ ]?(mo|mos|mths|month|months)\\b/gi;\r\n\t\tif (month_regex.match(input)) {\r\n\t\t\tvar num = month_regex.matched(1).parseFloat();\r\n\t\t\ttime = num * 2419200000;\r\n\t\t}\r\n\r\n\t\treturn new Duration(time);\r\n\t}\r\n}","package components;\r\n\r\nimport discord_builder.BaseCommandInteraction;\r\n\r\nclass ShowcaseModalSubmit {\r\n\tpublic var title_or_link:String;\r\n\tpublic var description:String;\r\n\tpublic function new(title:String, ?description:String) {\r\n\t\tthis.title_or_link = title;\r\n\t\tthis.description = description;\r\n\t}\r\n}\r\n","package components;\r\n\r\nenum abstract TextCommand(String) to String {\r\n\tvar mention = '!mention';\r\n\tvar run = '!run';\r\n\r\n\tpublic static function list() {\r\n\t\treturn [mention, run];\r\n\t}\r\n}","package database;\r\n\r\nimport db.Record;\r\n\r\n@:autoBuild(database.DBMacros.makeRecord())\r\nabstract class MyRecord {\r\n\tvar _record:Record = new Record();\r\n\tpublic var record(get, never):Record;\r\n\tabstract function get_record():Record;\r\n}\r\n","package database.types;\r\n\r\nimport database.MyRecord;\r\n\r\nclass DBEmoji extends MyRecord {\r\n\t@crecord public var author_id:String;\r\n\t@crecord public var author_tag:String;\r\n\t@crecord public var name:String;\r\n\t@crecord public var url:String;\r\n\t@crecord public var description:String = null;\r\n\t@record public var timestamp:Float;\r\n\t@record public var id:Int;\r\n\r\n\tpublic function new(author_id:String, author_tag:String, name:String, url:String,\r\n\t\t\tdescription:String = null) {\r\n\t\tthis.author_id = author_id;\r\n\t\tthis.author_tag = author_tag;\r\n\t\tthis.url = url;\r\n\t\tthis.name = name.toLowerCase();\r\n\t\tthis.description = description;\r\n\t\tthis.timestamp = Date.now().getTime();\r\n\t}\r\n}","package database;\r\n\r\n#if macro\r\nimport haxe.macro.Expr;\r\nimport haxe.macro.Context;\r\n\r\nclass DBMacros {\r\n\tpublic static function makeRecord() {\r\n\t\tvar call = Context.getLocalClass();\r\n\t\tvar cfields = Context.getBuildFields();\r\n\r\n\t\tvar gblock = [];\r\n\t\tvar sblock = [];\r\n\r\n\t\tvar init_class = 'var p = new ${call.get().name}(';\r\n\t\tvar constructor = null;\r\n\r\n\t\tvar fields = [];\r\n\r\n\t\tfor (field in cfields) {\r\n\t\t\tif (field.meta == null) {\r\n\t\t\t\tif (field.name == \"new\") {\r\n\t\t\t\t\tconstructor = field;\r\n\t\t\t\t}\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvar id = field.name;\r\n\t\t\tfor (meta in field.meta) {\r\n\t\t\t\tif (StringTools.contains(meta.name, 'record')) {\r\n\t\t\t\t\t// getter\r\n\t\t\t\t\tgblock.push(macro _record.field($v{id}, $i{id}));\r\n\t\t\t\t\t// static fromRecord function\r\n\t\t\t\t\tsblock.push(macro var $id = record.field($v{field.name}));\r\n\t\t\t\t\tif (meta.name == 'crecord') {\r\n\t\t\t\t\t\tinit_class += id + ',';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfields.push(field);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar getter:Field = {\r\n\t\t\tname: 'get_record',\r\n\t\t\tkind: FFun({\r\n\t\t\t\targs: [],\r\n\t\t\t\texpr: macro $b{gblock}\r\n\t\t\t}),\r\n\t\t\tpos: Context.currentPos()\r\n\t\t}\r\n\t\t\r\n\t\tgblock.push(macro return _record);\r\n\t\tcfields.push(getter);\r\n\r\n\t\tinit_class = init_class.substr(0, init_class.length - 1) + ')';\r\n\t\tvar exp = Context.parseInlineString(init_class, Context.currentPos());\r\n\t\tsblock.push(macro $exp);\r\n\r\n\t\tfor (f in fields) {\r\n\t\t\tvar id = f.name;\r\n\t\t\tsblock.push(macro p.$id = $i{f.name});\r\n\t\t}\r\n\r\n\t\tsblock.push(macro return p);\r\n\t\tvar from_record:Field = {\r\n\t\t\tname: 'fromRecord',\r\n\t\t\taccess: [APublic, AStatic],\r\n\t\t\tkind: FFun({\r\n\t\t\t\targs: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'record',\r\n\t\t\t\t\t\ttype: TPath({\r\n\t\t\t\t\t\t\tpack: ['db'],\r\n\t\t\t\t\t\t\tname: 'Record'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\texpr: macro $b{sblock}\r\n\t\t\t}),\r\n\t\t\tpos: Context.currentPos()\r\n\t\t}\r\n\r\n\t\tcfields.push(from_record);\r\n\t\treturn cfields;\r\n\t}\r\n}\r\n#end","package database.types;\r\n\r\nimport database.MyRecord;\r\n\r\nclass DBQuote extends MyRecord {\r\n\t@crecord public var author_id:String;\r\n\t@crecord public var author_tag:String;\r\n\t@crecord public var title:String;\r\n\t@crecord public var description:String;\r\n\t@record public var timestamp:Float;\r\n\t@record public var id:Int;\r\n\r\n\tpublic function new(author_id:String, author_tag:String, title:String, description:String) {\r\n\t\tthis.author_id = author_id;\r\n\t\tthis.author_tag = author_tag;\r\n\t\tthis.title = title;\r\n\t\tthis.description = description;\r\n\t\tthis.timestamp = Date.now().getTime();\r\n\t}\r\n}","package database.types;\r\n\r\nimport database.MyRecord;\r\n\r\nclass DBRateLimit extends MyRecord {\r\n\t@crecord public var user_id:String;\r\n\t@crecord public var user_tag:String;\r\n\t@crecord public var mod_id:String;\r\n\t@crecord public var mod_tag:String;\r\n\t@crecord public var count:Int;\r\n\t@crecord public var time:String;\r\n\t@record public var reason:String;\r\n\t@record public var silenced:Float = -1;\r\n\t@record public var created:Float;\r\n\t@record public var id:Int;\r\n\r\n\tpublic function new(user_id:String, user_tag:String, mod_id:String, mod_tag:String, count:Int,\r\n\t\t\ttime:String) {\r\n\t\tthis.user_id = user_id;\r\n\t\tthis.user_tag = user_tag;\r\n\t\tthis.mod_id = mod_id;\r\n\t\tthis.mod_tag = mod_tag;\r\n\t\tthis.count = count;\r\n\t\tthis.time = time;\r\n\t\tthis.created = Date.now().getTime();\r\n\t}\r\n}","package database.types;\r\n\r\nimport database.MyRecord;\r\n\r\nclass DBReminder extends MyRecord {\r\n\t@record public var id:Int;\r\n\t\r\n\t@crecord public var author_id:String;\r\n\t@crecord public var content:String;\r\n\t@crecord public var duration:Float;\r\n\t@crecord public var channel_id:String;\r\n\t@crecord public var is_thread:Int = 0;\r\n\t\r\n\t@record public var sent:Int = 0;\r\n\t@record public var personal:Int = 0;\r\n\t@record public var thread_reply:Int = 0;\r\n\t@record public var timestamp:Float;\r\n\t\r\n\tpublic function new(author_id:String, content:String, duration:Float, channel_id:String, is_thread:Int) {\r\n\t\tthis.author_id = author_id;\r\n\t\tthis.content = content;\r\n\t\tthis.duration = duration;\r\n\t\tthis.channel_id = channel_id;\r\n\t\tthis.is_thread = is_thread;\r\n\t\tthis.timestamp = Date.now().getTime();\r\n\t}\r\n}","package database.types;\r\n\r\nimport database.MyRecord;\r\n\r\nclass DBSnippet extends MyRecord {\r\n\t@crecord public var author_id:String;\r\n\t@crecord public var title:String;\r\n\t@crecord public var url:String;\r\n\t@crecord public var description:String;\r\n\t@record public var timestamp:Float;\r\n\t@record public var snippet_id:Int;\r\n\r\n\tpublic function new(author_id:String, title:String, description:String, url:String) {\r\n\t\tthis.url = url;\r\n\t\tthis.title = title;\r\n\t\tthis.author_id = author_id;\r\n\t\tthis.description = description;\r\n\t\tthis.timestamp = Date.now().getTime();\r\n\t}\r\n}","package db;\r\n\r\n@:structInit\r\nclass ColumnDefinition {\r\n    public var name:String;\r\n    public var type:ColumnType;\r\n    @:optional public var options:Null<Array<ColumnOptions>>;\r\n\r\n    public function clone():ColumnDefinition {\r\n        var c:ColumnDefinition = {\r\n            name: this.name,\r\n            type: this.type\r\n        }\r\n        if (this.options != null) {\r\n            c.options = this.options.copy();\r\n        }\r\n        return c;\r\n    }\r\n\r\n    public function debugString() {\r\n        var sb = new StringBuf();\r\n        sb.add(name);\r\n        sb.add(\": \");\r\n        sb.add(type);\r\n        sb.add(\", \");\r\n        sb.add(options);\r\n        return sb.toString();\r\n    }\r\n}","package db;\r\n\r\nclass DatabaseError {\r\n    public var message:String;\r\n    public var call:String;\r\n\r\n    public function new(message:String, call:String = null) {\r\n        this.message = message;\r\n        this.call = call;\r\n    }\r\n}","package db;\r\n\r\nimport haxe.Exception;\r\n\r\n@:build(db.macros.DatabaseTypes.build())\r\nclass DatabaseFactory {\r\n    private static var _instance:DatabaseFactory = null;\r\n    public static var instance(get, null):DatabaseFactory;\r\n    private static function get_instance():DatabaseFactory {\r\n        if (_instance == null) {\r\n            _instance = new DatabaseFactory();\r\n        }\r\n        return _instance;\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////\r\n    private var _databaseTypes:Map<String, Void->IDatabase> = [];\r\n\r\n    private function new() {\r\n        init();\r\n    }\r\n\r\n    private function init() {\r\n        loadTypes();\r\n    }\r\n\r\n    private function loadTypes() { // macro will fill this up\r\n\r\n    }\r\n\r\n    public function createDatabase<T>(typeId:String, config:Dynamic = null):IDatabase {\r\n        if (!_databaseTypes.exists(typeId)) {\r\n            throw new Exception('database type \"${typeId}\" not registered');\r\n        }\r\n        var ctor = _databaseTypes.get(typeId);\r\n        var instance = ctor();\r\n        if (config != null) {\r\n            instance.config(config);\r\n        }\r\n        return instance;\r\n    }\r\n}","package db.macros;\r\n\r\nimport haxe.macro.Context;\r\nimport haxe.macro.Expr;\r\n\r\nusing StringTools;\r\n\r\nclass DatabaseTypes {\r\n    private static var typeClasses:Map<String, String> = [];\r\n\r\n    macro static function register(id:String, c:String) {\r\n        Sys.println('registering database type ${c} (${id})');\r\n        var parts = c.split(\".\");\r\n        var name = parts.pop();\r\n        #if (haxe >= version(\"4.3.0\"))\r\n        Context.onAfterInitMacros(() -> {\r\n            Context.resolveType(TPath({pack: parts, name: name}), Context.currentPos());\r\n        });\r\n        #else\r\n        Context.resolveType(TPath({pack: parts, name: name}), Context.currentPos());\r\n        #end\r\n        if (!typeClasses.exists(id)) {\r\n            typeClasses.set(id, c);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    macro static function build():Array<Field> {\r\n        var fields = Context.getBuildFields();\r\n\r\n\r\n        var typeIds:Array<String> = [];\r\n        var typeExprs:Array<Expr> = [];\r\n        for (typeId in typeClasses.keys()) {\r\n            typeIds.push(typeId);\r\n            var c = typeClasses.get(typeId);\r\n            var parts = c.split(\".\");\r\n            var name = parts.pop();\r\n            var t:TypePath = {\r\n                pack: parts,\r\n                name: name\r\n            }\r\n            typeExprs.push(macro {\r\n                var p:db.macros.IDatabaseType = new $t();\r\n                var typeInfo = p.typeInfo();\r\n                _databaseTypes.set($v{typeId}, typeInfo.ctor);\r\n                //Sys.println(\" - registering database type \" + typeInfo.id);\r\n            });\r\n        }\r\n\r\n        for (f in fields) {\r\n            if (f.name == \"loadTypes\") {\r\n                switch (f.kind) {\r\n                    case FFun(f):\r\n                        switch(f.expr.expr) {\r\n                            case EBlock(exprs): \r\n                                for (e in typeExprs) {\r\n                                    exprs.push(e);\r\n                                }\r\n                            case _:\r\n                        }\r\n                    case _:    \r\n                }\r\n                break;\r\n            }\r\n        }\r\n\r\n        for (typeId in typeIds) {\r\n            fields.push({\r\n                name: typeId.toUpperCase().replace(\"-\", \"_\"),\r\n                kind: FVar(\r\n                    macro: String,\r\n                    macro $v{typeId}\r\n                ),\r\n                access: [AStatic, APublic, AInline],\r\n                pos: Context.currentPos()\r\n            });\r\n        }\r\n\r\n        return fields;\r\n    }\r\n}\r\n","package db;\r\n\r\nclass DatabaseResult<T> {\r\n    public var database:IDatabase;\r\n    public var table:ITable;\r\n    public var data:T;\r\n    public var itemsAffected:Null<Int> = null;\r\n\r\n    public function new(database:IDatabase, table:ITable = null, data:T = null, itemsAffected:Null<Int> = null) {\r\n        this.database = database;\r\n        this.table = table;\r\n        this.data = data;\r\n        this.itemsAffected = itemsAffected;\r\n    }\r\n}","package db;\r\n\r\n@:structInit\r\nclass DatabaseSchema {\r\n    @:optional public var tables:Array<TableSchema> = [];\r\n\r\n    public function findTable(name:String):TableSchema {\r\n        for (t in tables) {\r\n            if (t.name.toLowerCase() == name.toLowerCase()) {\r\n                return t;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public function setTableSchema(name:String, schema:TableSchema) {\r\n        for (i in 0...tables.length) {\r\n            if (tables[i].name.toLowerCase() == name.toLowerCase()) {\r\n                tables[i] = schema;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public function clone():DatabaseSchema {\r\n        var c:DatabaseSchema = {\r\n            tables: []\r\n        };\r\n        for (t in this.tables) {\r\n            c.tables.push(t.clone());\r\n        }\r\n        return c;\r\n    }\r\n\r\n    public function debugString() {\r\n        var sb = new StringBuf();\r\n        for (table in tables) {\r\n            sb.add(table.debugString());\r\n        }\r\n        return sb.toString();\r\n    }\r\n}","package db;\r\n\r\nusing StringTools;\r\n\r\nclass DebugUtils {\r\n    public static function printRecords(records:Array<Record>, name:String = null) {\r\n        var colSizes:Map<String, Int> = [];\r\n        if (records == null || records.length == 0) {\r\n            if (name != null) {\r\n                Sys.println(name + \": no records!\");\r\n            } else {\r\n                Sys.println(\"no records!\");\r\n            }\r\n            return;\r\n        }\r\n        // first get max sizes\r\n        var r = records[0];\r\n        for (fieldName in r.fieldNames) {\r\n            colSizes.set(fieldName, fieldName.length);\r\n        }\r\n        for (r in records) {\r\n            for (fieldName in r.fieldNames) {\r\n                var value = Std.string(r.field(fieldName));\r\n                var existingSize = colSizes.get(fieldName);\r\n                var newSize = value.length;\r\n                if (newSize > existingSize) {\r\n                    colSizes.set(fieldName, newSize);\r\n                }\r\n            }\r\n        }\r\n\r\n        // now lets actually print\r\n        Sys.println(\"\");\r\n        if (name != null) {\r\n            Sys.println(name + \" (\" + records.length + \"):\");\r\n        }\r\n        var r = records[0];\r\n        for (fieldName in r.fieldNames) {\r\n            var size = colSizes.get(fieldName);\r\n            Sys.print(\"| \");\r\n            Sys.print(fieldName.rpad(\" \", size));\r\n            Sys.print(\" \");\r\n        }\r\n        Sys.println(\"|\");\r\n\r\n        for (fieldName in r.fieldNames) {\r\n            var size = colSizes.get(fieldName);\r\n            Sys.print(\"|-\");\r\n            Sys.print(\"\".rpad(\"-\", size));\r\n            Sys.print(\"-\");\r\n        }\r\n        Sys.println(\"|\");\r\n\r\n        for (r in records) {\r\n            for (fieldName in r.fieldNames) {\r\n                var size = colSizes.get(fieldName);\r\n                var value = Std.string(r.field(fieldName)).trim();\r\n                Sys.print(\"| \");\r\n                Sys.print(value.rpad(\" \", size));\r\n                Sys.print(\" \");\r\n             }\r\n             Sys.println(\"|\");\r\n        }\r\n        Sys.println(\"\");\r\n\r\n    }\r\n}","package db;\r\n\r\nclass Record {\r\n    private var data:Map<String, Any> = [];\r\n\r\n    public function new() {\r\n    }\r\n\r\n    public var fieldNames(get, null):Array<String>;\r\n    private function get_fieldNames():Array<String> {\r\n        var list = [];\r\n        for (f in data.keys()) {\r\n            list.push(f);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    public var fieldCount(get, null):Int;\r\n    private function get_fieldCount():Int {\r\n        var n = 0;\r\n        for (_ in data.keys()) {\r\n            n++;\r\n        }\r\n        return n;\r\n    }\r\n\r\n    public function hasField(name:String):Bool {\r\n        if (data == null) {\r\n            return false;\r\n        }\r\n        return data.exists(name);\r\n    }\r\n\r\n    public function renameField(fieldName:String, newFieldName:String) {\r\n        if (data.exists(fieldName)) {\r\n            var v = data.get(fieldName);\r\n            data.set(newFieldName, v);\r\n            data.remove(fieldName);\r\n        }\r\n    }\r\n\r\n    public function copyField(fieldName:String, newFieldName:String) {\r\n        if (data.exists(fieldName)) {\r\n            var v = data.get(fieldName);\r\n            data.set(newFieldName, v);\r\n        }\r\n    }\r\n\r\n    public function filterFields(callback:String->Any->Bool) {\r\n        var newData:Map<String, Any> = [];\r\n        for (fieldName in data.keys()) {\r\n            var fieldValue = data.get(fieldName);\r\n            if (callback(fieldName, fieldValue)) {\r\n                newData.set(fieldName, fieldValue);\r\n            }\r\n        }\r\n        data = newData;\r\n    }\r\n\r\n    public function findFields(callback:String->Bool):Array<String> {\r\n        var list = [];\r\n        for (fieldName in data.keys()) {\r\n            if (callback(fieldName)) {\r\n                list.push(fieldName);\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    public function findFieldValues<T>(callback:String->T->Bool):Array<T> {\r\n        var list:Array<T> = [];\r\n        for (fieldName in data.keys()) {\r\n            var fieldValue = data.get(fieldName);\r\n            if (fieldValue == null) {\r\n                continue;\r\n            }\r\n            if (callback(fieldName, fieldValue)) {\r\n                list.push(fieldValue);\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    public function field(name:String, value:Any = null):Any { // if value is non null, this is effectively a setter\r\n        if (value != null) {\r\n            data.set(name, value);\r\n            return value;\r\n        }\r\n\r\n        return data.get(name);\r\n    }\r\n\r\n    public function empty(name:String) {\r\n        data.set(name, null);\r\n    }\r\n\r\n    public function values():Array<Any> {\r\n        var v = [];\r\n        for (k in data.keys()) {\r\n            v.push(data.get(k));\r\n        }\r\n        return v;\r\n    }\r\n\r\n    public function stringValues():Array<String> {\r\n        var v = [];\r\n        for (k in data.keys()) {\r\n            v.push(Std.string(data.get(k)));\r\n        }\r\n        return v;\r\n    }\r\n\r\n    public function removeField(name:String) {\r\n        data.remove(name);\r\n    }\r\n\r\n    public function copy():Record {\r\n        var c = new Record();\r\n        c.data = this.data.copy();\r\n        return c;\r\n    }\r\n\r\n    public function debugString():String {\r\n        var sb = new StringBuf();\r\n        for (f in data.keys()) {\r\n            sb.add(f);\r\n            sb.add(\"=\");\r\n            sb.add(data.get(f));\r\n            sb.add(\"; \");\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    public function merge(other:Record) {\r\n        for (key in other.data.keys()) {\r\n            var value = other.data.get(key);\r\n            data.set(key, value);\r\n        }\r\n    }\r\n\r\n    public function equals(other:Record) {\r\n        var thisFieldNames = this.fieldNames;\r\n        var otherFieldNames = other.fieldNames;\r\n        if (thisFieldNames.length != otherFieldNames.length) {\r\n            return false;\r\n        }\r\n\r\n        var thisData = this.data;\r\n        var otherData = other.data;\r\n\r\n        for (thisFieldName in thisFieldNames) {\r\n            if (!otherData.exists(thisFieldName)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        for (otherFieldName in otherFieldNames) {\r\n            if (!thisData.exists(otherFieldName)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        for (thisFieldName in thisFieldNames) {\r\n            if (thisData.get(thisFieldName) != otherData.get(thisFieldName)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public static function fromDynamic(data:Dynamic):Record {\r\n        var r = new Record();\r\n        for (f in Reflect.fields(data)) {\r\n            var v = Reflect.field(data, f);\r\n            r.data.set(f, v);\r\n        }\r\n        return r;\r\n    }\r\n}","package db;\r\n\r\nclass RelationshipDefinitions {\r\n    public var complexRelationships:Bool = false;\r\n\r\n    private var _defs:Map<String, Array<RelationshipDefinition>> = [];\r\n\r\n    public function new() {\r\n    }\r\n\r\n    public var relationships:Map<String, String>;\r\n\r\n    public function add(field1:String, field2:String) {\r\n        if (has(field1, field2)) {\r\n            return;\r\n        }\r\n        var parts1 = field1.split(\".\");\r\n        var parts2 = field2.split(\".\");\r\n        var table1 = parts1.shift();\r\n        var table2 = parts2.shift();\r\n        var field1 = parts1.join(\".\");\r\n        var field2 = parts2.join(\".\");\r\n\r\n        var array = _defs.get(table1);\r\n        if (array == null) {\r\n            array = [];\r\n            _defs.set(table1, array);\r\n        }\r\n\r\n        array.push({\r\n            table1: table1,\r\n            table2: table2,\r\n            field1: field1,\r\n            field2: field2\r\n        });\r\n    }\r\n\r\n    public function has(field1:String, field2:String):Bool {\r\n        var parts1 = field1.split(\".\");\r\n        var parts2 = field2.split(\".\");\r\n        var table1 = parts1.shift();\r\n        var table2 = parts2.shift();\r\n        var field1 = parts1.join(\".\");\r\n        var field2 = parts2.join(\".\");\r\n\r\n        var array = _defs.get(table1);\r\n        if (array == null) {\r\n            return false;\r\n        }\r\n\r\n        for (item in array) {\r\n            if (item.table1 == table1 && item.table2 == table2 && item.field1 == field1 && item.field2 == field2) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public function get(table:String):Array<RelationshipDefinition> {\r\n        return _defs.get(table);\r\n    }\r\n\r\n    public function all():Array<RelationshipDefinition> {\r\n        var list = [];\r\n        for (key in _defs.keys()) {\r\n            list = list.concat(_defs.get(key));\r\n        }\r\n        return list;\r\n    }\r\n\r\n    public function keys():Iterator<String> {\r\n        return _defs.keys();\r\n    }\r\n\r\n    public function debugString() {\r\n        var sb = new StringBuf();\r\n        for (key in _defs.keys()) {\r\n            sb.add(key);\r\n            sb.add(\"\\n\");\r\n            for (item in _defs.get(key)) {\r\n                sb.add(\"    \");\r\n                sb.add(item.table1 + \".\" + item.field1 + \" <==> \" + item.table2 + \".\" + item.field2);\r\n                sb.add(\"\\n\");\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n}","package db;\r\n\r\n@:structInit\r\nclass TableSchema {\r\n    @:optional public var name:String;\r\n    @:optional public var columns:Array<ColumnDefinition> = [];\r\n    @:optional public var data:RecordSet;\r\n\r\n    public function equals(other:TableSchema) {\r\n        if (this.name != other.name) {\r\n            return false;\r\n        }\r\n\r\n        if (this.columns.length != other.columns.length) {\r\n            return false;\r\n        }\r\n\r\n        for (column in this.columns) {\r\n            if (other.findColumn(column.name) == null) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        for (column in other.columns) {\r\n            if (this.findColumn(column.name) == null) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public function findPrimaryKeyColumns():Array<ColumnDefinition> {\r\n        var primaryKeyColumns = [];\r\n        for (column in columns) {\r\n            if (column.options != null && column.options.contains(PrimaryKey)) {\r\n                primaryKeyColumns.push(column);\r\n            }\r\n        }\r\n        return primaryKeyColumns;\r\n    }\r\n\r\n    public function findColumn(name:String):ColumnDefinition {\r\n        for (column in columns) {\r\n            if (column.name == name) {\r\n                return column;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public function diff(other:TableSchema):TableSchemaDiff {\r\n        var d = new TableSchemaDiff();\r\n\r\n        for (column in this.columns) {\r\n            if (other.findColumn(column.name) == null) {\r\n                d.removedColumns.push(column);\r\n            }\r\n        }\r\n\r\n        for (column in other.columns) {\r\n            if (this.findColumn(column.name) == null) {\r\n                d.addedColumns.push(column);\r\n            }\r\n        }\r\n\r\n        return d;\r\n    }\r\n\r\n    public function clone():TableSchema {\r\n        var c:TableSchema = {\r\n            name: this.name,\r\n            columns: []\r\n        };\r\n        c.name = this.name;\r\n        for (col in this.columns) {\r\n            c.columns.push(col.clone());\r\n        }\r\n        if (this.data != null) {\r\n            c.data = this.data.copy();\r\n        }\r\n        return c;\r\n    }\r\n\r\n    public function debugString() {\r\n        var sb = new StringBuf();\r\n        sb.add(name);\r\n        sb.add(\":\");\r\n        sb.add(\"\\n\");\r\n        for (column in columns) {\r\n            sb.add(\"    \");\r\n            sb.add(column.debugString());\r\n            sb.add(\"\\n\");\r\n        }\r\n        return sb.toString();\r\n    }\r\n}","package db;\r\n\r\nclass TableSchemaDiff {\r\n    public var addedColumns:Array<ColumnDefinition> = [];\r\n    public var removedColumns:Array<ColumnDefinition> = [];\r\n    public var updatedColumns:Array<ColumnDefinition> = [];\r\n    \r\n    public function new() {\r\n    }\r\n}","package db.mysql;\r\n\r\nimport haxe.io.Bytes;\r\n\r\nclass MySqlDataTypeMapper implements IDataTypeMapper {\r\n    private static var _instance:IDataTypeMapper = null;\r\n    public static function get():IDataTypeMapper {\r\n        if (_instance == null) {\r\n            _instance = new MySqlDataTypeMapper();\r\n        }\r\n        return _instance;\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    public function new() {\r\n    }\r\n\r\n    public function shouldConvertValueToDatabase(value:Any):Bool {\r\n        if ((value is Bytes)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public function convertValueToDatabase(value:Any):Any {\r\n        if ((value is Bytes)) {\r\n            var bytes:Bytes = cast value;\r\n            return bytes.toString(); // TODO, is this right? Test with binary image or something\r\n        }\r\n        return value;\r\n    }\r\n\r\n    public function haxeTypeToDatabaseType(haxeType:ColumnType):String {\r\n        return switch (haxeType) {\r\n            case Number:        'INT';\r\n            case Decimal:       'DOUBLE';\r\n            case Boolean:       'INT';\r\n            case Text(n):       'VARCHAR($n)';\r\n            case Memo:          'TEXT';\r\n            case Binary:        'BLOB';\r\n            case Unknown:       'TEXT';\r\n        }\r\n    }\r\n\r\n    public function databaseTypeToHaxeType(databaseType:String):ColumnType {\r\n        var parts = databaseType.split(\":\");\r\n        var type = parts[0].toUpperCase();\r\n        var len = parts[1];\r\n        if (type == \"INT\") {\r\n            return Number;\r\n        } else if (type == \"DOUBLE\") {\r\n            return Decimal;\r\n        } else if (type == \"VARCHAR\") {\r\n            return Text(Std.parseInt(len));\r\n        } else if (type == \"TEXT\") {\r\n            return Memo;\r\n        } else if (type == \"BLOB\") {\r\n            return Binary;\r\n        }\r\n        return Unknown;\r\n    }\r\n}\r\n","package logging;\r\n\r\nimport haxe.crypto.Sha1;\r\n\r\nclass Logger implements ILogger {\r\n    private var _ref:String = null;\r\n    private var _instanceId:String = null;\r\n    \r\n    public function new(ref:Class<Dynamic> = null, instanceId:String = null, generateInstanceId:Bool = false) {\r\n        if (ref != null) {\r\n            _ref = Type.getClassName(ref);\r\n        }\r\n        _instanceId = instanceId;\r\n        if (_instanceId == null && generateInstanceId) {\r\n            _instanceId = generateUuid();\r\n        }\r\n    }\r\n\r\n    #if !no_inlined_logger\r\n    inline\r\n    #end\r\n    public function info(message:String, data:Any = null) {\r\n        log(LogLevel.Info, message, data);\r\n    }\r\n\r\n    #if !no_inlined_logger\r\n    inline\r\n    #end\r\n    public function debug(message:String, data:Any = null) {\r\n        log(LogLevel.Debug, message, data);\r\n    }\r\n\r\n    #if !no_inlined_logger\r\n    inline\r\n    #end\r\n    public function error(message:String, data:Any = null) {\r\n        log(LogLevel.Error, message, data);\r\n    }\r\n\r\n    #if !no_inlined_logger\r\n    inline\r\n    #end\r\n    public function warn(message:String, data:Any = null) {\r\n        log(LogLevel.Warning, message, data);\r\n    }\r\n\r\n    #if !no_inlined_logger\r\n    inline\r\n    #end\r\n    public function data(message:String, data:Any = null) {\r\n        log(LogLevel.Data, message, data);\r\n    }\r\n\r\n    #if !no_inlined_logger\r\n    inline\r\n    #end\r\n    public function performance(message:String, data:Any = null) {\r\n        log(LogLevel.Performance, message, data);\r\n    }\r\n\r\n    private var _measurements:Map<String, Float> = null;\r\n    #if !no_inlined_logger\r\n    inline\r\n    #end\r\n    public function beginMeasure(name:String) {\r\n        if (_measurements == null) {\r\n            _measurements = [];\r\n        }\r\n\r\n        _measurements.set(name, Date.now().getTime());\r\n    }\r\n\r\n    #if !no_inlined_logger\r\n    inline\r\n    #end\r\n    public function endMeasure(name:String) {\r\n        if (_measurements == null) {\r\n            _measurements = [];\r\n        }\r\n\r\n        if (_measurements.exists(name)) {\r\n            var start = _measurements.get(name);\r\n            var time = Math.round(Date.now().getTime() - start);\r\n            performance(name + \" \" + time + \"ms\");\r\n            _measurements.remove(name);\r\n        }\r\n    }\r\n\r\n    #if !no_inlined_logger\r\n    inline\r\n    #end\r\n    private function log(level:LogLevel, message:String, data:Any = null) {\r\n        LogManager.instance.log({\r\n            timestamp: Date.now().toString(),\r\n            level: level,\r\n            message: message,\r\n            data: data,\r\n            ref: _ref,\r\n            instanceId: _instanceId\r\n        });\r\n    }\r\n\r\n    private static var _uniqueIds:Map<String, Int> = null;\r\n    public function createUniqueInstanceId(prefix:String = null) {\r\n        if (_uniqueIds == null) {\r\n            _uniqueIds = [];\r\n        }\r\n        var key = _ref;\r\n        if (prefix != null) {\r\n            key += \"_\" + prefix;\r\n        }\r\n        var n = 0;\r\n        if (_uniqueIds.exists(key)) {\r\n            n = _uniqueIds.get(key);\r\n            n++;\r\n        }\r\n        _uniqueIds.set(key, n);\r\n        if (prefix != null) {\r\n            _instanceId = prefix + n;\r\n        } else {\r\n            _instanceId = \"instance\" + n;\r\n        }\r\n    }\r\n\r\n    // certainly not unique, but probably \"unique enough\" (for logging)\r\n    private function generateUuid():String {\r\n        var uuid = \"\";\r\n        for (i in 0...8) {\r\n            var n = Date.now().getTime() + Std.random(0xffffff) * Std.random(0xffffff);\r\n            var hash = Sha1.encode(Std.string(n));\r\n            var c1 = hash.charAt(Std.random(hash.length));\r\n            var c2 = hash.charAt(Std.random(hash.length));\r\n            var c3 = hash.charAt(Std.random(hash.length));\r\n            var c4 = hash.charAt(Std.random(hash.length));\r\n            uuid += c1 + c2 + c3 + c4;\r\n            if (i == 1 || i == 2 || i == 3 || i == 4) {\r\n                uuid += \"-\";\r\n            }\r\n        }\r\n        return uuid;\r\n    }\r\n}","package db.mysql;\r\n\r\nimport sys.db.Mysql;\r\nimport mysql.MySqlError;\r\nimport promises.Promise;\r\nimport mysql.DatabaseConnection as MySqlDatabaseConnection;\r\nimport db.mysql.Utils.*;\r\nimport db.utils.SqlUtils.*;\r\nimport logging.Logger;\r\n\r\nclass MySqlDatabase implements IDatabase {\r\n    private static var log = new Logger(MySqlDatabase, true);\r\n\r\n    private var _connection:MySqlDatabaseConnection = null;\r\n    private var _relationshipDefs:RelationshipDefinitions = null;\r\n    private var _config:Dynamic;\r\n\r\n    public function new() {\r\n    }\r\n\r\n    private var _properties:Map<String, Any> = [];\r\n    public function setProperty(name:String, value:Any):Void {\r\n        if (name == \"complexRelationships\") {\r\n            if (_relationshipDefs == null) {\r\n                _relationshipDefs = new RelationshipDefinitions();\r\n            }\r\n            _relationshipDefs.complexRelationships = value;\r\n        }\r\n\r\n        log.debug(\"setting property\", [name, value]);\r\n\r\n        _properties.set(name, value);\r\n    }\r\n    public function getProperty(name:String, defaultValue:Any):Any {\r\n        if (_properties == null || !_properties.exists(name)) {\r\n            return defaultValue;\r\n        }\r\n        return _properties.get(name);\r\n    }\r\n\r\n    public function config(details:Dynamic) {\r\n        _config = details;\r\n        // TODO: validate details\r\n\r\n        log.debug(\"config\", _config);\r\n    }\r\n\r\n    private function createConnection() {\r\n        if (_connection != null) {\r\n            return;\r\n        }\r\n\r\n        log.debug(\"creating connection\");\r\n\r\n        _connection = new MySqlDatabaseConnection({\r\n            //database: details.database,\r\n            host: _config.host,\r\n            user: _config.user,\r\n            pass: _config.pass\r\n        });\r\n        var autoReconnect = getProperty(\"autoReconnect\", null);\r\n        var autoReconnectIntervalMS = getProperty(\"autoReconnectIntervalMS\", null);\r\n        var replayQueriesOnReconnection = getProperty(\"replayQueriesOnReconnection\", null);\r\n        if (autoReconnect != null) {\r\n            _connection.autoReconnect = autoReconnect;\r\n        }\r\n        if (autoReconnectIntervalMS != null) {\r\n            _connection.autoReconnectIntervalMS = autoReconnectIntervalMS;\r\n        }\r\n        if (replayQueriesOnReconnection != null) {\r\n            _connection.replayQueriesOnReconnection = replayQueriesOnReconnection;\r\n        }\r\n    }\r\n\r\n    public function create():Promise<DatabaseResult<IDatabase>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (_config.database == null) {\r\n                resolve(new DatabaseResult(this));\r\n                return;\r\n            } else {\r\n                log.beginMeasure(\"create \" + _config.database);\r\n                log.debug(\"creating database:\", _config.database);\r\n                _connection.connectionDetails.database = _config.database;\r\n                _connection.exec(buildCreateDatabase(_config.database)).then(response -> {\r\n                    clearCachedSchema();\r\n                    return _connection.query(buildSelectDatabase(_config.database));\r\n                }).then(_ -> {\r\n                    log.endMeasure(\"create \" + _config.database);\r\n                    resolve(new DatabaseResult(this));\r\n                }, (error:MySqlError) -> {\r\n                    log.endMeasure(\"create \" + _config.database);\r\n                    log.error(\"error creating database:\", error);\r\n                    reject(MySqlError2DatabaseError(error, \"delete\"));\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    public function delete():Promise<DatabaseResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (_config.database == null) {\r\n                resolve(new DatabaseResult(this, true));\r\n                return;\r\n            } else {\r\n                log.beginMeasure(\"delete \" + _config.database);\r\n                log.debug(\"deleting database:\", _config.database);\r\n                _connection.exec(buildDropDatabase(_config.database)).then(response -> {\r\n                    clearCachedSchema();\r\n                    log.endMeasure(\"delete \" + _config.database);\r\n                    resolve(new DatabaseResult(this, true));\r\n                }, (error:MySqlError) -> {\r\n                    log.endMeasure(\"delete \" + _config.database);\r\n                    log.error(\"error deleting database:\", error);\r\n                    reject(MySqlError2DatabaseError(error, \"delete\"));\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private var _schema:DatabaseSchema = null;\r\n    public function schema(force:Bool = false):Promise<DatabaseResult<DatabaseSchema>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (force) {\r\n                clearCachedSchema();\r\n            }\r\n            if (_schema == null) {\r\n                log.beginMeasure(\"schema\");\r\n                log.debug(\"loading database schema for:\", _config.database);\r\n                Utils.loadFullDatabaseSchema(_connection, _config, MySqlDataTypeMapper.get()).then(schema -> {\r\n                    _schema = schema;\r\n                    log.endMeasure(\"schema\");\r\n                    resolve(new DatabaseResult(this, _schema));\r\n                }, (error:MySqlError) -> {\r\n                    log.endMeasure(\"schema\");\r\n                    log.error(\"error loading database schema:\", error);\r\n                    reject(MySqlError2DatabaseError(error, \"schema\"));\r\n                });\r\n            } else {\r\n                resolve(new DatabaseResult(this, _schema));\r\n            }\r\n        });\r\n    }\r\n\r\n    public function clearCachedSchema() {\r\n        _schema = null;\r\n    }\r\n\r\n    public function defineTableRelationship(field1:String, field2:String) {\r\n        if (_relationshipDefs == null) {\r\n            _relationshipDefs = new RelationshipDefinitions();\r\n        }\r\n        log.debug(\"defining relationship\", [field1, field2]);\r\n        _relationshipDefs.add(field1, field2);\r\n    }\r\n\r\n    public function definedTableRelationships():RelationshipDefinitions {\r\n        return _relationshipDefs;\r\n    }\r\n\r\n    public function clearTableRelationships() {\r\n        _relationshipDefs = null;\r\n    }\r\n\r\n    public function connect():Promise<DatabaseResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            log.beginMeasure(\"connect\");\r\n            log.debug(\"connecting\");\r\n            createConnection();\r\n            _connection.open().then(response -> {\r\n                if (_config.database == null) {\r\n                    return null;\r\n                }\r\n                log.debug(\"checking for database:\", _config.database);\r\n                return _connection.query(buildHasDatabase(_config.database));\r\n            }).then(result -> {\r\n                if (result == null || result.data == null || result.data.length == 0) {\r\n                    return null;\r\n                }\r\n                log.debug(\"database exists:\", _config.database);\r\n                return _connection.query(buildSelectDatabase(_config.database));\r\n            }).then(_ -> {\r\n                log.endMeasure(\"connect\");\r\n                _connection.connectionDetails.database = _config.database;\r\n                resolve(new DatabaseResult(this, true));\r\n            }, (error:MySqlError) -> {\r\n                log.endMeasure(\"connect\");\r\n                log.error(\"error connecting:\", error);\r\n                reject(MySqlError2DatabaseError(error, \"connect\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function disconnect():Promise<DatabaseResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            log.debug(\"disconnecting\");\r\n            _connection.close();\r\n            _connection = null;\r\n            clearCachedSchema();\r\n            resolve(new DatabaseResult(this, true));\r\n        });\r\n    }\r\n\r\n    public function table(name:String):Promise<DatabaseResult<ITable>> {\r\n        return new Promise((resolve, reject) -> {\r\n            log.beginMeasure(\"table \" + name);\r\n            log.debug(\"looking for table:\", [_config.database, name]);\r\n            _connection.get(SQL_TABLE_EXISTS, [_config.database, name]).then(response -> {\r\n                var table:ITable = new MySqlTable(this);\r\n                table.name = name;\r\n                table.exists = !(response.data == null);\r\n                log.endMeasure(\"table \" + name);\r\n                if (table.exists) {\r\n                    log.debug(\"table found:\", [_config.database, name]);\r\n                } else {\r\n                    log.debug(\"table not found:\", [_config.database, name]);\r\n                }\r\n                resolve(new DatabaseResult(this, table));\r\n            }, (error:MySqlError) -> {\r\n                log.endMeasure(\"table \" + name);\r\n                log.error(\"error looking for table:\", error);\r\n                reject(MySqlError2DatabaseError(error, \"table\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function createTable(name:String, columns:Array<ColumnDefinition>):Promise<DatabaseResult<ITable>> {\r\n        return new Promise((resolve, reject) -> {\r\n            log.beginMeasure(\"createTable \" + name);\r\n            log.debug(\"creating table\", [name, columns]);\r\n            var sql = buildCreateTable(name, columns, MySqlDataTypeMapper.get());\r\n            _connection.exec(sql).then(response -> {\r\n                var table:ITable = new MySqlTable(this);\r\n                table.name = name;\r\n                table.exists = true;\r\n\r\n                log.endMeasure(\"createTable \" + name);\r\n                _schema = null;\r\n                resolve(new DatabaseResult(this, table));\r\n            }, (error:MySqlError) -> {\r\n                log.endMeasure(\"createTable \" + name);\r\n                log.error(\"error creating table\", error);\r\n                reject(MySqlError2DatabaseError(error, \"createTable\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function deleteTable(name:String):Promise<DatabaseResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            _schema = null;\r\n            reject(new DatabaseError(\"not implemented\", \"deleteTable\"));\r\n        });\r\n    }\r\n\r\n    #if allow_raw\r\n    public function raw(data:String, values:Array<Any> = null):Promise<DatabaseResult<RecordSet>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (values == null) {\r\n                values = [];\r\n            }\r\n            var sql = data;\r\n            _connection.all(sql, values).then(response -> {\r\n                var records:RecordSet = [];\r\n                for (item in response.data) {\r\n                    records.push(Record.fromDynamic(item));\r\n                }\r\n                resolve(new DatabaseResult(this, records));\r\n            }, (error:MySqlError) -> {\r\n                reject(MySqlError2DatabaseError(error, \"raw\"));\r\n            });\r\n        });\r\n    }\r\n    #end\r\n}","package db.mysql;\r\n\r\nimport db.macros.IDatabaseType;\r\nimport db.macros.DatabaseTypeInfo;\r\n\r\n#if (js && !(nodejs))\r\n#error \"haxe nodejs lib needed for js builds\"\r\n#end\r\n\r\nclass MySqlDatabaseType implements IDatabaseType {\r\n    public function new() {\r\n    }\r\n\r\n    public function typeInfo():DatabaseTypeInfo {\r\n        return {\r\n            ctor: MySqlDatabase.new\r\n        };\r\n    }\r\n}\r\n","package db.mysql;\r\n\r\nimport logging.LogManager;\r\nimport promises.PromiseUtils;\r\nimport promises.Promise;\r\nimport mysql.DatabaseConnection as MySqlDatabaseConnection;\r\nimport mysql.MySqlError;\r\nimport db.mysql.Utils.*;\r\nimport db.utils.SqlUtils.*;\r\nimport Query.QueryExpr;\r\nimport logging.Logger;\r\n\r\nclass MySqlTable implements ITable {\r\n    private static var log = new Logger(MySqlTable, true);\r\n\r\n    public var db:IDatabase;\r\n    public var name:String;\r\n    public var exists:Bool;\r\n\r\n    public function new(db:IDatabase) {\r\n        this.db = db;\r\n    }\r\n\r\n    private var _tableSchema:TableSchema = null;\r\n    public function schema(force:Bool = false):Promise<DatabaseResult<TableSchema>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (force) {\r\n                clearCachedSchema();\r\n            }\r\n            if (_tableSchema != null) {\r\n                resolve(new DatabaseResult(db, this, _tableSchema));\r\n                return;\r\n            }\r\n\r\n            this.db.schema(force).then(result -> {\r\n                _tableSchema = result.data.findTable(this.name);\r\n                resolve(new DatabaseResult(db, this, _tableSchema));\r\n            }, (error:DatabaseError) -> {\r\n                reject(error);\r\n            });\r\n        });\r\n    }\r\n\r\n    public function clearCachedSchema() {\r\n        _tableSchema = null;\r\n    }\r\n\r\n    public function applySchema(newSchema:TableSchema):Promise<DatabaseResult<TableSchema>> {\r\n        return new Promise((resolve, reject) -> {\r\n            \r\n            var schemaChanged:Bool = false;\r\n\r\n            log.beginMeasure(\"applying schema\");\r\n            log.debug(\"applying schema\");\r\n            schema().then(result -> {\r\n                var promises = [];\r\n                var currentSchema = result.data;\r\n                if (currentSchema != null && !currentSchema.equals(newSchema)) {\r\n                    var diff = currentSchema.diff(newSchema);\r\n\r\n                    for (added in diff.addedColumns) {\r\n                        promises.push(addColumn.bind(added));\r\n                        schemaChanged = true;\r\n                    }\r\n\r\n                    for (removed in diff.removedColumns) {\r\n                        promises.push(removeColumn.bind(removed));\r\n                        schemaChanged = true;\r\n                    }\r\n                }\r\n                return PromiseUtils.runSequentially(promises);\r\n            }).then(result -> {\r\n                if (schemaChanged) {\r\n                    clearCachedSchema();\r\n                    cast(db, MySqlDatabase).clearCachedSchema();\r\n                }\r\n                log.endMeasure(\"applying schema\");\r\n                resolve(new DatabaseResult(db, this, newSchema));\r\n            }, (error:DatabaseError) -> {\r\n                log.error(\"error applying schema\");\r\n                reject(error);\r\n            });\r\n        });\r\n    }\r\n\r\n    public function all():Promise<DatabaseResult<RecordSet>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'all'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"all\");\r\n            log.debug(\"all\");\r\n            refreshSchema().then(schemaResult -> {\r\n                var values = [];\r\n                var sql = buildSelect(this, null, null, null, values, db.definedTableRelationships(), schemaResult.data);\r\n                return connection.all(sql);\r\n            }).then(response -> {\r\n                var records:RecordSet = [];\r\n                for (item in response.data) {\r\n                    records.push(Record.fromDynamic(item));\r\n                }\r\n                log.endMeasure(\"all\");\r\n                resolve(new DatabaseResult(db, this, records));\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"all\", error);\r\n                reject(MySqlError2DatabaseError(error, \"all\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function page(pageIndex:Int, pageSize:Int = 100, query:QueryExpr = null, allowRelationships:Bool = true):Promise<DatabaseResult<RecordSet>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'find'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"page\");\r\n            log.debug(\"page\", [pageIndex, pageSize]);\r\n            refreshSchema().then(schemaResult -> {\r\n                var relationshipDefinintions = db.definedTableRelationships();\r\n                if (!allowRelationships) {\r\n                    relationshipDefinintions = null;\r\n                }\r\n                var values = [];\r\n                var sql = buildSelect(this, null, pageSize, pageIndex * pageSize, values, relationshipDefinintions, schemaResult.data);\r\n                return connection.all(sql, values);\r\n            }).then(response -> {\r\n                var records:RecordSet = [];\r\n                for (item in response.data) {\r\n                    records.push(Record.fromDynamic(item));\r\n                }\r\n                log.endMeasure(\"page\");\r\n                resolve(new DatabaseResult(db, this, records));\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"page\", error);\r\n                reject(MySqlError2DatabaseError(error, \"page\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function add(record:Record):Promise<DatabaseResult<Record>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'add'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"add\");\r\n            if (LogManager.instance.shouldLogDebug) {\r\n                log.debug(\"add\", record.debugString());\r\n            }\r\n            var insertedId:Int = -1;\r\n            var schema:DatabaseSchema = null;\r\n            refreshSchema(true).then(schemaResult -> {\r\n                schema = schemaResult.data;\r\n                var values = [];\r\n                var sql = buildInsert(this, record, values, MySqlDataTypeMapper.get());\r\n                return connection.get(sql, values);\r\n            }).then(response -> {\r\n                insertedId = response.data.insertId;\r\n\r\n                var tableSchema = schema.findTable(this.name);\r\n                if (tableSchema != null) {\r\n                    var primaryKeyColumns = tableSchema.findPrimaryKeyColumns();\r\n                    if (primaryKeyColumns.length == 1) { // we'll only \"auto set\" the primary key column if there is _only_ one of them\r\n                        record.field(primaryKeyColumns[0].name, insertedId);\r\n                    }\r\n                }\r\n\r\n                record.field(\"_insertedId\", insertedId);\r\n                log.endMeasure(\"add\");\r\n                var result = new DatabaseResult(db, this, record);\r\n                result.itemsAffected = response.affectedRows;\r\n                resolve(result);\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"add\", error);\r\n                reject(MySqlError2DatabaseError(error, \"add\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function addAll(records:RecordSet):Promise<DatabaseResult<RecordSet>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'addAll'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"addAll\");\r\n            log.debug(\"addAll\");\r\n            var promises = [];\r\n            for (record in records) {\r\n                promises.push(add.bind(record));\r\n            }\r\n\r\n            PromiseUtils.runSequentially(promises).then(results -> {\r\n                log.endMeasure(\"addAll\");\r\n                var itemsAffected = 0;\r\n                for (result in results) {\r\n                    itemsAffected += result.itemsAffected;\r\n                }\r\n                var result = new DatabaseResult(db, this, records);\r\n                result.itemsAffected = itemsAffected;\r\n                resolve(result);\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"addAll\", error);\r\n                reject(MySqlError2DatabaseError(error, \"addAll\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function delete(record:Record):Promise<DatabaseResult<Record>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'delete'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"delete\");\r\n            if (LogManager.instance.shouldLogDebug) {\r\n                log.debug(\"delete\", record.debugString());\r\n            }\r\n            refreshSchema().then(schemaResult -> {\r\n                var values = [];\r\n                var sql = buildDeleteRecord(this, record, values);\r\n                return connection.get(sql, values);\r\n            }).then(response -> {\r\n                log.endMeasure(\"delete\");\r\n                var result = new DatabaseResult(db, this, record);\r\n                result.itemsAffected = response.affectedRows;\r\n                resolve(result);\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"delete\", error);\r\n                reject(MySqlError2DatabaseError(error, \"delete\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function deleteAll(query:QueryExpr = null):Promise<DatabaseResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'deleteAll'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"deleteAll\");\r\n            refreshSchema().then(schemaResult -> {\r\n                return connection.exec(buildDeleteWhere(this, query));\r\n            }).then(response -> {\r\n                log.endMeasure(\"deleteAll\");\r\n                var result = new DatabaseResult(db, this, true);\r\n                result.itemsAffected = response.affectedRows;\r\n                resolve(result);\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"deleteAll\", error);\r\n                reject(MySqlError2DatabaseError(error, \"deleteAll\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function update(query:QueryExpr, record:Record):Promise<DatabaseResult<Record>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'update'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"update\");\r\n            if (LogManager.instance.shouldLogDebug) {\r\n                log.debug(\"update\", record.debugString());\r\n            }\r\n            refreshSchema().then(schemaResult -> {\r\n                var values = [];\r\n                var sql = buildUpdate(this, query, record, values, MySqlDataTypeMapper.get());\r\n                return connection.get(sql, values);\r\n            }).then(response -> {\r\n                log.endMeasure(\"update\");\r\n                var result = new DatabaseResult(db, this, record);\r\n                result.itemsAffected = response.affectedRows;\r\n                resolve(result);\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"update\", error);\r\n                reject(MySqlError2DatabaseError(error, \"update\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function find(query:QueryExpr, allowRelationships:Bool = true):Promise<DatabaseResult<RecordSet>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'find'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"find\");\r\n            log.debug(\"find\");\r\n            refreshSchema().then(schemaResult -> {\r\n                var relationshipDefinintions = db.definedTableRelationships();\r\n                if (!allowRelationships) {\r\n                    relationshipDefinintions = null;\r\n                }\r\n                var values = [];\r\n                var sql = buildSelect(this, query, null, null, values, relationshipDefinintions, schemaResult.data);\r\n                return connection.all(sql, values);\r\n            }).then(response -> {\r\n                var records:RecordSet = [];\r\n                for (item in response.data) {\r\n                    records.push(Record.fromDynamic(item));\r\n                }\r\n                log.endMeasure(\"find\");\r\n                resolve(new DatabaseResult(db, this, records));\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"find\");\r\n                reject(MySqlError2DatabaseError(error, \"find\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function findOne(query:QueryExpr, allowRelationships:Bool = true):Promise<DatabaseResult<Record>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'findOne'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"findOne\");\r\n            log.debug(\"findOne\");\r\n            refreshSchema().then(schemaResult -> {\r\n                var relationshipDefinintions = db.definedTableRelationships();\r\n                if (!allowRelationships) {\r\n                    relationshipDefinintions = null;\r\n                }\r\n                var values = [];\r\n                var sql = buildSelect(this, query, 1, values, relationshipDefinintions, schemaResult.data);\r\n                return connection.get(sql, values);\r\n            }).then(response -> {\r\n                var record:Record = null;\r\n                if (response.data != null && (response.data is Array)) {\r\n                    record = Record.fromDynamic(response.data[0]);\r\n                } else if (response.data != null) {\r\n                    record =  Record.fromDynamic(response.data);\r\n                }\r\n                log.endMeasure(\"findOne\");\r\n                resolve(new DatabaseResult(db, this, record));\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"findOne\", error);\r\n                reject(MySqlError2DatabaseError(error, \"findOne\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function findUnique(columnName:String, query:QueryExpr = null, allowRelationships:Bool = true):Promise<DatabaseResult<RecordSet>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'findOne'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"findUnique\");\r\n            log.debug(\"findUnique\");\r\n            refreshSchema().then(schemaResult -> {\r\n                var relationshipDefinintions = db.definedTableRelationships();\r\n                if (!allowRelationships) {\r\n                    relationshipDefinintions = null;\r\n                }\r\n                var values = [];\r\n                var sql = buildDistinctSelect(this, query, columnName, null, null, values, relationshipDefinintions, schemaResult.data);\r\n                return connection.all(sql, values);\r\n            }).then(response -> {\r\n                var records:RecordSet = [];\r\n                for (item in response.data) {\r\n                    records.push(Record.fromDynamic(item));\r\n                }\r\n                log.endMeasure(\"findUnique\");\r\n                resolve(new DatabaseResult(db, this, records));\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"findUnique\", error);\r\n                reject(MySqlError2DatabaseError(error, \"findUnique\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function count(query:QueryExpr = null):Promise<DatabaseResult<Int>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'findOne'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"count\");\r\n            log.debug(\"count\");\r\n            refreshSchema().then(schemaResult -> {\r\n                var sql = buildCount(this, query);\r\n                return connection.get(sql);\r\n            }).then(response -> {\r\n                var record = Record.fromDynamic(response.data);\r\n                log.endMeasure(\"count\");\r\n                resolve(new DatabaseResult(db, this, cast record.values()[0]));\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"count\", error);\r\n                reject(MySqlError2DatabaseError(error, \"count\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function addColumn(column:ColumnDefinition):Promise<DatabaseResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'addColumn'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"addColumn\");\r\n            log.debug(\"addColumn\");\r\n            var sql = buildAddColumns(this.name, [column], MySqlDataTypeMapper.get());\r\n            connection.exec(sql).then(result -> {\r\n                clearCachedSchema();\r\n                cast(db, MySqlDatabase).clearCachedSchema();\r\n                log.endMeasure(\"addColumn\");\r\n                resolve(new DatabaseResult(db, this, true));\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"addColumn\", error);\r\n                reject(MySqlError2DatabaseError(error, \"addColumn\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    public function removeColumn(column:ColumnDefinition):Promise<DatabaseResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (!exists) {\r\n                reject(new DatabaseError('table \"${name}\" does not exist', 'addColumn'));\r\n                return;\r\n            }\r\n\r\n            log.beginMeasure(\"removeColumn\");\r\n            log.debug(\"removeColumn\");\r\n            var sql = buildRemoveColumns(this.name, [column], MySqlDataTypeMapper.get());\r\n            connection.exec(sql).then(result -> {\r\n                clearCachedSchema();\r\n                cast(db, MySqlDatabase).clearCachedSchema();\r\n                log.endMeasure(\"removeColumn\");\r\n                resolve(new DatabaseResult(db, this, true));\r\n            }, (error:MySqlError) -> {\r\n                log.error(\"removeColumn\", error);\r\n                reject(MySqlError2DatabaseError(error, \"addColumn\"));\r\n            });\r\n        });\r\n    }\r\n\r\n    #if allow_raw\r\n    public function raw(data:String, values:Array<Any> = null):Promise<DatabaseResult<RecordSet>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (values == null) {\r\n                values = [];\r\n            }\r\n            var sql = data;\r\n            connection.all(sql, values).then(response -> {\r\n                var records:RecordSet = [];\r\n                for (item in response.data) {\r\n                    records.push(Record.fromDynamic(item));\r\n                }\r\n                resolve(new DatabaseResult(db, this, records));\r\n            }, (error:MySqlError) -> {\r\n                reject(MySqlError2DatabaseError(error, \"raw\"));\r\n            });\r\n        });\r\n    }\r\n    #end\r\n\r\n    private var connection(get, null):MySqlDatabaseConnection;\r\n    private function get_connection():MySqlDatabaseConnection {\r\n        return @:privateAccess cast(db, MySqlDatabase)._connection;\r\n    }\r\n\r\n    private function refreshSchema(force:Bool = false):Promise<DatabaseResult<DatabaseSchema>> { // we'll only refresh the data schema if there are table relationships, since the queries might need them\r\n        return new Promise((resolve, reject) -> {\r\n            var alwaysAliasResultFields:Bool = this.db.getProperty(\"alwaysAliasResultFields\", false);\r\n            if (force == false && alwaysAliasResultFields == false && db.definedTableRelationships() == null) {\r\n                resolve(new DatabaseResult(db, this, null));\r\n                return;\r\n            }\r\n\r\n            db.schema().then(result -> {\r\n                resolve(result);\r\n            }, (error) -> {\r\n                reject(error);\r\n            });\r\n        });\r\n    }\r\n}","package db.mysql;\r\n\r\nimport mysql.MySqlError;\r\nimport promises.Promise;\r\nimport mysql.DatabaseConnection as MySqlDatabaseConnection;\r\n\r\nusing StringTools;\r\n\r\nclass Utils {\r\n    public static inline var SQL_TABLE_EXISTS = \"SELECT * FROM information_schema.TABLES WHERE TABLE_SCHEMA=? AND TABLE_NAME=?;\";\r\n    public static inline var SQL_LIST_TABLES_AND_FIELDS = \"SELECT * FROM information_schema.columns\r\n                                                           WHERE table_schema = ?\r\n                                                           ORDER BY table_name,ordinal_position;\";\r\n\r\n    public static function MySqlError2DatabaseError(error:MySqlError, call:String) {\r\n        var dbError = new DatabaseError(error.message, call);\r\n        return dbError;\r\n    }\r\n\r\n    public static function buildCreateDatabase(databaseName:String):String {\r\n        return 'CREATE DATABASE IF NOT EXISTS ${databaseName};';\r\n    }\r\n\r\n    public static function buildDropDatabase(databaseName:String):String {\r\n        return 'DROP DATABASE IF EXISTS ${databaseName};';\r\n    }\r\n\r\n    public static function buildSelectDatabase(databaseName:String):String {\r\n        return 'USE ${databaseName};';\r\n    }\r\n\r\n    public static function buildHasDatabase(databaseName:String):String {\r\n        return 'SHOW DATABASES LIKE \\'${databaseName}\\';';\r\n    }\r\n\r\n    public static function buildCreateTable(tableName:String, columns:Array<ColumnDefinition>, typeMapper:IDataTypeMapper) {\r\n        var sql = 'CREATE TABLE ${tableName} (\\n';\r\n\r\n        var columnParts = [];\r\n        var primaryKey:String = null;\r\n        for (column in columns) {\r\n            var type = typeMapper.haxeTypeToDatabaseType(column.type);\r\n            var columnSql = '    ${column.name}';\r\n            columnSql += ' ${type}';\r\n            var suffix = '';\r\n            if (column.options != null) {\r\n                for (option in column.options) {\r\n                    switch (option) {\r\n                        case PrimaryKey:\r\n                            primaryKey = column.name;\r\n                        case AutoIncrement:        \r\n                            suffix += ' AUTO_INCREMENT';\r\n                        case NotNull:\r\n                            suffix += ' NOT NULL';\r\n                    }\r\n                }\r\n            }\r\n            if (suffix.length > 0) {\r\n                columnSql += suffix;\r\n            }\r\n\r\n            columnParts.push(columnSql);\r\n        }\r\n\r\n        if (primaryKey != null) {\r\n            columnParts.push('    PRIMARY KEY ($primaryKey)');\r\n        }\r\n\r\n        sql += columnParts.join(\",\\n\");\r\n\r\n        sql += ');';\r\n        return sql;\r\n    }\r\n\r\n    public static function loadFullDatabaseSchema(connection:MySqlDatabaseConnection, config:Dynamic, typeMapper:IDataTypeMapper):Promise<DatabaseSchema> {\r\n        return new Promise((resolve, reject) -> {\r\n            var database:String = null;\r\n            if (config != null && config.database != null) {\r\n                database = config.database;\r\n            }\r\n            if (database == null) {\r\n                reject(\"no database name\");\r\n            } else {\r\n                var schema:DatabaseSchema = {};\r\n                connection.all(SQL_LIST_TABLES_AND_FIELDS, [database]).then(result -> {\r\n                    for (r in result.data) {\r\n                        var table = schema.findTable(r.TABLE_NAME);\r\n                        if (table == null) {\r\n                            table = {\r\n                                name: r.TABLE_NAME\r\n                            };\r\n                            schema.tables.push(table);\r\n                        }\r\n\r\n                        var dbType = r.DATA_TYPE;\r\n                        if (r.CHARACTER_MAXIMUM_LENGTH != null) {\r\n                            dbType += \":\" + r.CHARACTER_MAXIMUM_LENGTH;\r\n                        }\r\n\r\n                        var options = [];\r\n                        var columnKey:String = r.COLUMN_KEY;\r\n                        if (columnKey != null && columnKey.contains(\"PRI\")) {\r\n                            options.push(ColumnOptions.PrimaryKey);\r\n                        }\r\n                        var extra:String = r.EXTRA;\r\n                        if (extra != null && extra.contains(\"auto_increment\")) {\r\n                            options.push(ColumnOptions.AutoIncrement);\r\n                        }\r\n\r\n                        table.columns.push({\r\n                            name: r.COLUMN_NAME,\r\n                            type: typeMapper.databaseTypeToHaxeType(dbType),\r\n                            options: options\r\n\r\n                        });\r\n                    }\r\n                    resolve(schema);\r\n                }, error -> {\r\n                    reject(error);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    public static function buildAddColumns(tableName:String, columns:Array<ColumnDefinition>, typeMapper:IDataTypeMapper):String {\r\n        var sql = 'ALTER TABLE ${tableName}\\n';\r\n\r\n        for (column in columns) {\r\n            var type = typeMapper.haxeTypeToDatabaseType(column.type);\r\n            sql += 'ADD ${column.name} ${type}';\r\n        }\r\n\r\n        sql += ';';\r\n\r\n        return sql;\r\n    }\r\n\r\n    public static function buildRemoveColumns(tableName:String, columns:Array<ColumnDefinition>, typeMapper:IDataTypeMapper):String {\r\n        var sql = 'ALTER TABLE ${tableName}\\n';\r\n\r\n        for (column in columns) {\r\n            sql += 'DROP COLUMN ${column.name}';\r\n        }\r\n\r\n        sql += ';';\r\n\r\n        return sql;\r\n    }\r\n}","package db.utils;\r\n\r\nimport Query.QueryExpr;\r\nimport haxe.io.Bytes;\r\n\r\nusing StringTools;\r\n\r\nclass SqlUtils {\r\n    public static function buildInsert(table:ITable, record:Record, values:Array<Any> = null, typeMapper:IDataTypeMapper = null):String {\r\n        var fieldNames = fieldNamesFromRecord(record);\r\n        var sql = 'INSERT INTO ${table.name} (${fieldNames.join(\", \")}) VALUES ';\r\n        var placeholders = [];\r\n        for (f in record.fieldNames) {\r\n            placeholders.push('?');\r\n            if (values != null) {\r\n                values.push(record.field(f));\r\n            }\r\n        }\r\n        if (typeMapper != null) {\r\n            for (i in 0...values.length) {\r\n                var v = values[i];\r\n                if (typeMapper.shouldConvertValueToDatabase(v)) {\r\n                    v = typeMapper.convertValueToDatabase(v);\r\n                    values[i] = v;\r\n                }\r\n            }\r\n        }\r\n        sql += '(${placeholders.join(\", \")})';\r\n        sql += ';';\r\n        return sql;\r\n    }\r\n\r\n    public static function buildSelect(table:ITable, query:QueryExpr = null, limit:Null<Int> = null, offset:Null<Int> = null, values:Array<Any> = null, relationships:RelationshipDefinitions = null, databaseSchema:DatabaseSchema = null):String {\r\n        var alwaysAliasResultFields:Bool = table.db.getProperty(\"alwaysAliasResultFields\", false);\r\n        var fieldAliases = [];\r\n        var sqlJoin = buildJoins(table.name, null, relationships, databaseSchema, fieldAliases);\r\n        if (alwaysAliasResultFields == true || (fieldAliases != null && fieldAliases.length > 0)) {\r\n            if (databaseSchema != null) {\r\n                var tableSchema = databaseSchema.findTable(table.name);\r\n                if (tableSchema != null) {\r\n                    for (tableColumn in tableSchema.columns) {\r\n                        fieldAliases.insert(0, '${table.name}.${tableColumn.name} AS `${table.name}.${tableColumn.name}`');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        var fieldList = '*';\r\n        if (fieldAliases.length > 0) {\r\n            fieldList = fieldAliases.join(\", \");\r\n        }\r\n        var sql = 'SELECT ${fieldList} FROM ${table.name}';\r\n        sql += sqlJoin;\r\n\r\n        if (query != null) {\r\n            sql += '\\nWHERE (${Query.queryExprToSql(query, values, table.name)})';\r\n        }\r\n        if (limit != null) {\r\n            sql += ' LIMIT ' + limit;\r\n        }\r\n        if (offset != null) {\r\n            sql += ' OFFSET ' + offset;\r\n        }\r\n        sql += ';';\r\n        return sql;\r\n    }\r\n\r\n    public static function buildCount(table:ITable, query:QueryExpr = null, values:Array<Any> = null):String {\r\n        var fieldList = 'COUNT(*)';\r\n        var sql = 'SELECT ${fieldList} FROM ${table.name}';\r\n\r\n        if (query != null) {\r\n            sql += '\\nWHERE (${Query.queryExprToSql(query, values, table.name)})';\r\n        }\r\n        sql += ';';\r\n        return sql;\r\n    }\r\n\r\n    public static function buildDistinctSelect(table:ITable, query:QueryExpr = null, distinctColumn:String = null, limit:Null<Int> = null, offset:Null<Int> = null, values:Array<Any> = null, relationships:RelationshipDefinitions = null, databaseSchema:DatabaseSchema = null):String {\r\n        var alwaysAliasResultFields:Bool = table.db.getProperty(\"alwaysAliasResultFields\", false);\r\n        var fieldAliases = [];\r\n\r\n        var fieldList = '*';\r\n        if (distinctColumn != null) {\r\n            fieldAliases.push('distinct(${distinctColumn})');\r\n        }\r\n        if (fieldAliases.length > 0) {\r\n            fieldList = fieldAliases.join(\", \");\r\n        }\r\n        var sql = 'SELECT ${fieldList} FROM ${table.name}';\r\n\r\n        if (query != null) {\r\n            sql += '\\nWHERE (${Query.queryExprToSql(query, values, table.name)})';\r\n        }\r\n        if (limit != null) {\r\n            sql += ' LIMIT ' + limit;\r\n        }\r\n        if (offset != null) {\r\n            sql += ' OFFSET ' + offset;\r\n        }\r\n        sql += ';';\r\n        return sql;\r\n    }\r\n\r\n    private static function buildJoins(tableName:String, prefix:String, relationships:RelationshipDefinitions, databaseSchema:DatabaseSchema, fieldAliases:Array<String>) {\r\n        if (relationships == null) {\r\n            return \"\";\r\n        }\r\n        var sql = \"\";\r\n\r\n        var tableRelationships = relationships.get(tableName);\r\n        if (tableRelationships == null) {\r\n            return \"\";\r\n        }\r\n        \r\n\r\n        for (tableRelationship in tableRelationships) {\r\n            var table1 = tableRelationship.table1;\r\n            var field1 = tableRelationship.field1;\r\n            var table2 = tableRelationship.table2;\r\n            var field2 = tableRelationship.field2;\r\n            if (prefix == null) {\r\n                prefix = table1;\r\n            }\r\n            var joinName = table1 + \".\" + table2;\r\n            if (relationships.complexRelationships) {\r\n                joinName = prefix + \".\" + field1 + \".\" + table2 + \".\" + field2;\r\n            }\r\n\r\n            var tableSchema = databaseSchema.findTable(table2);\r\n            if (tableSchema == null) {\r\n                continue;\r\n            }\r\n\r\n            for (tableColumn in tableSchema.columns) {\r\n                fieldAliases.push('`${joinName}`.`${tableColumn.name}` AS `${joinName}.${tableColumn.name}`');\r\n            }\r\n\r\n            sql += '\\n    LEFT JOIN `${table2}` AS `${joinName}` ON `${joinName}`.`${field2}` = `${prefix}`.`${field1}`';\r\n            sql += buildJoins(table2, joinName, relationships, databaseSchema, fieldAliases);\r\n        }\r\n        \r\n        return sql;\r\n    }\r\n\r\n    public static function buildDeleteRecord(table:ITable, record:Record, values:Array<Any> = null):String {\r\n        var fieldNames = fieldNamesFromRecord(record);\r\n        var sql = 'DELETE FROM ${table.name} WHERE ';\r\n        var placeholders = [];\r\n        for (f in record.fieldNames) {\r\n            var v = record.field(f);\r\n            f = quoteFieldName(f);\r\n            if ((v is Bytes)) {\r\n                continue;\r\n            }\r\n            placeholders.push('${f} = ?');\r\n            if (values != null) {\r\n                values.push(v);\r\n            }\r\n        }\r\n        sql += '(${placeholders.join(\" AND \")})';\r\n        sql += ';';\r\n        return sql;\r\n    }\r\n\r\n    public static function buildDeleteWhere(table:ITable, query:QueryExpr):String {\r\n        var sql = 'DELETE FROM ${table.name}';\r\n        if (query != null) {\r\n            sql += ' WHERE (${Query.queryExprToSql(query, null, table.name)})';\r\n        }\r\n        sql += ';';\r\n        return sql;\r\n    }\r\n\r\n    public static function buildUpdate(table:ITable, query:QueryExpr, record:Record, values:Array<Any> = null, typeMapper:IDataTypeMapper = null):String {\r\n        var fieldNames = fieldNamesFromRecord(record);\r\n        var sql = 'UPDATE ${table.name} SET ';\r\n        var placeholders = [];\r\n        for (f in record.fieldNames) {\r\n            var v = record.field(f);\r\n            f = quoteFieldName(f);\r\n            if (v == null) {\r\n                placeholders.push('${f} = NULL');\r\n            } else {\r\n                if (typeMapper != null && typeMapper.shouldConvertValueToDatabase(v)) {\r\n                    v = typeMapper.convertValueToDatabase(v);\r\n                }\r\n                placeholders.push('${f} = ?');\r\n                if (values != null) {\r\n                    values.push(v);\r\n                }\r\n            }\r\n        }\r\n        sql += '${placeholders.join(\", \")}';\r\n        sql += ' WHERE (${Query.queryExprToSql(query, values, table.name)})';\r\n        sql += ';';\r\n        return sql;\r\n    }\r\n\r\n    private static function fieldNamesFromRecord(record:Record):Array<String> {\r\n        var names = [];\r\n        for (f in record.fieldNames) {\r\n            names.push('`${f}`');\r\n        }\r\n        return names;\r\n    }\r\n\r\n    private static inline function quoteFieldName(f:String) {\r\n        return '`${f}`';\r\n    }\r\n}\r\n","package discord_builder;\r\n\r\nimport haxe.Rest;\r\n\r\nclass APIActionRowComponent<T> extends APIBaseComponent {\r\n\r\n\tvar components:Array<T> = [];\r\n\tpublic function new() {\r\n\t\tthis.type = ActionRow;\r\n\t}\r\n\r\n\tpublic function addComponents(components:Rest<T>) {\r\n\t\tfor (c in components) {\r\n\t\t\tthis.components.push(c);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n}\r\n","package haxe.iterators;\r\n\r\nclass RestIterator<T> {\r\n\tfinal args:Rest<T>;\r\n\tvar current:Int = 0;\r\n\r\n\t@:allow(haxe.Rest)\r\n\tinline function new(args:Any) {\r\n\t\tthis.args = args;\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn current < args.length;\r\n\t}\r\n\r\n\tpublic inline function next():T {\r\n\t\treturn args[current++];\r\n\t}\r\n}","package discord_builder;\r\n\r\nclass APIButtonComponentBase extends APIBaseComponent {\r\n\tpublic function new () {\r\n\t\tthis.type = Button;\r\n\t}\r\n}","package discord_builder;\r\n\r\nclass APITextInputComponent extends APIBaseComponent {\t\r\n\tvar style:TextInputStyle;\r\n\tvar custom_id:String;\r\n\tvar label:String;\r\n\tvar placeholder:String;\r\n\tvar value:String;\r\n\tvar min_length:Int;\r\n\tvar max_length:Int;\r\n\tvar required:Bool;\r\n\r\n\tpublic function new () {\r\n\t\tthis.type = TextInput;\r\n\t}\r\n\tpublic function setStyle(style:TextInputStyle):APITextInputComponent {\r\n\t\tthis.style = style;\r\n\t\treturn this;\r\n\t}\r\n\tpublic function setCustomId(custom_id:String):APITextInputComponent {\r\n\t\tthis.custom_id = custom_id;\r\n\t\treturn this;\r\n\t}\r\n\tpublic function setLabel(label:String):APITextInputComponent {\r\n\t\tthis.label = label;\r\n\t\treturn this;\r\n\t}\r\n\tpublic function setPlaceholder(placeholder:String):APITextInputComponent {\r\n\t\tthis.placeholder = placeholder;\r\n\t\treturn this;\r\n\t}\r\n\tpublic function setValue(value:String):APITextInputComponent {\r\n\t\tthis.value = value;\r\n\t\treturn this;\r\n\t}\r\n\tpublic function setMinLength(min_length:Int):APITextInputComponent {\r\n\t\tthis.min_length = min_length;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic function setMaxLength(max_length:Int):APITextInputComponent {\r\n\t\tthis.max_length = max_length;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic function setRequired(required:Bool = true):APITextInputComponent {\r\n\t\tthis.required = required;\r\n\t\treturn this;\r\n\t}\r\n}\r\n\r\nenum abstract TextInputStyle(Int) {\r\n\tvar Short = 1;\r\n\tvar Paragraph = 2;\r\n}","package discord_builder;\r\n\r\nimport discord_api_types.ButtonStyle;\r\nimport discord_builder.APIBaseComponent.ComponentType;\r\nimport discord_builder.JSONEncodable;\r\n\r\n//@:jsRequire('@discordjs/builders', 'ButtonBuilder')\r\nclass ButtonBuilder extends APIButtonComponentBase {\r\n\tvar label:String;\r\n\tvar custom_id:String;\r\n\tvar style:ButtonStyle;\r\n\tvar emoji:String;\r\n\tvar url:String;\r\n\tvar disabled:Bool;\r\n\r\n\tpublic function setDisabled(disabled:Bool = true):ButtonBuilder {\r\n\t\tthis.disabled = disabled;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic function setCustomId(custom_id:String):ButtonBuilder {\r\n\t\tthis.custom_id = custom_id;\r\n\t\treturn this;\r\n\t}\r\n\tpublic function setEmoji(emoji:String):ButtonBuilder {\r\n\t\tthis.emoji = emoji;\r\n\t\treturn this;\r\n\t}\r\n\tpublic function setLabel(label:String):ButtonBuilder {\r\n\t\tthis.label = label;\r\n\t\treturn this;\r\n\t}\r\n\tpublic function setStyle(style:ButtonStyle):ButtonBuilder {\r\n\t\tthis.style = style;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic function setUrl(url:String):ButtonBuilder {\r\n\t\tthis.url = url;\r\n\t\treturn this;\r\n\t}\r\n}\r\n\r\n\r\n\r\nenum abstract ButtonStyle(Int) {\r\n\t//blurple\r\n\tvar Primary = 1;\r\n\t//grey\r\n\tvar Secondary = 2;\r\n\t//green\r\n\tvar Success = 3;\r\n\t//red\r\n\tvar Danger = 4;\r\n\t//grey\r\n\tvar Link = 5;\r\n}","package discord_builder;\r\n\r\nimport haxe.Rest;\r\nimport discord_builder.JSONEncodable;\r\n\r\n@:jsRequire('@discordjs/builders', 'ModalBuilder')\r\nextern class ModalBuildera {\r\n\tpublic var components:Array<ActionRowBuilder<TextInputBuilder>>;\r\n\tpublic function new();\r\n\r\n\tpublic function addComponents(components:Array<ActionRowBuilder<TextInputBuilder>>):ModalBuilder;\r\n\tpublic function setComponents(components:Array<ActionRowBuilder<TextInputBuilder>>):ModalBuilder;\r\n\r\n\tpublic function setCustomId(custom_id:String):ModalBuilder;\r\n\tpublic function setTitle(title:String):ModalBuilder;\r\n\tpublic function toJSON():Dynamic;\r\n}\r\n\r\n//@:jsRequire('@discordjs/builders', 'ButtonBuilder')\r\nclass ModalBuilder {\r\n\tvar title:String;\r\n\tvar custom_id:String;\r\n\t/**\r\n\t * @TODO - Broaden the type declaration \r\n\t */\r\n\tpublic var components:Array<APIActionRowComponent<APITextInputComponent>> = [];\r\n\tpublic function new() {}\r\n\r\n\tpublic function setCustomId(custom_id:String):ModalBuilder {\r\n\t\tthis.custom_id = custom_id;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic function setTitle(title:String):ModalBuilder {\r\n\t\tthis.title = title;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic function addComponents(components:Rest<APIActionRowComponent<APITextInputComponent>>) {\r\n\t\tfor (c in components) {\r\n\t\t\tthis.components.push(c);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n}\r\n","package discord_builder;\r\n\r\nimport discord_builder.SlashCommandUserOption;\r\nimport discord_builder.SlashCommandBuilder;\r\n\r\n@:jsRequire('@discordjs/builders', 'SharedSlashCommandOptions')\r\nextern class SharedSlashCommandOptions extends SharedNameAndDescription {\r\n\t@:overload(function(input:SlashCommandUserOption):SlashCommandUserOption {})\r\n\t@:overload(function(input:(builder:SlashCommandUserOption)->SlashCommandUserOption):SlashCommandUserOption {})\r\n\tpublic function addUserOption():SlashCommandBuilder;\r\n\r\n\t@:overload(function(input:SlashCommandBooleanOption):SlashCommandBooleanOption {})\r\n\t@:overload(function(input:(builder:SlashCommandBooleanOption)->SlashCommandBooleanOption):SlashCommandBooleanOption {})\r\n\tpublic function addBooleanOption():SlashCommandBuilder;\r\n\r\n\t@:overload(function(input:SlashCommandChannelOption):SlashCommandChannelOption {})\r\n\t@:overload(function(input:(builder:SlashCommandChannelOption)->SlashCommandChannelOption):SlashCommandChannelOption {})\r\n\tpublic function addChannelOption():SlashCommandBuilder;\r\n\r\n\t@:overload(function(input:SlashCommandStringOption):SlashCommandStringOption {})\r\n\t@:overload(function(input:(builder:SlashCommandStringOption)->SlashCommandStringOption):SlashCommandStringOption {})\r\n\tpublic function addStringOption():SlashCommandBuilder;\r\n\r\n\t@:overload(function(input:SlashCommandRoleOption):SlashCommandRoleOption {})\r\n\t@:overload(function(input:(builder:SlashCommandRoleOption)->SlashCommandRoleOption):SlashCommandRoleOption {})\r\n\tpublic function addRoleOption():SlashCommandBuilder;\r\n\r\n\t@:overload(function(input:SlashCommandMentionableOption):SlashCommandMentionableOption {})\r\n\t@:overload(function(input:(builder:SlashCommandMentionableOption)->SlashCommandMentionableOption):SlashCommandMentionableOption {})\r\n\tpublic function addMentionableOption():SlashCommandBuilder;\r\n\r\n\t@:overload(function(input:SlashCommandNumberOption):SlashCommandNumberOption {})\r\n\t@:overload(function(input:(builder:SlashCommandNumberOption)->SlashCommandNumberOption):SlashCommandNumberOption {})\r\n\tpublic function addNumberOption():SlashCommandBuilder;\r\n\t@:overload(function(input:SlashCommandSubcommandBuilder):SlashCommandSubcommandBuilder {})\r\n\t@:overload(function(input:(builder:SlashCommandSubcommandBuilder)->SlashCommandSubcommandBuilder):SlashCommandSubcommandBuilder {})\r\n\tpublic function addSubcommand():SlashCommandBuilder;\r\n\t\r\n}\r\n\r\n@:forward\r\nabstract AnySlashCommand(SlashCommandBuilder) {\r\n\tprivate function new(builder:SlashCommandBuilder) {\r\n\t\tthis = builder;\r\n\t}\r\n\t@:from static function fromBase(base:SlashCommandBuilder) {\r\n\t\treturn new AnySlashCommand(cast base);\r\n\t}\r\n\t@:from static function fromUser(user:SlashCommandUserOption) {\r\n\t\treturn new AnySlashCommand(cast user);\r\n\t}\r\n\t@:from static function fromBool(bool:SlashCommandBooleanOption) {\r\n\t\treturn new AnySlashCommand(cast bool);\r\n\t}\r\n\t@:from static function fromString(string:SlashCommandStringOption) {\r\n\t\treturn new AnySlashCommand(cast string);\r\n\t}\r\n\t@:from static function fromChannel(channel:SlashCommandChannelOption) {\r\n\t\treturn new AnySlashCommand(cast channel);\r\n\t}\r\n\t@:from static function fromRole(role:SlashCommandRoleOption) {\r\n\t\treturn new AnySlashCommand(cast role);\r\n\t}\r\n\t@:from static function fromNumber(number:SlashCommandNumberOption) {\r\n\t\treturn new AnySlashCommand(cast number);\r\n\t}\r\n\t@:from static function fromMentionable(mentionable:SlashCommandMentionableOption) {\r\n\t\treturn new AnySlashCommand(cast mentionable);\r\n\t}\r\n\t@:from static function fromSubcommand(subcommand:SlashCommandSubcommandBuilder) {\r\n\t\treturn new AnySlashCommand(cast subcommand);\r\n\t}\r\n\t\r\n\t@:from static function fromContextMenu(menu:ContextMenuCommandBuilder) {\r\n\t\treturn new AnySlashCommand(cast menu);\r\n\t}\r\n}","package ecs;\r\n\r\nimport haxe.ds.Vector;\r\n\r\nclass Components<T>\r\n{\r\n    final components : Vector<T>;\r\n\r\n    public function new(_size)\r\n    {\r\n        components = new Vector(_size);\r\n    }\r\n\r\n    public function set(_entity : Entity, _component : T)\r\n    {\r\n        components[_entity.id()] = _component;\r\n    }\r\n\r\n    public function get(_entity : Entity) : T\r\n    {\r\n        return components[_entity.id()];\r\n    }\r\n}","package ecs;\r\n\r\nabstract Entity(Int)\r\n{\r\n    public static final none = new Entity(-1);\r\n\r\n    public function new(_id)\r\n    {\r\n        this = _id;\r\n    }\r\n\r\n    public function id()\r\n    {\r\n        return this;\r\n    }\r\n}","package ecs;\r\n\r\nimport haxe.Exception;\r\nimport haxe.ds.Vector;\r\n\r\nclass Phase\r\n{\r\n    var enabled : Bool;\r\n\r\n    final systems : Vector<System>;\r\n\r\n    final enabledSystems : Vector<Bool>;\r\n\r\n    public final name : String;\r\n\r\n    public function new(_enabled, _name, _systems, _enabledSystems)\r\n    {\r\n        enabled        = _enabled;\r\n        name           = _name;\r\n        systems        = _systems;\r\n        enabledSystems = _enabledSystems;\r\n    }\r\n\r\n    public function update(_dt : Float)\r\n    {\r\n        if (!enabled)\r\n        {\r\n            return;\r\n        }\r\n\r\n        for (idx in 0...systems.length)\r\n        {\r\n            if (enabledSystems[idx])\r\n            {\r\n                systems[idx].update(_dt);\r\n            }\r\n        }\r\n    }\r\n\r\n    public function enable()\r\n    {\r\n        if (enabled)\r\n        {\r\n            return;\r\n        }\r\n\r\n        enabled = true;\r\n\r\n        for (idx in 0...systems.length)\r\n        {\r\n            if (enabledSystems[idx])\r\n            {\r\n                systems[idx].onEnabled();\r\n            }\r\n        }\r\n    }\r\n\r\n    public function disable()\r\n    {\r\n        if (!enabled)\r\n        {\r\n            return;\r\n        }\r\n\r\n        enabled = false;\r\n\r\n        for (idx in 0...systems.length)\r\n        {\r\n            if (enabledSystems[idx])\r\n            {\r\n                systems[idx].onDisabled();\r\n            }\r\n        }\r\n    }\r\n\r\n    @:generic public function enableSystem<T : System>(_type : Class<T>)\r\n    {\r\n        for (idx in 0...systems.length)\r\n        {\r\n            switch Std.downcast(systems[idx], _type)\r\n            {\r\n                case null:\r\n                    continue;\r\n                case system:\r\n                    if (!enabledSystems[idx])\r\n                    {\r\n                        enabledSystems[idx] = true;\r\n\r\n                        system.onEnabled();\r\n                    }\r\n\r\n                    return;\r\n            }\r\n        }\r\n\r\n        throw new Exception('Unable to find system with the specified type');\r\n    }\r\n\r\n    @:generic public function disableSystem<T : System>(_type : Class<T>)\r\n    {\r\n        for (idx in 0...systems.length)\r\n        {\r\n            switch Std.downcast(systems[idx], _type)\r\n            {\r\n                case null:\r\n                    continue;\r\n                case system:\r\n                    if (enabledSystems[idx])\r\n                    {\r\n                        enabledSystems[idx] = false;\r\n\r\n                        system.onDisabled();\r\n                    }\r\n\r\n                    return;\r\n            }\r\n        }\r\n\r\n        throw new Exception('Unable to find system with the specified type');\r\n    }\r\n\r\n    @:generic public function getSystem<T : System>(_type : Class<T>)\r\n    {\r\n        for (system in systems)\r\n        {\r\n            switch Std.downcast(system, _type)\r\n            {\r\n                case null:\r\n                    continue;\r\n                case casted:\r\n                    return casted;\r\n            }\r\n        }\r\n\r\n        throw new Exception('Unable to find system with the specified type');\r\n    }\r\n}\r\n","package ecs;\r\n\r\nabstract TableType(String) from String to String\r\n{\r\n\tfunction new(value)\r\n    {\r\n        this = value;\r\n\t}\r\n\t\r\n\t@:from static function fromClass(input:Class<Dynamic>)\r\n    {\r\n        return new TableType(Type.getClassName(input));\r\n\t}\r\n}","package ecs.core;\r\n\r\nimport haxe.ds.Vector;\r\nimport bits.Bits;\r\n\r\nclass ComponentManager\r\n{\r\n    final entities : EntityManager;\r\n\r\n    /**\r\n     * All components stored in this system.\r\n     * Index into the vector with the components ID to get all components of that type.\r\n     */\r\n    final components : Vector<Any>;\r\n\r\n    /**\r\n     * Bit flags for each entity in the universe.\r\n     * If a bit is set then it has the component of that index / id.\r\n     */\r\n    public final flags : Vector<Bits>;\r\n\r\n    public function new(_entities, _components)\r\n    {\r\n        entities   = _entities;\r\n        components = _components;\r\n        flags      = {\r\n            final v = new Vector(_entities.capacity());\r\n\r\n            for (i in 0...v.length)\r\n            {\r\n                v[i] = new Bits();\r\n            }\r\n\r\n            v;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the components table for the specified component ID.\r\n     * @param _compID Unique component ID.\r\n     */\r\n    public function getTable<T>(_compID : Int) : Any\r\n    {\r\n        return components[_compID];\r\n    }\r\n\r\n    public function set<T>(_entity : Entity, _id : Int, _component : T)\r\n    {\r\n        (components[_id] : Components<T>).set(_entity, _component);\r\n\r\n        flags[_entity.id()].set(_id);\r\n    }\r\n\r\n    public function remove(_entity : Entity, _id : Int)\r\n    {\r\n        flags[_entity.id()].unset(_id);\r\n    }\r\n\r\n    public function clear(_entity : Entity)\r\n    {\r\n        for (set in components)\r\n        {\r\n            (set : Components<Any>).set(_entity, null);\r\n        }\r\n\r\n        flags[_entity.id()].clear();\r\n    }\r\n}","package ecs.core;\r\n\r\nimport haxe.ds.Vector;\r\n\r\nclass EntityManager\r\n{\r\n    final storage : Vector<Entity>;\r\n    final recycleBin : Vector<Int>;\r\n    \r\n    var nextID : Int;\r\n    var binSize : Int;\r\n\r\n    public function new(_max)\r\n    {\r\n        storage = new Vector(_max);\r\n        recycleBin = new Vector(_max);\r\n        nextID  = 0;\r\n\tbinSize = 0;\r\n    }\r\n\r\n    public function create()\r\n    {\r\n        if (binSize > 0)\r\n        {\r\n            return storage[recycleBin[--binSize]];\r\n        }\r\n\t   \r\n        final idx = nextID++;\r\n\t\r\n\tif (idx >= storage.length)\r\n        {\r\n            throw \"ECS entity limit exceeded\";\r\n        }\r\n\t\r\n        final e   = new Entity(idx);\r\n\r\n        storage[idx] = e;\r\n\r\n        return e;\r\n    }\r\n    \r\n    public function destroy(_id : Int)\r\n    {\r\n        recycleBin[binSize++] = _id;\r\n    }\r\n\r\n    public function get(_id : Int)\r\n    {\r\n        return storage[_id];\r\n    }\r\n\r\n    public function capacity()\r\n    {\r\n        return storage.length;\r\n    }\r\n}\r\n","package ecs.core;\r\n\r\nimport haxe.ds.Vector;\r\nimport ecs.core.ComponentManager;\r\n\r\nclass FamilyManager\r\n{\r\n    final components : ComponentManager;\r\n\r\n    final resources : ResourceManager;\r\n\r\n    final families : Vector<Family>;\r\n\r\n    public final number : Int;\r\n\r\n    public function new(_components, _resources, _families)\r\n    {\r\n        components = _components;\r\n        resources  = _resources;\r\n        families   = _families;\r\n        number     = families.length;\r\n    }\r\n\r\n    public function get(_index : Int)\r\n    {\r\n        return families[_index];\r\n    }\r\n\r\n    public function tryActivate(_id : Int)\r\n    {\r\n        if (!families[_id].isActive() && resources.flags.areSet(families[_id].resourcesMask))\r\n        {\r\n            families[_id].activate();\r\n        }\r\n    }\r\n\r\n    public function tryDeactivate(_id : Int, resourceID : Int)\r\n    {\r\n        if (!resources.flags.isSet(resourceID))\r\n        {\r\n            return;\r\n        }\r\n        if (!families[_id].isActive())\r\n        {\r\n            return;\r\n        }\r\n        if (families[_id].resourcesMask.isSet(resourceID))\r\n        {\r\n            families[_id].deactivate();\r\n        }\r\n    }\r\n\r\n    public function whenEntityDestroyed(_entity : Entity)\r\n    {\r\n        for (family in families)\r\n        {          \r\n            family.remove(_entity);\r\n        }\r\n    }\r\n}","package ecs.core;\r\n\r\nimport haxe.ds.Vector;\r\nimport bits.Bits;\r\n\r\nclass ResourceManager\r\n{\r\n    /**\r\n     * Bits which indicate which resources are currently stored in the system.\r\n     */\r\n    public final flags : Bits;\r\n\r\n    /**\r\n     * Vector for storing all active resources.\r\n     */\r\n    final resources : Vector<Any>;\r\n\r\n    public function new(_flags, _resources)\r\n    {\r\n        flags     = _flags;\r\n        resources = _resources;\r\n    }\r\n\r\n    /**\r\n     * Gets the resource with the provided ID.\r\n     * If the resource is not in the system null is returned.\r\n     * @param _id Resource ID.\r\n     */\r\n    public function get(_id : Int)\r\n    {\r\n        return resources[_id];\r\n    }\r\n\r\n    /**\r\n     * Add a resource into the world.\r\n     * @param _id Resource ID.\r\n     * @param _resource Resource object.\r\n     */\r\n    public function insert(_id : Int, _resource : Any)\r\n    {\r\n        resources[_id] = _resource;\r\n\r\n        flags.set(_id);\r\n    }\r\n\r\n    /**\r\n     * Remove a resource from the world.\r\n     * @param _id Resource ID.\r\n     */\r\n    public function remove(_id : Int)\r\n    {\r\n        flags.unset(_id);\r\n\r\n        resources[_id] = null;\r\n    }\r\n}","package ecs.ds;\r\n\r\n@:generic class Signal<T>\r\n{\r\n    final subscribers : Array<T->Void>;\r\n\r\n    public function new()\r\n    {\r\n        subscribers = [];\r\n    }\r\n\r\n    public function subscribe(_func : T->Void)\r\n    {\r\n        if (subscribers.indexOf(_func) == -1)\r\n        {\r\n            subscribers.push(_func);\r\n        }\r\n    }\r\n\r\n    public function unsubscribe(_func : T->Void)\r\n    {\r\n        subscribers.remove(_func);\r\n    }\r\n\r\n    public function notify(_data : T)\r\n    {\r\n        for (func in subscribers)\r\n        {\r\n            func(_data);\r\n        }\r\n    }\r\n}","package ecs.ds;\r\n\r\nimport haxe.ds.Vector;\r\n\r\n/**\r\n * Sparse set of entities contains both a dense and sparse vector for storage.\r\n * This allows O(1) insertion, removal, and searching of entities and allows them to be iterated over in a dense array.\r\n * Entities are not guarenteed to be in the order they were inserted.\r\n */\r\nclass SparseSet\r\n{\r\n    /**\r\n     * Sparse vector which contains indices into the dense vector.\r\n     * Index using an entity to find the corresponding dense vector position.\r\n     */\r\n    final sparse : Vector<Int>;\r\n\r\n    /**\r\n     * Packed array of all entity values\r\n     */\r\n    final dense : Vector<Entity>;\r\n\r\n    /**\r\n     * Number of entities currently stored in the dense vector.\r\n     */\r\n    var number : Int;\r\n\r\n    /**\r\n     * Create a new sparse set of entities.\r\n     * On creation all sparse values point to the first element of the dense array and all dense array values contain -1 (null entity).\r\n     * @param _size Maximum number of entities this set can contain.\r\n     */\r\n    public function new(_size)\r\n    {\r\n        sparse = new Vector(_size);\r\n        dense  = new Vector(_size);\r\n        number = 0;\r\n\r\n        for (i in 0...sparse.length)\r\n        {\r\n            sparse[i] = 0;\r\n        }\r\n        for (i in 0...dense.length)\r\n        {\r\n            dense[i] = Entity.none;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if the provided entity is stored in the sparse set.\r\n     * @param _entity Entity to check.\r\n     */\r\n    public function has(_entity : Entity)\r\n    {\r\n        return sparse[_entity.id()] < number && dense[sparse[_entity.id()]] == _entity;\r\n    }\r\n\r\n    /**\r\n     * Insert an entity into the sparse set.\r\n     * @param _entity Entity to insert.\r\n     */\r\n    public function insert(_entity : Entity)\r\n    {\r\n        dense[number] = _entity;\r\n        sparse[_entity.id()] = number;\r\n\r\n        number++;\r\n    }\r\n\r\n    /**\r\n     * Removes an entity from the sparse set.\r\n     * Does not check if the entity is in the set before removing.\r\n     * @param _entity Entity to remove.\r\n     */\r\n    public function remove(_entity : Entity)\r\n    {\r\n        final temp = dense[number - 1];\r\n        dense[sparse[_entity.id()]] = temp;\r\n        sparse[temp.id()] = sparse[_entity.id()];\r\n\r\n        number--;\r\n    }\r\n\r\n    /**\r\n     * Get the entity at the provided dense vector location.\r\n     * @param _idx Dense vector index.\r\n     */\r\n    public function getDense(_idx : Int)\r\n    {\r\n        return dense[_idx];\r\n    }\r\n\r\n    /**\r\n     * Get the index into the dense vector that the provided entity is stored in.\r\n     * @param _entity Entity to get index of.\r\n     */\r\n    public function getSparse(_entity : Entity)\r\n    {\r\n        return sparse[_entity.id()];\r\n    }\r\n\r\n    /**\r\n     * Number of entity currently stored in the dense vector.\r\n     */\r\n    public function size()\r\n    {\r\n        return number;\r\n    }\r\n}","package ecs.ds;\r\n\r\nabstract Unit(Dynamic)\r\n{\r\n    public static final unit = new Unit();\r\n\r\n    function new()\r\n    {\r\n        this = null;\r\n    }\r\n}","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe;\r\n\r\n/**\r\n\tElements return by `CallStack` methods.\r\n**/\r\nenum StackItem {\r\n\tCFunction;\r\n\tModule(m:String);\r\n\tFilePos(s:Null<StackItem>, file:String, line:Int, ?column:Int);\r\n\tMethod(classname:Null<String>, method:String);\r\n\tLocalFunction(?v:Int);\r\n}\r\n\r\n/**\r\n\tGet information about the call stack.\r\n**/\r\n@:allow(haxe.Exception)\r\n@:using(haxe.CallStack)\r\nabstract CallStack(Array<StackItem>) from Array<StackItem> {\r\n\t/**\r\n\t\tThe length of this stack.\r\n\t**/\r\n\tpublic var length(get,never):Int;\r\n\tinline function get_length():Int return this.length;\r\n\r\n\t/**\r\n\t\tReturn the call stack elements, or an empty array if not available.\r\n\t**/\r\n\tpublic static function callStack():Array<StackItem> {\r\n\t\treturn NativeStackTrace.toHaxe(NativeStackTrace.callStack());\r\n\t}\r\n\r\n\t/**\r\n\t\tReturn the exception stack : this is the stack elements between\r\n\t\tthe place the last exception was thrown and the place it was\r\n\t\tcaught, or an empty array if not available.\r\n\t\tSet `fullStack` parameter to true in order to return the full exception stack.\r\n\r\n\t\tMay not work if catch type was a derivative from `haxe.Exception`.\r\n\t**/\r\n\tpublic static function exceptionStack( fullStack = false ):Array<StackItem> {\r\n\t\tvar eStack:CallStack = NativeStackTrace.toHaxe(NativeStackTrace.exceptionStack());\r\n\t\treturn (fullStack ? eStack : eStack.subtract(callStack())).asArray();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a representation of the stack as a printable string.\r\n\t**/\r\n\tstatic public function toString(stack:CallStack):String {\r\n\t\tvar b = new StringBuf();\r\n\t\tfor (s in stack.asArray()) {\r\n\t\t\tb.add('\\nCalled from ');\r\n\t\t\titemToString(b, s);\r\n\t\t}\r\n\t\treturn b.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a range of entries of current stack from the beginning to the the\r\n\t\tcommon part of this and `stack`.\r\n\t**/\r\n\tpublic function subtract(stack:CallStack):CallStack {\r\n\t\tvar startIndex = -1;\r\n\t\tvar i = -1;\r\n\t\twhile(++i < this.length) {\r\n\t\t\tfor(j in 0...stack.length) {\r\n\t\t\t\tif(equalItems(this[i], stack[j])) {\r\n\t\t\t\t\tif(startIndex < 0) {\r\n\t\t\t\t\t\tstartIndex = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t++i;\r\n\t\t\t\t\tif(i >= this.length) break;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstartIndex = -1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(startIndex >= 0) break;\r\n\t\t}\r\n\t\treturn startIndex >= 0 ? this.slice(0, startIndex) : this;\r\n\t}\r\n\r\n\t/**\r\n\t\tMake a copy of the stack.\r\n\t**/\r\n\tpublic inline function copy():CallStack {\r\n\t\treturn this.copy();\r\n\t}\r\n\r\n\t@:arrayAccess public inline function get(index:Int):StackItem {\r\n\t\treturn this[index];\r\n\t}\r\n\r\n\tinline function asArray():Array<StackItem> {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tstatic function equalItems(item1:Null<StackItem>, item2:Null<StackItem>):Bool {\r\n\t\treturn switch([item1, item2]) {\r\n\t\t\tcase [null, null]: true;\r\n\t\t\tcase [CFunction, CFunction]: true;\r\n\t\t\tcase [Module(m1), Module(m2)]:\r\n\t\t\t\tm1 == m2;\r\n\t\t\tcase [FilePos(item1, file1, line1, col1), FilePos(item2, file2, line2, col2)]:\r\n\t\t\t\tfile1 == file2 && line1 == line2 && col1 == col2 && equalItems(item1, item2);\r\n\t\t\tcase [Method(class1, method1), Method(class2, method2)]:\r\n\t\t\t\tclass1 == class2 && method1 == method2;\r\n\t\t\tcase [LocalFunction(v1), LocalFunction(v2)]:\r\n\t\t\t\tv1 == v2;\r\n\t\t\tcase _: false;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic function exceptionToString(e:Exception):String {\r\n\t\tif(e.previous == null) {\r\n\t\t\treturn 'Exception: ${e.toString()}${e.stack}';\r\n\t\t}\r\n\t\tvar result = '';\r\n\t\tvar e:Null<Exception> = e;\r\n\t\tvar prev:Null<Exception> = null;\r\n\t\twhile(e != null) {\r\n\t\t\tif(prev == null) {\r\n\t\t\t\tresult = 'Exception: ${e.message}${e.stack}' + result;\r\n\t\t\t} else {\r\n\t\t\t\tvar prevStack = @:privateAccess e.stack.subtract(prev.stack);\r\n\t\t\t\tresult = 'Exception: ${e.message}${prevStack}\\n\\nNext ' + result;\r\n\t\t\t}\r\n\t\t\tprev = e;\r\n\t\t\te = e.previous;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tstatic function itemToString(b:StringBuf, s) {\r\n\t\tswitch (s) {\r\n\t\t\tcase CFunction:\r\n\t\t\t\tb.add(\"a C function\");\r\n\t\t\tcase Module(m):\r\n\t\t\t\tb.add(\"module \");\r\n\t\t\t\tb.add(m);\r\n\t\t\tcase FilePos(s, file, line, col):\r\n\t\t\t\tif (s != null) {\r\n\t\t\t\t\titemToString(b, s);\r\n\t\t\t\t\tb.add(\" (\");\r\n\t\t\t\t}\r\n\t\t\t\tb.add(file);\r\n\t\t\t\tb.add(\" line \");\r\n\t\t\t\tb.add(line);\r\n\t\t\t\tif (col != null) {\r\n\t\t\t\t\tb.add(\" column \");\r\n\t\t\t\t\tb.add(col);\r\n\t\t\t\t}\r\n\t\t\t\tif (s != null)\r\n\t\t\t\t\tb.add(\")\");\r\n\t\t\tcase Method(cname, meth):\r\n\t\t\t\tb.add(cname == null ? \"<unknown>\" : cname);\r\n\t\t\t\tb.add(\".\");\r\n\t\t\t\tb.add(meth);\r\n\t\t\tcase LocalFunction(n):\r\n\t\t\t\tb.add(\"local function #\");\r\n\t\t\t\tb.add(n);\r\n\t\t}\r\n\t}\r\n}\r\n","package haxe;\r\n\r\nimport js.lib.Error;\r\n\r\n@:coreApi\r\nclass Exception extends NativeException {\r\n\tpublic var message(get,never):String;\r\n\tpublic var stack(get,never):CallStack;\r\n\tpublic var previous(get,never):Null<Exception>;\r\n\tpublic var native(get,never):Any;\r\n\r\n\t@:ifFeature(\"haxe.Exception.get_stack\")\r\n\t@:noCompletion var __skipStack:Int;\r\n\t@:noCompletion var __exceptionStack(get,set):Null<CallStack>;\r\n\t@:noCompletion var __nativeException:Any;\r\n\t@:noCompletion var __previousException:Null<Exception>;\r\n\r\n\tstatic function caught(value:Any):Exception {\r\n\t\tif(Std.isOfType(value, Exception)) {\r\n\t\t\treturn value;\r\n\t\t} else if(Std.isOfType(value, Error)) {\r\n\t\t\treturn new Exception((cast value:Error).message, null, value);\r\n\t\t} else {\r\n\t\t\treturn new ValueException(value, null, value);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic function thrown(value:Any):Any {\r\n\t\tif(Std.isOfType(value, Exception)) {\r\n\t\t\treturn (value:Exception).native;\r\n\t\t} else if(Std.isOfType(value, Error)) {\r\n\t\t\treturn value;\r\n\t\t} else {\r\n\t\t\tvar e = new ValueException(value);\r\n\t\t\tuntyped __feature__(\"haxe.Exception.get_stack\", e.__shiftStack());\r\n\t\t\treturn e;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic function new(message:String, ?previous:Exception, ?native:Any) {\r\n\t\tsuper(message);\r\n\t\t(cast this).message = message;\r\n\t\t__previousException = previous;\r\n\t\t__nativeException = native != null ? native : this;\r\n\t\tuntyped __feature__('haxe.Exception.stack', {\r\n\t\t\t__skipStack = 0;\r\n\t\t\tvar old = js.Syntax.code('Error.prepareStackTrace');\r\n\t\t\tjs.Syntax.code('Error.prepareStackTrace = function(e) { return e.stack; }');\r\n\t\t\tif(Std.isOfType(native, Error)) {\r\n\t\t\t\t(cast this).stack = native.stack;\r\n\t\t\t} else {\r\n\t\t\t\tvar e:Error = null;\r\n\t\t\t\tif ((cast Error).captureStackTrace) {\r\n\t\t\t\t\t(cast Error).captureStackTrace(this, Exception);\r\n\t\t\t\t\te = cast this;\r\n\t\t\t\t} else {\r\n\t\t\t\t\te = new Error();\r\n\t\t\t\t\t//Internet Explorer provides call stack only if error was thrown\r\n\t\t\t\t\tif(js.Syntax.typeof(e.stack) == \"undefined\") {\r\n\t\t\t\t\t\tjs.Syntax.code('try { throw {0}; } catch(_) {}', e);\r\n\t\t\t\t\t\t__skipStack++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t(cast this).stack = e.stack;\r\n\t\t\t}\r\n\t\t\tjs.Syntax.code('Error.prepareStackTrace = {0}', old);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction unwrap():Any {\r\n\t\treturn __nativeException;\r\n\t}\r\n\r\n\tpublic function toString():String {\r\n\t\treturn message;\r\n\t}\r\n\r\n\tpublic function details():String {\r\n\t\treturn inline CallStack.exceptionToString(this);\r\n\t}\r\n\r\n\t@:noCompletion\r\n\t@:ifFeature(\"haxe.Exception.get_stack\")\r\n\tinline function __shiftStack():Void {\r\n\t\t__skipStack++;\r\n\t}\r\n\r\n\tfunction get_message():String {\r\n\t\treturn (cast this:Error).message;\r\n\t}\r\n\r\n\tfunction get_previous():Null<Exception> {\r\n\t\treturn __previousException;\r\n\t}\r\n\r\n\tfinal function get_native():Any {\r\n\t\treturn __nativeException;\r\n\t}\r\n\r\n\t@:ifFeature('haxe.NativeStackTrace.exceptionStack')\r\n\tfunction get_stack():CallStack {\r\n\t\treturn switch __exceptionStack {\r\n\t\t\tcase null:\r\n\t\t\t\t__exceptionStack = NativeStackTrace.toHaxe(NativeStackTrace.normalize((cast this).stack), __skipStack);\r\n\t\t\tcase s: s;\r\n\t\t}\r\n\t}\r\n\r\n\t@:noCompletion\r\n\tfunction setProperty(name:String, value:Any):Void {\r\n\t\ttry {\r\n\t\t\tjs.lib.Object.defineProperty(this, name, {value:value});\r\n\t\t} catch(e:Exception) {\r\n\t\t\tjs.Syntax.code('{0}[{1}] = {2}', this, name, value);\r\n\t\t}\r\n\t}\r\n\r\n\t@:noCompletion\r\n\tinline function get___exceptionStack():CallStack {\r\n\t\treturn (cast this).__exceptionStack;\r\n\t}\r\n\r\n\t@:noCompletion\r\n\tinline function set___exceptionStack(value:CallStack):CallStack {\r\n\t\tsetProperty('__exceptionStack', value);\r\n\t\treturn value;\r\n\t}\r\n\r\n\t@:noCompletion\r\n\tinline function get___skipStack():Int {\r\n\t\treturn (cast this).__skipStack;\r\n\t}\r\n\r\n\t@:noCompletion\r\n\tinline function set___skipStack(value:Int):Int {\r\n\t\tsetProperty('__skipStack', value);\r\n\t\treturn value;\r\n\t}\r\n\r\n\t@:noCompletion\r\n\tinline function get___nativeException():Any {\r\n\t\treturn (cast this).__nativeException;\r\n\t}\r\n\r\n\t@:noCompletion\r\n\tinline function set___nativeException(value:Any):Any {\r\n\t\tsetProperty('__nativeException', value);\r\n\t\treturn value;\r\n\t}\r\n\r\n\t@:noCompletion\r\n\tinline function get___previousException():Null<Exception> {\r\n\t\treturn (cast this).__previousException;\r\n\t}\r\n\r\n\t@:noCompletion\r\n\tinline function set___previousException(value:Null<Exception>):Null<Exception> {\r\n\t\tsetProperty('__previousException', value);\r\n\t\treturn value;\r\n\t}\r\n}\r\n\r\n@:dox(hide)\r\n@:noCompletion\r\n@:native('Error')\r\nprivate extern class NativeException {\r\n\t// private var message:String; //redefined in haxe.Exception\r\n\t// private var stack(default, null):String; //redefined in haxe.Exception\r\n\r\n\tfunction new(?message:String);\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe;\r\n\r\n/**\r\n\tInt32 provides a 32-bit integer with consistent overflow behavior across\r\n\tall platforms.\r\n**/\r\n@:transitive\r\nabstract Int32(Int) from Int to Int {\r\n\t@:op(-A) private inline function negate():Int32\r\n\t\treturn clamp(~this + 1);\r\n\r\n\t@:op(++A) private inline function preIncrement():Int32\r\n\t\treturn this = clamp(++this);\r\n\r\n\t@:op(A++) private inline function postIncrement():Int32 {\r\n\t\tvar ret = this++;\r\n\t\tthis = clamp(this);\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t@:op(--A) private inline function preDecrement():Int32\r\n\t\treturn this = clamp(--this);\r\n\r\n\t@:op(A--) private inline function postDecrement():Int32 {\r\n\t\tvar ret = this--;\r\n\t\tthis = clamp(this);\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t@:op(A + B) private static inline function add(a:Int32, b:Int32):Int32\r\n\t\treturn clamp((a : Int) + (b : Int));\r\n\r\n\t@:op(A + B) @:commutative private static inline function addInt(a:Int32, b:Int):Int32\r\n\t\treturn clamp((a : Int) + (b : Int));\r\n\r\n\t@:op(A + B) @:commutative private static function addFloat(a:Int32, b:Float):Float;\r\n\r\n\t@:op(A - B) private static inline function sub(a:Int32, b:Int32):Int32\r\n\t\treturn clamp((a : Int) - (b : Int));\r\n\r\n\t@:op(A - B) private static inline function subInt(a:Int32, b:Int):Int32\r\n\t\treturn clamp((a : Int) - (b : Int));\r\n\r\n\t@:op(A - B) private static inline function intSub(a:Int, b:Int32):Int32\r\n\t\treturn clamp((a : Int) - (b : Int));\r\n\r\n\t@:op(A - B) private static function subFloat(a:Int32, b:Float):Float;\r\n\r\n\t@:op(A - B) private static function floatSub(a:Float, b:Int32):Float;\r\n\r\n\t#if (js || php || python || lua)\r\n\t#if js\r\n\t// on JS we want to try using Math.imul, but we have to assign that function to Int32.mul only once,\r\n\t// or else V8 will deoptimize it, so we need to be a bit funky with this.\r\n\t// See https://github.com/HaxeFoundation/haxe/issues/5367 for benchmarks.\r\n\t@:op(A * B) inline static function mul(a:Int32, b:Int32):Int32\r\n\t\treturn _mul(a, b);\r\n\r\n\tstatic var _mul:Int32->Int32->Int32 = untyped if (Math.imul != null)\r\n\t\t\tMath.imul\r\n\t\telse\r\n\t\t\tfunction(a:Int32, b:Int32):Int32 return clamp((a : Int) * ((b : Int) & 0xFFFF) + clamp((a : Int) * ((b : Int) >>> 16) << 16));\r\n\t#else\r\n\t@:op(A * B) private static function mul(a:Int32, b:Int32):Int32\r\n\t\treturn clamp((a : Int) * ((b : Int) & 0xFFFF) + clamp((a : Int) * ((b : Int) >>> 16) << 16));\r\n\t#end\r\n\r\n\t@:op(A * B) @:commutative private static inline function mulInt(a:Int32, b:Int):Int32\r\n\t\treturn mul(a, b);\r\n\t#else\r\n\t@:op(A * B) private static function mul(a:Int32, b:Int32):Int32;\r\n\r\n\t@:op(A * B) @:commutative private static function mulInt(a:Int32, b:Int):Int32;\r\n\t#end\r\n\r\n\t@:op(A * B) @:commutative private static function mulFloat(a:Int32, b:Float):Float;\r\n\r\n\t@:op(A / B) private static function div(a:Int32, b:Int32):Float;\r\n\r\n\t@:op(A / B) private static function divInt(a:Int32, b:Int):Float;\r\n\r\n\t@:op(A / B) private static function intDiv(a:Int, b:Int32):Float;\r\n\r\n\t@:op(A / B) private static function divFloat(a:Int32, b:Float):Float;\r\n\r\n\t@:op(A / B) private static function floatDiv(a:Float, b:Int32):Float;\r\n\r\n\t@:op(A % B) private static function mod(a:Int32, b:Int32):Int32;\r\n\r\n\t@:op(A % B) private static function modInt(a:Int32, b:Int):Int;\r\n\r\n\t@:op(A % B) private static function intMod(a:Int, b:Int32):Int;\r\n\r\n\t@:op(A % B) private static function modFloat(a:Int32, b:Float):Float;\r\n\r\n\t@:op(A % B) private static function floatMod(a:Float, b:Int32):Float;\r\n\r\n\t@:op(A == B) private static function eq(a:Int32, b:Int32):Bool;\r\n\r\n\t@:op(A == B) @:commutative private static function eqInt(a:Int32, b:Int):Bool;\r\n\r\n\t@:op(A == B) @:commutative private static function eqFloat(a:Int32, b:Float):Bool;\r\n\r\n\t@:op(A != B) private static function neq(a:Int32, b:Int32):Bool;\r\n\r\n\t@:op(A != B) @:commutative private static function neqInt(a:Int32, b:Int):Bool;\r\n\r\n\t@:op(A != B) @:commutative private static function neqFloat(a:Int32, b:Float):Bool;\r\n\r\n\t@:op(A < B) private static function lt(a:Int32, b:Int32):Bool;\r\n\r\n\t@:op(A < B) private static function ltInt(a:Int32, b:Int):Bool;\r\n\r\n\t@:op(A < B) private static function intLt(a:Int, b:Int32):Bool;\r\n\r\n\t@:op(A < B) private static function ltFloat(a:Int32, b:Float):Bool;\r\n\r\n\t@:op(A < B) private static function floatLt(a:Float, b:Int32):Bool;\r\n\r\n\t@:op(A <= B) private static function lte(a:Int32, b:Int32):Bool;\r\n\r\n\t@:op(A <= B) private static function lteInt(a:Int32, b:Int):Bool;\r\n\r\n\t@:op(A <= B) private static function intLte(a:Int, b:Int32):Bool;\r\n\r\n\t@:op(A <= B) private static function lteFloat(a:Int32, b:Float):Bool;\r\n\r\n\t@:op(A <= B) private static function floatLte(a:Float, b:Int32):Bool;\r\n\r\n\t@:op(A > B) private static function gt(a:Int32, b:Int32):Bool;\r\n\r\n\t@:op(A > B) private static function gtInt(a:Int32, b:Int):Bool;\r\n\r\n\t@:op(A > B) private static function intGt(a:Int, b:Int32):Bool;\r\n\r\n\t@:op(A > B) private static function gtFloat(a:Int32, b:Float):Bool;\r\n\r\n\t@:op(A > B) private static function floatGt(a:Float, b:Int32):Bool;\r\n\r\n\t@:op(A >= B) private static function gte(a:Int32, b:Int32):Bool;\r\n\r\n\t@:op(A >= B) private static function gteInt(a:Int32, b:Int):Bool;\r\n\r\n\t@:op(A >= B) private static function intGte(a:Int, b:Int32):Bool;\r\n\r\n\t@:op(A >= B) private static function gteFloat(a:Int32, b:Float):Bool;\r\n\r\n\t@:op(A >= B) private static function floatGte(a:Float, b:Int32):Bool;\r\n\r\n\t#if (lua || python || php)\r\n\t@:op(~A) private static inline function complement(a:Int32):Int32\r\n\t\t#if lua return lua.Boot.clampInt32(~a); #else return clamp(~a); #end\r\n\t#else\r\n\t@:op(~A) private function complement():Int32;\r\n\t#end\r\n\r\n\t@:op(A & B) private static function and(a:Int32, b:Int32):Int32;\r\n\r\n\t@:op(A & B) @:commutative private static function andInt(a:Int32, b:Int):Int32;\r\n\r\n\t#if (lua || python || php)\r\n\t@:op(A | B) private static #if (python || php) inline #end function or(a:Int32, b:Int32):Int32\r\n\t\treturn clamp((a : Int) | (b : Int));\r\n\r\n\t@:op(A | B) @:commutative private #if (python || php) inline #end static function orInt(a:Int32, b:Int):Int32\r\n\t\treturn clamp((a : Int) | b);\r\n\t#else\r\n\t@:op(A | B) private static function or(a:Int32, b:Int32):Int32;\r\n\r\n\t@:op(A | B) @:commutative private static function orInt(a:Int32, b:Int):Int32;\r\n\t#end\r\n\r\n\t#if (lua || python || php)\r\n\t@:op(A ^ B) private static #if (python || php) inline #end function xor(a:Int32, b:Int32):Int32\r\n\t\treturn clamp((a : Int) ^ (b : Int));\r\n\r\n\t@:op(A ^ B) @:commutative private static #if (python || php) inline #end function xorInt(a:Int32, b:Int):Int32\r\n\t\treturn clamp((a : Int) ^ b);\r\n\t#else\r\n\t@:op(A ^ B) private static function xor(a:Int32, b:Int32):Int32;\r\n\r\n\t@:op(A ^ B) @:commutative private static function xorInt(a:Int32, b:Int):Int32;\r\n\t#end\r\n\r\n\t#if (lua || python || php)\r\n\t@:op(A >> B) private static #if (python || php) inline #end function shr(a:Int32, b:Int32):Int32\r\n\t\treturn clamp((a : Int) >> (b : Int));\r\n\r\n\t@:op(A >> B) private static #if (python || php) inline #end function shrInt(a:Int32, b:Int):Int32\r\n\t\treturn clamp((a : Int) >> b);\r\n\r\n\t@:op(A >> B) private static #if (python || php) inline #end function intShr(a:Int, b:Int32):Int32\r\n\t\treturn clamp(a >> (b : Int));\r\n\t#else\r\n\t@:op(A >> B) private static function shr(a:Int32, b:Int32):Int32;\r\n\r\n\t@:op(A >> B) private static function shrInt(a:Int32, b:Int):Int32;\r\n\r\n\t@:op(A >> B) private static function intShr(a:Int, b:Int32):Int32;\r\n\t#end\r\n\r\n\t@:op(A >>> B) private static function ushr(a:Int32, b:Int32):Int32;\r\n\r\n\t@:op(A >>> B) private static function ushrInt(a:Int32, b:Int):Int32;\r\n\r\n\t@:op(A >>> B) private static function intUshr(a:Int, b:Int32):Int32;\r\n\r\n\t#if (php || python || lua)\r\n\t// PHP may be 64-bit, so shifts must be clamped\r\n\t@:op(A << B) private static inline function shl(a:Int32, b:Int32):Int32\r\n\t\treturn clamp((a : Int) << (b : Int));\r\n\r\n\t@:op(A << B) private static inline function shlInt(a:Int32, b:Int):Int32\r\n\t\treturn clamp((a : Int) << b);\r\n\r\n\t@:op(A << B) private static inline function intShl(a:Int, b:Int32):Int32\r\n\t\treturn clamp(a << (b : Int));\r\n\t#else\r\n\t@:op(A << B) private static function shl(a:Int32, b:Int32):Int32;\r\n\r\n\t@:op(A << B) private static function shlInt(a:Int32, b:Int):Int32;\r\n\r\n\t@:op(A << B) private static function intShl(a:Int, b:Int32):Int32;\r\n\t#end\r\n\r\n\t@:to private inline function toFloat():Float\r\n\t\treturn this;\r\n\r\n\t/**\r\n\t\tCompare `a` and `b` in unsigned mode.\r\n\t**/\r\n\tpublic static function ucompare(a:Int32, b:Int32):Int {\r\n\t\tif (a < 0)\r\n\t\t\treturn b < 0 ? (~b - ~a) : 1;\r\n\t\treturn b < 0 ? -1 : (a - b);\r\n\t}\r\n\r\n\t#if php\r\n\tstatic var extraBits:Int = php.Const.PHP_INT_SIZE * 8 - 32;\r\n\t#end\r\n\r\n\t#if !lua\r\n\tinline\r\n\t#end\r\n\tstatic function clamp(x:Int):Int {\r\n\t\t// force to-int conversion on platforms that require it\r\n\t\t#if js\r\n\t\treturn x | 0;\r\n\t\t#elseif php\r\n\t\t// we might be on 64-bit php, so sign extend from 32-bit\r\n\t\treturn (x << extraBits) >> extraBits;\r\n\t\t#elseif python\r\n\t\treturn (python.Syntax.code(\"{0} % {1}\", (x + python.Syntax.opPow(2, 31)), python.Syntax.opPow(2, 32)) : Int) - python.Syntax.opPow(2, 31);\r\n\t\t#elseif lua\r\n\t\treturn lua.Boot.clampInt32(x);\r\n\t\t#else\r\n\t\treturn (x);\r\n\t\t#end\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe;\r\n\r\nusing haxe.Int64;\r\n\r\nimport StringTools;\r\n\r\n/**\r\n\tHelper for parsing to `Int64` instances.\r\n**/\r\nclass Int64Helper {\r\n\t/**\r\n\t\tCreate `Int64` from given string.\r\n\t**/\r\n\tpublic static function parseString(sParam:String):Int64 {\r\n\t\tvar base = Int64.ofInt(10);\r\n\t\tvar current = Int64.ofInt(0);\r\n\t\tvar multiplier = Int64.ofInt(1);\r\n\t\tvar sIsNegative = false;\r\n\r\n\t\tvar s = StringTools.trim(sParam);\r\n\t\tif (s.charAt(0) == \"-\") {\r\n\t\t\tsIsNegative = true;\r\n\t\t\ts = s.substring(1, s.length);\r\n\t\t}\r\n\t\tvar len = s.length;\r\n\r\n\t\tfor (i in 0...len) {\r\n\t\t\tvar digitInt = s.charCodeAt(len - 1 - i) - '0'.code;\r\n\r\n\t\t\tif (digitInt < 0 || digitInt > 9) {\r\n\t\t\t\tthrow \"NumberFormatError\";\r\n\t\t\t}\r\n\r\n\t\t\tif (digitInt != 0) {\r\n\t\t\t\tvar digit:Int64 = Int64.ofInt(digitInt);\r\n\t\t\t\tif (sIsNegative) {\r\n\t\t\t\t\tcurrent = Int64.sub(current, Int64.mul(multiplier, digit));\r\n\t\t\t\t\tif (!Int64.isNeg(current)) {\r\n\t\t\t\t\t\tthrow \"NumberFormatError: Underflow\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcurrent = Int64.add(current, Int64.mul(multiplier, digit));\r\n\t\t\t\t\tif (Int64.isNeg(current)) {\r\n\t\t\t\t\t\tthrow \"NumberFormatError: Overflow\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tmultiplier = Int64.mul(multiplier, base);\r\n\t\t}\r\n\t\treturn current;\r\n\t}\r\n\r\n\t/**\r\n\t\tCreate `Int64` from given float.\r\n\t**/\r\n\tpublic static function fromFloat(f:Float):Int64 {\r\n\t\tif (Math.isNaN(f) || !Math.isFinite(f)) {\r\n\t\t\tthrow \"Number is NaN or Infinite\";\r\n\t\t}\r\n\r\n\t\tvar noFractions = f - (f % 1);\r\n\r\n\t\t// 2^53-1 and -2^53+1: these are parseable without loss of precision.\r\n\t\t// In theory 2^53 and -2^53 are parseable too, but then there's no way to\r\n\t\t// distinguish 2^53 from 2^53+1\r\n\t\t// (i.e. trace(9007199254740992. + 1. > 9007199254740992.); // false!)\r\n\t\tif (noFractions > 9007199254740991) {\r\n\t\t\tthrow \"Conversion overflow\";\r\n\t\t}\r\n\t\tif (noFractions < -9007199254740991) {\r\n\t\t\tthrow \"Conversion underflow\";\r\n\t\t}\r\n\r\n\t\tvar result = Int64.ofInt(0);\r\n\t\tvar neg = noFractions < 0;\r\n\t\tvar rest = neg ? -noFractions : noFractions;\r\n\r\n\t\tvar i = 0;\r\n\t\twhile (rest >= 1) {\r\n\t\t\tvar curr = rest % 2;\r\n\t\t\trest = rest / 2;\r\n\t\t\tif (curr >= 1) {\r\n\t\t\t\tresult = Int64.add(result, Int64.shl(Int64.ofInt(1), i));\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\tif (neg) {\r\n\t\t\tresult = Int64.neg(result);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe;\r\n\r\n/**\r\n\tLog primarily provides the `trace()` method, which is invoked upon a call to\r\n\t`trace()` in Haxe code.\r\n**/\r\nclass Log {\r\n\t/**\r\n\t\tFormat the output of `trace` before printing it.\r\n\t**/\r\n\tpublic static function formatOutput(v:Dynamic, infos:Null<PosInfos>):String {\r\n\t\tvar str = Std.string(v);\r\n\t\tif (infos == null)\r\n\t\t\treturn str;\r\n\t\tvar pstr = infos.fileName + \":\" + infos.lineNumber;\r\n\t\tif (infos.customParams != null)\r\n\t\t\tfor (v in infos.customParams)\r\n\t\t\t\tstr += \", \" + Std.string(v);\r\n\t\treturn pstr + \": \" + str;\r\n\t}\r\n\r\n\t/**\r\n\t\tOutputs `v` in a platform-dependent way.\r\n\r\n\t\tThe second parameter `infos` is injected by the compiler and contains\r\n\t\tinformation about the position where the `trace()` call was made.\r\n\r\n\t\tThis method can be rebound to a custom function:\r\n\r\n\t\t\tvar oldTrace = haxe.Log.trace; // store old function\r\n\t\t\thaxe.Log.trace = function(v, ?infos) {\r\n\t\t\t  // handle trace\r\n\t\t\t}\r\n\t\t\t...\r\n\t\t\thaxe.Log.trace = oldTrace;\r\n\r\n\t\tIf it is bound to null, subsequent calls to `trace()` will cause an\r\n\t\texception.\r\n\t**/\r\n\tpublic static dynamic function trace(v:Dynamic, ?infos:PosInfos):Void {\r\n\t\tvar str = formatOutput(v, infos);\r\n\t\t#if js\r\n\t\tif (js.Syntax.typeof(untyped console) != \"undefined\" && (untyped console).log != null)\r\n\t\t\t(untyped console).log(str);\r\n\t\t#elseif lua\r\n\t\tuntyped __define_feature__(\"use._hx_print\", _hx_print(str));\r\n\t\t#elseif sys\r\n\t\tSys.println(str);\r\n\t\t#else\r\n\t\tthrow new haxe.exceptions.NotImplementedException()\r\n\t\t#end\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe;\r\n\r\n#if (target.threaded && !cppia)\r\nimport sys.thread.Thread;\r\nimport sys.thread.EventLoop;\r\n#end\r\n\r\n/**\r\n\tThe `Timer` class allows you to create asynchronous timers on platforms that\r\n\tsupport events.\r\n\r\n\tThe intended usage is to create an instance of the `Timer` class with a given\r\n\tinterval, set its `run()` method to a custom function to be invoked and\r\n\teventually call `stop()` to stop the `Timer`.\r\n\r\n\tNote that a running `Timer` may or may not prevent the program to exit\r\n\tautomatically when `main()` returns.\r\n\r\n\tIt is also possible to extend this class and override its `run()` method in\r\n\tthe child class.\r\n\r\n\tNotice for threaded targets:\r\n\t`Timer` instances require threads they were created in to run with Haxe's event loops.\r\n\tMain thread of a Haxe program always contains an event loop. For other cases use \r\n\t`sys.thread.Thread.createWithEventLoop` and `sys.thread.Thread.runWithEventLoop` methods.\r\n**/\r\nclass Timer {\r\n\t#if (flash || js)\r\n\tprivate var id:Null<Int>;\r\n\t#elseif (target.threaded && !cppia)\r\n\tvar thread:Thread;\r\n\tvar eventHandler:EventHandler;\r\n\t#else\r\n\tprivate var event:MainLoop.MainEvent;\r\n\t#end\r\n\r\n\t/**\r\n\t\tCreates a new timer that will run every `time_ms` milliseconds.\r\n\r\n\t\tAfter creating the Timer instance, it calls `this.run` repeatedly,\r\n\t\twith delays of `time_ms` milliseconds, until `this.stop` is called.\r\n\r\n\t\tThe first invocation occurs after `time_ms` milliseconds, not\r\n\t\timmediately.\r\n\r\n\t\tThe accuracy of this may be platform-dependent.\r\n\t**/\r\n\tpublic function new(time_ms:Int) {\r\n\t\t#if flash\r\n\t\tvar me = this;\r\n\t\tid = untyped __global__[\"flash.utils.setInterval\"](function() {\r\n\t\t\tme.run();\r\n\t\t}, time_ms);\r\n\t\t#elseif js\r\n\t\tvar me = this;\r\n\t\tid = untyped setInterval(function() me.run(), time_ms);\r\n\t\t#elseif (target.threaded && !cppia)\r\n\t\tthread = Thread.current();\r\n\t\teventHandler = thread.events.repeat(() -> this.run(), time_ms);\r\n\t\t#else\r\n\t\tvar dt = time_ms / 1000;\r\n\t\tevent = MainLoop.add(function() {\r\n\t\t\t@:privateAccess event.nextRun += dt;\r\n\t\t\trun();\r\n\t\t});\r\n\t\tevent.delay(dt);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tStops `this` Timer.\r\n\r\n\t\tAfter calling this method, no additional invocations of `this.run`\r\n\t\twill occur.\r\n\r\n\t\tIt is not possible to restart `this` Timer once stopped.\r\n\t**/\r\n\tpublic function stop() {\r\n\t\t#if (flash || js)\r\n\t\tif (id == null)\r\n\t\t\treturn;\r\n\t\t#if flash\r\n\t\tuntyped __global__[\"flash.utils.clearInterval\"](id);\r\n\t\t#elseif js\r\n\t\tuntyped clearInterval(id);\r\n\t\t#end\r\n\t\tid = null;\r\n\t\t#elseif (target.threaded && !cppia)\r\n\t\tthread.events.cancel(eventHandler);\r\n\t\t#else\r\n\t\tif (event != null) {\r\n\t\t\tevent.stop();\r\n\t\t\tevent = null;\r\n\t\t}\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tThis method is invoked repeatedly on `this` Timer.\r\n\r\n\t\tIt can be overridden in a subclass, or rebound directly to a custom\r\n\t\tfunction:\r\n\r\n\t\t```haxe\r\n\t\tvar timer = new haxe.Timer(1000); // 1000ms delay\r\n\t\ttimer.run = function() { ... }\r\n\t\t```\r\n\r\n\t\tOnce bound, it can still be rebound to different functions until `this`\r\n\t\tTimer is stopped through a call to `this.stop`.\r\n\t**/\r\n\tpublic dynamic function run() {}\r\n\r\n\t/**\r\n\t\tInvokes `f` after `time_ms` milliseconds.\r\n\r\n\t\tThis is a convenience function for creating a new Timer instance with\r\n\t\t`time_ms` as argument, binding its `run()` method to `f` and then stopping\r\n\t\t`this` Timer upon the first invocation.\r\n\r\n\t\tIf `f` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function delay(f:Void->Void, time_ms:Int) {\r\n\t\tvar t = new haxe.Timer(time_ms);\r\n\t\tt.run = function() {\r\n\t\t\tt.stop();\r\n\t\t\tf();\r\n\t\t};\r\n\t\treturn t;\r\n\t}\r\n\r\n\t/**\r\n\t\tMeasures the time it takes to execute `f`, in seconds with fractions.\r\n\r\n\t\tThis is a convenience function for calculating the difference between\r\n\t\t`Timer.stamp()` before and after the invocation of `f`.\r\n\r\n\t\tThe difference is passed as argument to `Log.trace()`, with `\"s\"` appended\r\n\t\tto denote the unit. The optional `pos` argument is passed through.\r\n\r\n\t\tIf `f` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function measure<T>(f:Void->T, ?pos:PosInfos):T {\r\n\t\tvar t0 = stamp();\r\n\t\tvar r = f();\r\n\t\tLog.trace((stamp() - t0) + \"s\", pos);\r\n\t\treturn r;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a timestamp, in seconds with fractions.\r\n\r\n\t\tThe value itself might differ depending on platforms, only differences\r\n\t\tbetween two values make sense.\r\n\t**/\r\n\tpublic static inline function stamp():Float {\r\n\t\t#if flash\r\n\t\treturn flash.Lib.getTimer() / 1000;\r\n\t\t#elseif js\r\n\t\t#if nodejs\r\n\t\tvar hrtime = js.Syntax.code('process.hrtime()'); // [seconds, remaining nanoseconds]\r\n\t\treturn hrtime[0] + hrtime[1] / 1e9;\r\n\t\t#else\r\n\t\treturn @:privateAccess HxOverrides.now() / 1000;\r\n\t\t#end\r\n\t\t#elseif cpp\r\n\t\treturn untyped __global__.__time_stamp();\r\n\t\t#elseif python\r\n\t\treturn Sys.cpuTime();\r\n\t\t#elseif sys\r\n\t\treturn Sys.time();\r\n\t\t#else\r\n\t\treturn 0;\r\n\t\t#end\r\n\t}\r\n}","package haxe;\r\n\r\n/**\r\n\tAn exception containing arbitrary value.\r\n\r\n\tThis class is automatically used for throwing values, which don't extend `haxe.Exception`\r\n\tor native exception type.\r\n\tFor example:\r\n\t```haxe\r\n\tthrow \"Terrible error\";\r\n\t```\r\n\twill be compiled to\r\n\t```haxe\r\n\tthrow new ValueException(\"Terrible error\");\r\n\t```\r\n**/\r\nclass ValueException extends Exception {\r\n\t/**\r\n\t\tThrown value.\r\n\t**/\r\n\tpublic var value(default, null):Any;\r\n\r\n\tpublic function new(value:Any, ?previous:Exception, ?native:Any):Void {\r\n\t\tsuper(#if js js.Syntax.code('String({0})', value) #else Std.string(value) #end, previous, native);\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\t/**\r\n\t\tExtract an originally thrown value.\r\n\r\n\t\tThis method must return the same value on subsequent calls.\r\n\t\tUsed internally for catching non-native exceptions.\r\n\t\tDo _not_ override unless you know what you are doing.\r\n\t**/\r\n\toverride function unwrap():Any {\r\n\t\treturn value;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.crypto;\r\n\r\n/**\r\n\tCreates a Sha1 of a String.\r\n**/\r\nclass Sha1 {\r\n\tpublic static function encode(s:String):String {\r\n\t\tvar sh = new Sha1();\r\n\t\tvar h = sh.doEncode(str2blks(s));\r\n\t\treturn sh.hex(h);\r\n\t}\r\n\r\n\tpublic static function make(b:haxe.io.Bytes):haxe.io.Bytes {\r\n\t\tvar h = new Sha1().doEncode(bytes2blks(b));\r\n\t\tvar out = haxe.io.Bytes.alloc(20);\r\n\t\tvar p = 0;\r\n\t\tfor (i in 0...5) {\r\n\t\t\tout.set(p++, h[i] >>> 24);\r\n\t\t\tout.set(p++, (h[i] >> 16) & 0xFF);\r\n\t\t\tout.set(p++, (h[i] >> 8) & 0xFF);\r\n\t\t\tout.set(p++, h[i] & 0xFF);\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tfunction new() {}\r\n\r\n\tfunction doEncode(x:Array<Int>):Array<Int> {\r\n\t\tvar w = new Array<Int>();\r\n\r\n\t\tvar a = 0x67452301;\r\n\t\tvar b = 0xEFCDAB89;\r\n\t\tvar c = 0x98BADCFE;\r\n\t\tvar d = 0x10325476;\r\n\t\tvar e = 0xC3D2E1F0;\r\n\r\n\t\tvar i = 0;\r\n\t\twhile (i < x.length) {\r\n\t\t\tvar olda = a;\r\n\t\t\tvar oldb = b;\r\n\t\t\tvar oldc = c;\r\n\t\t\tvar oldd = d;\r\n\t\t\tvar olde = e;\r\n\r\n\t\t\tvar j = 0;\r\n\t\t\twhile (j < 80) {\r\n\t\t\t\tif (j < 16)\r\n\t\t\t\t\tw[j] = x[i + j];\r\n\t\t\t\telse\r\n\t\t\t\t\tw[j] = rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);\r\n\t\t\t\tvar t = rol(a, 5) + ft(j, b, c, d) + e + w[j] + kt(j);\r\n\t\t\t\te = d;\r\n\t\t\t\td = c;\r\n\t\t\t\tc = rol(b, 30);\r\n\t\t\t\tb = a;\r\n\t\t\t\ta = t;\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\ta += olda;\r\n\t\t\tb += oldb;\r\n\t\t\tc += oldc;\r\n\t\t\td += oldd;\r\n\t\t\te += olde;\r\n\t\t\ti += 16;\r\n\t\t}\r\n\t\treturn [a, b, c, d, e];\r\n\t}\r\n\r\n\t/**\r\n\t\tConvert a string to a sequence of 16-word blocks, stored as an array.\r\n\t\tAppend padding bits and the length, as described in the SHA1 standard.\r\n\t**/\r\n\tstatic function str2blks(s:String):Array<Int> {\r\n\t\t#if target.unicode\r\n\t\tvar s = haxe.io.Bytes.ofString(s);\r\n\t\t#end\r\n\t\tvar nblk = ((s.length + 8) >> 6) + 1;\r\n\t\tvar blks = new Array<Int>();\r\n\r\n\t\tfor (i in 0...nblk * 16)\r\n\t\t\tblks[i] = 0;\r\n\t\tfor (i in 0...s.length) {\r\n\t\t\tvar p = i >> 2;\r\n\t\t\tblks[p] |= #if target.unicode s.get(i) #else StringTools.fastCodeAt(s, i) #end << (24 - ((i & 3) << 3));\r\n\t\t}\r\n\t\tvar i = s.length;\r\n\t\tvar p = i >> 2;\r\n\t\tblks[p] |= 0x80 << (24 - ((i & 3) << 3));\r\n\t\tblks[nblk * 16 - 1] = s.length * 8;\r\n\t\treturn blks;\r\n\t}\r\n\r\n\tstatic function bytes2blks(b:haxe.io.Bytes):Array<Int> {\r\n\t\tvar nblk = ((b.length + 8) >> 6) + 1;\r\n\t\tvar blks = new Array<Int>();\r\n\r\n\t\tfor (i in 0...nblk * 16)\r\n\t\t\tblks[i] = 0;\r\n\t\tfor (i in 0...b.length) {\r\n\t\t\tvar p = i >> 2;\r\n\t\t\tblks[p] |= b.get(i) << (24 - ((i & 3) << 3));\r\n\t\t}\r\n\t\tvar i = b.length;\r\n\t\tvar p = i >> 2;\r\n\t\tblks[p] |= 0x80 << (24 - ((i & 3) << 3));\r\n\t\tblks[nblk * 16 - 1] = b.length * 8;\r\n\t\treturn blks;\r\n\t}\r\n\r\n\t/**\r\n\t\tBitwise rotate a 32-bit number to the left\r\n\t**/\r\n\tinline function rol(num:Int, cnt:Int):Int {\r\n\t\treturn (num << cnt) | (num >>> (32 - cnt));\r\n\t}\r\n\r\n\t/**\r\n\t\tPerform the appropriate triplet combination function for the current iteration\r\n\t**/\r\n\tfunction ft(t:Int, b:Int, c:Int, d:Int):Int {\r\n\t\tif (t < 20)\r\n\t\t\treturn (b & c) | ((~b) & d);\r\n\t\tif (t < 40)\r\n\t\t\treturn b ^ c ^ d;\r\n\t\tif (t < 60)\r\n\t\t\treturn (b & c) | (b & d) | (c & d);\r\n\t\treturn b ^ c ^ d;\r\n\t}\r\n\r\n\t/**\r\n\t\tDetermine the appropriate additive constant for the current iteration\r\n\t**/\r\n\tfunction kt(t:Int):Int {\r\n\t\tif (t < 20)\r\n\t\t\treturn 0x5A827999;\r\n\t\tif (t < 40)\r\n\t\t\treturn 0x6ED9EBA1;\r\n\t\tif (t < 60)\r\n\t\t\treturn 0x8F1BBCDC;\r\n\t\treturn 0xCA62C1D6;\r\n\t}\r\n\r\n\tfunction hex(a:Array<Int>) {\r\n\t\tvar str = \"\";\r\n\t\tfor (num in a) {\r\n\t\t\tstr += StringTools.hex(num, 8);\r\n\t\t}\r\n\t\treturn str.toLowerCase();\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.ds;\r\n\r\n/**\r\n\tBalancedTree allows key-value mapping with arbitrary keys, as long as they\r\n\tcan be ordered. By default, `Reflect.compare` is used in the `compare`\r\n\tmethod, which can be overridden in subclasses.\r\n\r\n\tOperations have a logarithmic average and worst-case cost.\r\n\r\n\tIteration over keys and values, using `keys` and `iterator` respectively,\r\n\tare in-order.\r\n**/\r\nclass BalancedTree<K, V> implements haxe.Constraints.IMap<K, V> {\r\n\tvar root:TreeNode<K, V>;\r\n\r\n\t/**\r\n\t\tCreates a new BalancedTree, which is initially empty.\r\n\t**/\r\n\tpublic function new() {}\r\n\r\n\t/**\r\n\t\tBinds `key` to `value`.\r\n\r\n\t\tIf `key` is already bound to a value, that binding disappears.\r\n\r\n\t\tIf `key` is null, the result is unspecified.\r\n\t**/\r\n\tpublic function set(key:K, value:V) {\r\n\t\troot = setLoop(key, value, root);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the value `key` is bound to.\r\n\r\n\t\tIf `key` is not bound to any value, `null` is returned.\r\n\r\n\t\tIf `key` is null, the result is unspecified.\r\n\t**/\r\n\tpublic function get(key:K):Null<V> {\r\n\t\tvar node = root;\r\n\t\twhile (node != null) {\r\n\t\t\tvar c = compare(key, node.key);\r\n\t\t\tif (c == 0)\r\n\t\t\t\treturn node.value;\r\n\t\t\tif (c < 0)\r\n\t\t\t\tnode = node.left;\r\n\t\t\telse\r\n\t\t\t\tnode = node.right;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t\tRemoves the current binding of `key`.\r\n\r\n\t\tIf `key` has no binding, `this` BalancedTree is unchanged and false is\r\n\t\treturned.\r\n\r\n\t\tOtherwise the binding of `key` is removed and true is returned.\r\n\r\n\t\tIf `key` is null, the result is unspecified.\r\n\t**/\r\n\tpublic function remove(key:K) {\r\n\t\ttry {\r\n\t\t\troot = removeLoop(key, root);\r\n\t\t\treturn true;\r\n\t\t} catch (e:String) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if `key` is bound to a value.\r\n\r\n\t\tThis method returns true even if `key` is bound to null.\r\n\r\n\t\tIf `key` is null, the result is unspecified.\r\n\t**/\r\n\tpublic function exists(key:K) {\r\n\t\tvar node = root;\r\n\t\twhile (node != null) {\r\n\t\t\tvar c = compare(key, node.key);\r\n\t\t\tif (c == 0)\r\n\t\t\t\treturn true;\r\n\t\t\telse if (c < 0)\r\n\t\t\t\tnode = node.left;\r\n\t\t\telse\r\n\t\t\t\tnode = node.right;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t\tIterates over the bound values of `this` BalancedTree.\r\n\r\n\t\tThis operation is performed in-order.\r\n\t**/\r\n\tpublic function iterator():Iterator<V> {\r\n\t\tvar ret = [];\r\n\t\titeratorLoop(root, ret);\r\n\t\treturn ret.iterator();\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Map.keyValueIterator`\r\n\t**/\r\n\t@:runtime public inline function keyValueIterator():KeyValueIterator<K, V> {\r\n\t\treturn new haxe.iterators.MapKeyValueIterator(this);\r\n\t}\r\n\r\n\t/**\r\n\t\tIterates over the keys of `this` BalancedTree.\r\n\r\n\t\tThis operation is performed in-order.\r\n\t**/\r\n\tpublic function keys():Iterator<K> {\r\n\t\tvar ret = [];\r\n\t\tkeysLoop(root, ret);\r\n\t\treturn ret.iterator();\r\n\t}\r\n\r\n\tpublic function copy():BalancedTree<K, V> {\r\n\t\tvar copied = new BalancedTree<K, V>();\r\n\t\tcopied.root = root;\r\n\t\treturn copied;\r\n\t}\r\n\r\n\tfunction setLoop(k:K, v:V, node:TreeNode<K, V>) {\r\n\t\tif (node == null)\r\n\t\t\treturn new TreeNode<K, V>(null, k, v, null);\r\n\t\tvar c = compare(k, node.key);\r\n\t\treturn if (c == 0) new TreeNode<K, V>(node.left, k, v, node.right, node.get_height()); else if (c < 0) {\r\n\t\t\tvar nl = setLoop(k, v, node.left);\r\n\t\t\tbalance(nl, node.key, node.value, node.right);\r\n\t\t} else {\r\n\t\t\tvar nr = setLoop(k, v, node.right);\r\n\t\t\tbalance(node.left, node.key, node.value, nr);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction removeLoop(k:K, node:TreeNode<K, V>) {\r\n\t\tif (node == null)\r\n\t\t\tthrow \"Not_found\";\r\n\t\tvar c = compare(k, node.key);\r\n\t\treturn if (c == 0) merge(node.left,\r\n\t\t\tnode.right); else if (c < 0) balance(removeLoop(k, node.left), node.key, node.value,\r\n\t\t\tnode.right); else balance(node.left, node.key, node.value, removeLoop(k, node.right));\r\n\t}\r\n\r\n\tstatic function iteratorLoop<K,V>(node:TreeNode<K, V>, acc:Array<V>) {\r\n\t\tif (node != null) {\r\n\t\t\titeratorLoop(node.left, acc);\r\n\t\t\tacc.push(node.value);\r\n\t\t\titeratorLoop(node.right, acc);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction keysLoop(node:TreeNode<K, V>, acc:Array<K>) {\r\n\t\tif (node != null) {\r\n\t\t\tkeysLoop(node.left, acc);\r\n\t\t\tacc.push(node.key);\r\n\t\t\tkeysLoop(node.right, acc);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction merge(t1, t2) {\r\n\t\tif (t1 == null)\r\n\t\t\treturn t2;\r\n\t\tif (t2 == null)\r\n\t\t\treturn t1;\r\n\t\tvar t = minBinding(t2);\r\n\t\treturn balance(t1, t.key, t.value, removeMinBinding(t2));\r\n\t}\r\n\r\n\tfunction minBinding(t:TreeNode<K, V>) {\r\n\t\treturn if (t == null) throw \"Not_found\"; else if (t.left == null) t; else minBinding(t.left);\r\n\t}\r\n\r\n\tfunction removeMinBinding(t:TreeNode<K, V>) {\r\n\t\treturn if (t.left == null) t.right; else balance(removeMinBinding(t.left), t.key, t.value, t.right);\r\n\t}\r\n\r\n\tfunction balance(l:TreeNode<K, V>, k:K, v:V, r:TreeNode<K, V>):TreeNode<K, V> {\r\n\t\tvar hl = l.get_height();\r\n\t\tvar hr = r.get_height();\r\n\t\treturn if (hl > hr + 2) {\r\n\t\t\tif (l.left.get_height() >= l.right.get_height())\r\n\t\t\t\tnew TreeNode<K, V>(l.left, l.key, l.value, new TreeNode<K, V>(l.right, k, v, r));\r\n\t\t\telse\r\n\t\t\t\tnew TreeNode<K, V>(new TreeNode<K, V>(l.left, l.key, l.value, l.right.left), l.right.key, l.right.value,\r\n\t\t\t\t\tnew TreeNode<K, V>(l.right.right, k, v, r));\r\n\t\t} else if (hr > hl + 2) {\r\n\t\t\tif (r.right.get_height() > r.left.get_height())\r\n\t\t\t\tnew TreeNode<K, V>(new TreeNode<K, V>(l, k, v, r.left), r.key, r.value, r.right);\r\n\t\t\telse\r\n\t\t\t\tnew TreeNode<K, V>(new TreeNode<K, V>(l, k, v, r.left.left), r.left.key, r.left.value,\r\n\t\t\t\t\tnew TreeNode<K, V>(r.left.right, r.key, r.value, r.right));\r\n\t\t} else {\r\n\t\t\tnew TreeNode<K, V>(l, k, v, r, (hl > hr ? hl : hr) + 1);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction compare(k1:K, k2:K) {\r\n\t\treturn Reflect.compare(k1, k2);\r\n\t}\r\n\r\n\tpublic function toString() {\r\n\t\treturn root == null ? \"[]\" : '[${root.toString()}]';\r\n\t}\r\n\r\n\t/**\r\n\t\tRemoves all keys from `this` BalancedTree.\r\n\t**/\r\n\tpublic function clear():Void {\r\n\t\troot = null;\r\n\t}\r\n}\r\n\r\n/**\r\n\tA tree node of `haxe.ds.BalancedTree`.\r\n**/\r\nclass TreeNode<K, V> {\r\n\tpublic var left:TreeNode<K, V>;\r\n\tpublic var right:TreeNode<K, V>;\r\n\tpublic var key:K;\r\n\tpublic var value:V;\r\n\r\n\tvar _height:Int;\r\n\r\n\tpublic function new(l, k, v, r, h = -1) {\r\n\t\tleft = l;\r\n\t\tkey = k;\r\n\t\tvalue = v;\r\n\t\tright = r;\r\n\t\tif (h == -1)\r\n\t\t\t_height = (left.get_height() > right.get_height() ? left.get_height() : right.get_height()) + 1;\r\n\t\telse\r\n\t\t\t_height = h;\r\n\t}\r\n\r\n\textern public inline function get_height()\r\n\t\treturn this == null ? 0 : _height;\r\n\r\n\tpublic function toString() {\r\n\t\treturn (left == null ? \"\" : left.toString() + \", \") + '$key => $value' + (right == null ? \"\" : \", \" + right.toString());\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.ds;\r\n\r\n/**\r\n\tEnumValueMap allows mapping of enum value keys to arbitrary values.\r\n\r\n\tKeys are compared by value and recursively over their parameters. If any\r\n\tparameter is not an enum value, `Reflect.compare` is used to compare them.\r\n**/\r\nclass EnumValueMap<K:EnumValue, V> extends haxe.ds.BalancedTree<K, V> implements haxe.Constraints.IMap<K, V> {\r\n\toverride function compare(k1:EnumValue, k2:EnumValue):Int {\r\n\t\tvar d = k1.getIndex() - k2.getIndex();\r\n\t\tif (d != 0)\r\n\t\t\treturn d;\r\n\t\t#if hl\r\n\t\tvar a1 = @:privateAccess Type._enumParameters(k1);\r\n\t\tvar a2 = @:privateAccess Type._enumParameters(k2);\r\n\t\tvar ld = a1.length - a2.length;\r\n\t\tif (ld != 0)\r\n\t\t\treturn ld;\r\n\t\tfor (i in 0...a1.length) {\r\n\t\t\tvar d = compareArg(a1[i], a2[i]);\r\n\t\t\tif (d != 0)\r\n\t\t\t\treturn d;\r\n\t\t}\r\n\t\treturn 0;\r\n\t\t#else\r\n\t\tvar p1 = k1.getParameters();\r\n\t\tvar p2 = k2.getParameters();\r\n\t\tif (p1.length == 0 && p2.length == 0)\r\n\t\t\treturn 0;\r\n\t\treturn compareArgs(p1, p2);\r\n\t\t#end\r\n\t}\r\n\r\n\tfunction compareArgs(a1:Array<Dynamic>, a2:Array<Dynamic>):Int {\r\n\t\tvar ld = a1.length - a2.length;\r\n\t\tif (ld != 0)\r\n\t\t\treturn ld;\r\n\t\tfor (i in 0...a1.length) {\r\n\t\t\tvar d = compareArg(a1[i], a2[i]);\r\n\t\t\tif (d != 0)\r\n\t\t\t\treturn d;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tfunction compareArg(v1:Dynamic, v2:Dynamic):Int {\r\n\t\treturn if (Reflect.isEnumValue(v1) && Reflect.isEnumValue(v2)) {\r\n\t\t\tcompare(v1, v2);\r\n\t\t} else if (Std.isOfType(v1, Array) && Std.isOfType(v2, Array)) {\r\n\t\t\tcompareArgs(v1, v2);\r\n\t\t} else {\r\n\t\t\tReflect.compare(v1, v2);\r\n\t\t}\r\n\t}\r\n\r\n\toverride function copy():EnumValueMap<K, V> {\r\n\t\tvar copied = new EnumValueMap<K, V>();\r\n\t\tcopied.root = root;\r\n\t\treturn copied;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.ds;\r\n\r\n/**\r\n\tA linked-list of elements. The list is composed of element container objects\r\n\tthat are chained together. It is optimized so that adding or removing an\r\n\telement does not imply copying the whole list content every time.\r\n\r\n\t@see https://haxe.org/manual/std-List.html\r\n**/\r\nclass List<T> {\r\n\tprivate var h:ListNode<T>;\r\n\tprivate var q:ListNode<T>;\r\n\r\n\t/**\r\n\t\tThe length of `this` List.\r\n\t**/\r\n\tpublic var length(default, null):Int;\r\n\r\n\t/**\r\n\t\tCreates a new empty list.\r\n\t**/\r\n\tpublic function new() {\r\n\t\tlength = 0;\r\n\t}\r\n\r\n\t/**\r\n\t\tAdds element `item` at the end of `this` List.\r\n\r\n\t\t`this.length` increases by 1.\r\n\t**/\r\n\tpublic function add(item:T) {\r\n\t\tvar x = ListNode.create(item, null);\r\n\t\tif (h == null)\r\n\t\t\th = x;\r\n\t\telse\r\n\t\t\tq.next = x;\r\n\t\tq = x;\r\n\t\tlength++;\r\n\t}\r\n\r\n\t/**\r\n\t\tAdds element `item` at the beginning of `this` List.\r\n\r\n\t\t`this.length` increases by 1.\r\n\t**/\r\n\tpublic function push(item:T) {\r\n\t\tvar x = ListNode.create(item, h);\r\n\t\th = x;\r\n\t\tif (q == null)\r\n\t\t\tq = x;\r\n\t\tlength++;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the first element of `this` List, or null if no elements exist.\r\n\r\n\t\tThis function does not modify `this` List.\r\n\t**/\r\n\tpublic function first():Null<T> {\r\n\t\treturn if (h == null) null else h.item;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the last element of `this` List, or null if no elements exist.\r\n\r\n\t\tThis function does not modify `this` List.\r\n\t**/\r\n\tpublic function last():Null<T> {\r\n\t\treturn if (q == null) null else q.item;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the first element of `this` List, or null if no elements exist.\r\n\r\n\t\tThe element is removed from `this` List.\r\n\t**/\r\n\tpublic function pop():Null<T> {\r\n\t\tif (h == null)\r\n\t\t\treturn null;\r\n\t\tvar x = h.item;\r\n\t\th = h.next;\r\n\t\tif (h == null)\r\n\t\t\tq = null;\r\n\t\tlength--;\r\n\t\treturn x;\r\n\t}\r\n\r\n\t/**\r\n\t\tTells if `this` List is empty.\r\n\t**/\r\n\tpublic function isEmpty():Bool {\r\n\t\treturn (h == null);\r\n\t}\r\n\r\n\t/**\r\n\t\tEmpties `this` List.\r\n\r\n\t\tThis function does not traverse the elements, but simply sets the\r\n\t\tinternal references to null and `this.length` to 0.\r\n\t**/\r\n\tpublic function clear():Void {\r\n\t\th = null;\r\n\t\tq = null;\r\n\t\tlength = 0;\r\n\t}\r\n\r\n\t/**\r\n\t\tRemoves the first occurrence of `v` in `this` List.\r\n\r\n\t\tIf `v` is found by checking standard equality, it is removed from `this`\r\n\t\tList and the function returns true.\r\n\r\n\t\tOtherwise, false is returned.\r\n\t**/\r\n\tpublic function remove(v:T):Bool {\r\n\t\tvar prev:ListNode<T> = null;\r\n\t\tvar l = h;\r\n\t\twhile (l != null) {\r\n\t\t\tif (l.item == v) {\r\n\t\t\t\tif (prev == null)\r\n\t\t\t\t\th = l.next;\r\n\t\t\t\telse\r\n\t\t\t\t\tprev.next = l.next;\r\n\t\t\t\tif (q == l)\r\n\t\t\t\t\tq = prev;\r\n\t\t\t\tlength--;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tprev = l;\r\n\t\t\tl = l.next;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns an iterator on the elements of the list.\r\n\t**/\r\n\tpublic inline function iterator():ListIterator<T> {\r\n\t\treturn new ListIterator<T>(h);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns an iterator of the List indices and values.\r\n\t**/\r\n\t@:pure @:runtime public inline function keyValueIterator():ListKeyValueIterator<T> {\r\n\t\treturn new ListKeyValueIterator(h);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a string representation of `this` List.\r\n\r\n\t\tThe result is enclosed in { } with the individual elements being\r\n\t\tseparated by a comma.\r\n\t**/\r\n\tpublic function toString() {\r\n\t\tvar s = new StringBuf();\r\n\t\tvar first = true;\r\n\t\tvar l = h;\r\n\t\ts.add(\"{\");\r\n\t\twhile (l != null) {\r\n\t\t\tif (first)\r\n\t\t\t\tfirst = false;\r\n\t\t\telse\r\n\t\t\t\ts.add(\", \");\r\n\t\t\ts.add(Std.string(l.item));\r\n\t\t\tl = l.next;\r\n\t\t}\r\n\t\ts.add(\"}\");\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a string representation of `this` List, with `sep` separating\r\n\t\teach element.\r\n\t**/\r\n\tpublic function join(sep:String) {\r\n\t\tvar s = new StringBuf();\r\n\t\tvar first = true;\r\n\t\tvar l = h;\r\n\t\twhile (l != null) {\r\n\t\t\tif (first)\r\n\t\t\t\tfirst = false;\r\n\t\t\telse\r\n\t\t\t\ts.add(sep);\r\n\t\t\ts.add(l.item);\r\n\t\t\tl = l.next;\r\n\t\t}\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a list filtered with `f`. The returned list will contain all\r\n\t\telements for which `f(x) == true`.\r\n\t**/\r\n\tpublic function filter(f:T->Bool) {\r\n\t\tvar l2 = new List();\r\n\t\tvar l = h;\r\n\t\twhile (l != null) {\r\n\t\t\tvar v = l.item;\r\n\t\t\tl = l.next;\r\n\t\t\tif (f(v))\r\n\t\t\t\tl2.add(v);\r\n\t\t}\r\n\t\treturn l2;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a new list where all elements have been converted by the\r\n\t\tfunction `f`.\r\n\t**/\r\n\tpublic function map<X>(f:T->X):List<X> {\r\n\t\tvar b = new List();\r\n\t\tvar l = h;\r\n\t\twhile (l != null) {\r\n\t\t\tvar v = l.item;\r\n\t\t\tl = l.next;\r\n\t\t\tb.add(f(v));\r\n\t\t}\r\n\t\treturn b;\r\n\t}\r\n}\r\n\r\n#if neko\r\nprivate extern class ListNode<T> extends neko.NativeArray<Dynamic> {\r\n\tvar item(get, set):T;\r\n\tvar next(get, set):ListNode<T>;\r\n\tprivate inline function get_item():T\r\n\t\treturn this[0];\r\n\tprivate inline function set_item(v:T):T\r\n\t\treturn this[0] = v;\r\n\tprivate inline function get_next():ListNode<T>\r\n\t\treturn this[1];\r\n\tprivate inline function set_next(v:ListNode<T>):ListNode<T>\r\n\t\treturn this[1] = v;\r\n\tinline static function create<T>(item:T, next:ListNode<T>):ListNode<T> {\r\n\t\treturn untyped __dollar__array(item, next);\r\n\t}\r\n}\r\n#else\r\nprivate class ListNode<T> {\r\n\tpublic var item:T;\r\n\tpublic var next:ListNode<T>;\r\n\r\n\tpublic function new(item:T, next:ListNode<T>) {\r\n\t\tthis.item = item;\r\n\t\tthis.next = next;\r\n\t}\r\n\r\n\textern public inline static function create<T>(item:T, next:ListNode<T>):ListNode<T> {\r\n\t\treturn new ListNode(item, next);\r\n\t}\r\n}\r\n#end\r\n\r\nprivate class ListIterator<T> {\r\n\tvar head:ListNode<T>;\r\n\r\n\tpublic inline function new(head:ListNode<T>) {\r\n\t\tthis.head = head;\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn head != null;\r\n\t}\r\n\r\n\tpublic inline function next():T {\r\n\t\tvar val = head.item;\r\n\t\thead = head.next;\r\n\t\treturn val;\r\n\t}\r\n}\r\n\r\nprivate class ListKeyValueIterator<T> {\r\n\tvar idx:Int;\r\n\tvar head:ListNode<T>;\r\n\r\n\tpublic inline function new(head:ListNode<T>) {\r\n\t\tthis.head = head;\r\n\t\tthis.idx = 0;\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn head != null;\r\n\t}\r\n\r\n\tpublic inline function next():{key:Int, value:T} {\r\n\t\tvar val = head.item;\r\n\t\thead = head.next;\r\n\t\treturn {value: val, key: idx++};\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of h software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and h permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.ds;\r\n\r\nimport js.Syntax;\r\nimport js.Lib;\r\n\r\n#if (js_es >= 6)\r\n@:coreApi\r\nclass ObjectMap<K:{}, V> implements haxe.Constraints.IMap<K, V> {\r\n\tprivate var m:js.lib.Map<K, V>;\r\n\r\n\tpublic inline function new():Void {\r\n\t\tm = new js.lib.Map();\r\n\t}\r\n\r\n\tpublic inline function set(key:K, value:V):Void {\r\n\t\tm.set(key, value);\r\n\t}\r\n\r\n\tpublic inline function get(key:K):Null<V> {\r\n\t\treturn m.get(key);\r\n\t}\r\n\r\n\tpublic inline function exists(key:K):Bool {\r\n\t\treturn m.has(key);\r\n\t}\r\n\r\n\tpublic inline function remove(key:K):Bool {\r\n\t\treturn m.delete(key);\r\n\t}\r\n\r\n\tpublic inline function keys():Iterator<K> {\r\n\t\treturn new js.lib.HaxeIterator(m.keys());\r\n\t}\r\n\r\n\tpublic inline function iterator():Iterator<V> {\r\n\t\treturn m.iterator();\r\n\t}\r\n\r\n\tpublic inline function keyValueIterator():KeyValueIterator<K, V> {\r\n\t\treturn m.keyValueIterator();\r\n\t}\r\n\r\n\tpublic inline function copy():ObjectMap<K, V> {\r\n\t\tvar copied = new ObjectMap();\r\n\t\tcopied.m = new js.lib.Map(m);\r\n\t\treturn copied;\r\n\t}\r\n\r\n\tpublic function toString():String {\r\n\t\tvar s = new StringBuf();\r\n\t\ts.add(\"[\");\r\n\t\tvar it = keyValueIterator();\r\n\t\tfor (i in it) {\r\n\t\t\ts.add(Std.string(i.key));\r\n\t\t\ts.add(\" => \");\r\n\t\t\ts.add(Std.string(i.value));\r\n\t\t\tif (it.hasNext())\r\n\t\t\t\ts.add(\", \");\r\n\t\t}\r\n\t\ts.add(\"]\");\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\tpublic inline function clear():Void {\r\n\t\tm.clear();\r\n\t}\r\n}\r\n#else\r\n@:coreApi\r\nclass ObjectMap<K:{}, V> implements haxe.Constraints.IMap<K, V> {\r\n\tstatic inline function assignId(obj:{}):Int {\r\n\t\treturn Syntax.code('({0}.__id__ = {1})', obj, Lib.getNextHaxeUID());\r\n\t}\r\n\r\n\tstatic inline function getId(obj:{}):Int {\r\n\t\treturn untyped obj.__id__;\r\n\t}\r\n\r\n\tvar h:{__keys__:{}};\r\n\r\n\tpublic function new():Void {\r\n\t\th = {__keys__: {}};\r\n\t}\r\n\r\n\tpublic function set(key:K, value:V):Void {\r\n\t\tvar id = getId(key);\r\n\t\tif(id == null) {\r\n\t\t\tid = assignId(key);\r\n\t\t}\r\n\t\tSyntax.code('{0}[{1}] = {2}', h, id, value);\r\n\t\tSyntax.code('{0}[{1}] = {2}', h.__keys__, id, key);\r\n\t}\r\n\r\n\tpublic inline function get(key:K):Null<V> {\r\n\t\treturn untyped h[getId(key)];\r\n\t}\r\n\r\n\tpublic inline function exists(key:K):Bool {\r\n\t\treturn untyped h.__keys__[getId(key)] != null;\r\n\t}\r\n\r\n\tpublic function remove(key:K):Bool {\r\n\t\tvar id = getId(key);\r\n\t\tif (untyped h.__keys__[id] == null)\r\n\t\t\treturn false;\r\n\t\tjs.Syntax.delete(h, id);\r\n\t\tjs.Syntax.delete(h.__keys__, id);\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic function keys():Iterator<K> {\r\n\t\tvar a = [];\r\n\t\tuntyped {\r\n\t\t\tjs.Syntax.code(\"for( var key in this.h.__keys__ ) {\");\r\n\t\t\tif (h.hasOwnProperty(key))\r\n\t\t\t\ta.push(h.__keys__[key]);\r\n\t\t\tjs.Syntax.code(\"}\");\r\n\t\t}\r\n\t\treturn a.iterator();\r\n\t}\r\n\r\n\tpublic function iterator():Iterator<V> {\r\n\t\treturn untyped {\r\n\t\t\tref: h,\r\n\t\t\tit: keys(),\r\n\t\t\thasNext: function() {\r\n\t\t\t\treturn __this__.it.hasNext();\r\n\t\t\t},\r\n\t\t\tnext: function() {\r\n\t\t\t\tvar i = __this__.it.next();\r\n\t\t\t\treturn __this__.ref[getId(i)];\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@:runtime public inline function keyValueIterator():KeyValueIterator<K, V> {\r\n\t\treturn new haxe.iterators.MapKeyValueIterator(this);\r\n\t}\r\n\r\n\tpublic function copy():ObjectMap<K, V> {\r\n\t\tvar copied = new ObjectMap();\r\n\t\tfor (key in keys())\r\n\t\t\tcopied.set(key, get(key));\r\n\t\treturn copied;\r\n\t}\r\n\r\n\tpublic function toString():String {\r\n\t\tvar s = new StringBuf();\r\n\t\ts.add(\"[\");\r\n\t\tvar it = keys();\r\n\t\tfor (i in it) {\r\n\t\t\ts.add(Std.string(i));\r\n\t\t\ts.add(\" => \");\r\n\t\t\ts.add(Std.string(get(i)));\r\n\t\t\tif (it.hasNext())\r\n\t\t\t\ts.add(\", \");\r\n\t\t}\r\n\t\ts.add(\"]\");\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\tpublic inline function clear():Void {\r\n\t\th = {__keys__: {}};\r\n\t}\r\n}\r\n#end\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.ds;\r\n\r\n/**\r\n\t`ReadOnlyArray` is an abstract over an ordinary `Array` which only exposes\r\n\tAPIs that don't modify the instance, hence \"read-only\".\r\n\r\n\tNote that this doesn't necessarily mean that the instance is *immutable*.\r\n\tOther code holding a reference to the underlying `Array` can still modify it,\r\n\tand the reference can be obtained with a `cast`.\r\n**/\r\n@:forward(copy, filter, indexOf, iterator, keyValueIterator, join, lastIndexOf, map, slice, contains, toString)\r\nabstract ReadOnlyArray<T>(Array<T>) from Array<T> to Iterable<T> {\r\n\t/**\r\n\t\tThe length of `this` Array.\r\n\t**/\r\n\tpublic var length(get, never):Int;\r\n\r\n\tinline function get_length()\r\n\t\treturn this.length;\r\n\r\n\t@:arrayAccess inline function get(i:Int)\r\n\t\treturn this[i];\r\n\r\n\t/**\r\n\t\tReturns a new Array by appending the elements of `a` to the elements of\r\n\t\t`this` Array.\r\n\r\n\t\tThis operation does not modify `this` Array.\r\n\r\n\t\tIf `a` is the empty Array `[]`, a copy of `this` Array is returned.\r\n\r\n\t\tThe length of the returned Array is equal to the sum of `this.length`\r\n\t\tand `a.length`.\r\n\r\n\t\tIf `a` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic inline function concat(a:ReadOnlyArray<T>):Array<T> {\r\n\t\treturn this.concat(cast a);\r\n\t}\r\n}\r\n","package haxe.exceptions;\r\n\r\n/**\r\n\tAn exception that carry position information of a place where it was created.\r\n**/\r\nclass PosException extends Exception {\r\n\t/**\r\n\t\tPosition where this exception was created.\r\n\t**/\r\n\tpublic final posInfos:PosInfos;\r\n\r\n\tpublic function new(message:String, ?previous:Exception, ?pos:PosInfos):Void {\r\n\t\tsuper(message, previous);\r\n\t\tif (pos == null) {\r\n\t\t\tposInfos = { fileName:'(unknown)', lineNumber:0, className:'(unknown)', methodName:'(unknown)' }\r\n\t\t} else {\r\n\t\t\tposInfos = pos;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns exception message.\r\n\t**/\r\n\toverride function toString():String {\r\n\t\treturn '${super.toString()} in ${posInfos.className}.${posInfos.methodName} at ${posInfos.fileName}:${posInfos.lineNumber}';\r\n\t}\r\n}","package haxe.exceptions;\r\n\r\n/**\r\n\tAn exception that is thrown when requested function or operation does not have an implementation.\r\n**/\r\nclass NotImplementedException extends PosException {\r\n\tpublic function new(message:String = 'Not implemented', ?previous:Exception, ?pos:PosInfos):Void {\r\n\t\tsuper(message, previous, pos);\r\n\t}\r\n}","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.http;\r\n\r\nimport haxe.io.Bytes;\r\n\r\nprivate typedef StringKeyValue = {\r\n\tvar name:String;\r\n\tvar value:String;\r\n}\r\n\r\n/**\r\n\tThis class can be used to handle Http requests consistently across\r\n\tplatforms. There are two intended usages:\r\n\r\n\t- call `haxe.Http.requestUrl(url)` and receive the result as a `String`\r\n\t(only available on `sys` targets)\r\n\t- create a `new haxe.Http(url)`, register your callbacks for `onData`,\r\n\t`onError` and `onStatus`, then call `request()`.\r\n**/\r\nclass HttpBase {\r\n\t/**\r\n\t\tThe url of `this` request. It is used only by the `request()` method and\r\n\t\tcan be changed in order to send the same request to different target\r\n\t\tUrls.\r\n\t**/\r\n\tpublic var url:String;\r\n\r\n\tpublic var responseData(get,never):Null<String>;\r\n\tpublic var responseBytes(default,null):Null<Bytes>;\r\n\r\n\tvar responseAsString:Null<String>;\r\n\tvar postData:Null<String>;\r\n\tvar postBytes:Null<Bytes>;\r\n\tvar headers:Array<StringKeyValue>;\r\n\tvar params:Array<StringKeyValue>;\r\n\r\n\tfinal emptyOnData:(String)->Void;\r\n\r\n\t/**\r\n\t\tCreates a new Http instance with `url` as parameter.\r\n\r\n\t\tThis does not do a request until `request()` is called.\r\n\r\n\t\tIf `url` is null, the field url must be set to a value before making the\r\n\t\tcall to `request()`, or the result is unspecified.\r\n\r\n\t\t(Php) Https (SSL) connections are allowed only if the OpenSSL extension\r\n\t\tis enabled.\r\n\t**/\r\n\tpublic function new(url:String) {\r\n\t\tthis.url = url;\r\n\t\theaders = [];\r\n\t\tparams = [];\r\n\t\temptyOnData = onData;\r\n\t}\r\n\r\n\t/**\r\n\t\tSets the header identified as `name` to value `value`.\r\n\r\n\t\tIf `name` or `value` are null, the result is unspecified.\r\n\r\n\t\tThis method provides a fluent interface.\r\n\t**/\r\n\tpublic function setHeader(name:String, value:String) {\r\n\t\tfor (i in 0...headers.length) {\r\n\t\t\tif (headers[i].name == name) {\r\n\t\t\t\theaders[i] = {name: name, value: value};\r\n\t\t\t\treturn #if hx3compat this #end;\r\n\t\t\t}\r\n\t\t}\r\n\t\theaders.push({name: name, value: value});\r\n\t\t#if hx3compat\r\n\t\treturn this;\r\n\t\t#end\r\n\t}\r\n\r\n\tpublic function addHeader(header:String, value:String) {\r\n\t\theaders.push({name: header, value: value});\r\n\t\t#if hx3compat\r\n\t\treturn this;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tSets the parameter identified as `name` to value `value`.\r\n\r\n\t\tIf `name` or `value` are null, the result is unspecified.\r\n\r\n\t\tThis method provides a fluent interface.\r\n\t**/\r\n\tpublic function setParameter(name:String, value:String) {\r\n\t\tfor (i in 0...params.length) {\r\n\t\t\tif (params[i].name == name) {\r\n\t\t\t\tparams[i] = {name: name, value: value};\r\n\t\t\t\treturn #if hx3compat this #end;\r\n\t\t\t}\r\n\t\t}\r\n\t\tparams.push({name: name, value: value});\r\n\t\t#if hx3compat\r\n\t\treturn this;\r\n\t\t#end\r\n\t}\r\n\r\n\tpublic function addParameter(name:String, value:String) {\r\n\t\tparams.push({name: name, value: value});\r\n\t\t#if hx3compat\r\n\t\treturn this;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tSets the post data of `this` Http request to `data` string.\r\n\r\n\t\tThere can only be one post data per request. Subsequent calls to\r\n\t\tthis method or to `setPostBytes()` overwrite the previously set value.\r\n\r\n\t\tIf `data` is null, the post data is considered to be absent.\r\n\r\n\t\tThis method provides a fluent interface.\r\n\t**/\r\n\tpublic function setPostData(data:Null<String>) {\r\n\t\tpostData = data;\r\n\t\tpostBytes = null;\r\n\t\t#if hx3compat\r\n\t\treturn this;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tSets the post data of `this` Http request to `data` bytes.\r\n\r\n\t\tThere can only be one post data per request. Subsequent calls to\r\n\t\tthis method or to `setPostData()` overwrite the previously set value.\r\n\r\n\t\tIf `data` is null, the post data is considered to be absent.\r\n\r\n\t\tThis method provides a fluent interface.\r\n\t**/\r\n\tpublic function setPostBytes(data:Null<Bytes>) {\r\n\t\tpostBytes = data;\r\n\t\tpostData = null;\r\n\t\t#if hx3compat\r\n\t\treturn this;\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tSends `this` Http request to the Url specified by `this.url`.\r\n\r\n\t\tIf `post` is true, the request is sent as POST request, otherwise it is\r\n\t\tsent as GET request.\r\n\r\n\t\tDepending on the outcome of the request, this method calls the\r\n\t\t`onStatus()`, `onError()`, `onData()` or `onBytes()` callback functions.\r\n\r\n\t\tIf `this.url` is null, the result is unspecified.\r\n\r\n\t\tIf `this.url` is an invalid or inaccessible Url, the `onError()` callback\r\n\t\tfunction is called.\r\n\r\n\t\t[js] If `this.async` is false, the callback functions are called before\r\n\t\tthis method returns.\r\n\t**/\r\n\tpublic function request(?post:Bool):Void {\r\n\t\tthrow new haxe.exceptions.NotImplementedException();\r\n\t}\r\n\r\n\t/**\r\n\t\tThis method is called upon a successful request, with `data` containing\r\n\t\tthe result String.\r\n\r\n\t\tThe intended usage is to bind it to a custom function:\r\n\t\t`httpInstance.onData = function(data) { // handle result }`\r\n\t**/\r\n\tpublic dynamic function onData(data:String) {}\r\n\r\n\t/**\r\n\t\tThis method is called upon a successful request, with `data` containing\r\n\t\tthe result String.\r\n\r\n\t\tThe intended usage is to bind it to a custom function:\r\n\t\t`httpInstance.onBytes = function(data) { // handle result }`\r\n\t**/\r\n\tpublic dynamic function onBytes(data:Bytes) {}\r\n\r\n\t/**\r\n\t\tThis method is called upon a request error, with `msg` containing the\r\n\t\terror description.\r\n\r\n\t\tThe intended usage is to bind it to a custom function:\r\n\t\t`httpInstance.onError = function(msg) { // handle error }`\r\n\t**/\r\n\tpublic dynamic function onError(msg:String) {}\r\n\r\n\t/**\r\n\t\tThis method is called upon a Http status change, with `status` being the\r\n\t\tnew status.\r\n\r\n\t\tThe intended usage is to bind it to a custom function:\r\n\t\t`httpInstance.onStatus = function(status) { // handle status }`\r\n\t**/\r\n\tpublic dynamic function onStatus(status:Int) {}\r\n\r\n\t/**\r\n\t\tOverride this if extending `haxe.Http` with overriding `onData`\r\n\t**/\r\n\tfunction hasOnData():Bool {\r\n\t\treturn !Reflect.compareMethods(onData, emptyOnData);\r\n\t}\r\n\r\n\tfunction success(data:Bytes) {\r\n\t\tresponseBytes = data;\r\n\t\tresponseAsString = null;\r\n\t\tif (hasOnData()) {\r\n\t\t\tonData(responseData);\r\n\t\t}\r\n\t\tonBytes(responseBytes);\r\n\t}\r\n\r\n\tfunction get_responseData() {\r\n\t\tif (responseAsString == null && responseBytes != null) {\r\n\t\t\t#if neko\r\n\t\t\tresponseAsString = neko.Lib.stringReference(responseBytes);\r\n\t\t\t#else\r\n\t\t\tresponseAsString = responseBytes.getString(0, responseBytes.length, UTF8);\r\n\t\t\t#end\r\n\t\t}\r\n\t\treturn responseAsString;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n package haxe.http;\r\n\r\n import haxe.macro.Type.Ref;\r\n#if nodejs\r\n import haxe.io.Bytes;\r\n import js.node.Buffer;\r\n import js.node.url.URL;\r\n class HttpNodeJs extends haxe.http.HttpBase {\r\n     var req:js.node.http.ClientRequest;\r\n \r\n     public var responseHeaders:Map<String, Any>;\r\n\r\n     public function new(url:String) {\r\n         super(url);\r\n     }\r\n \r\n     /**\r\n         Cancels `this` Http request if `request` has been called and a response\r\n         has not yet been received.\r\n     **/\r\n     public function cancel() {\r\n         if (req == null)\r\n             return;\r\n         req.abort();\r\n         req = null;\r\n     }\r\n \r\n     public override function request(?post:Bool) {\r\n         responseAsString = null;\r\n         responseBytes = null;\r\n         responseHeaders = null;\r\n         var parsedUrl = new URL(url);\r\n         var secure = (parsedUrl.protocol == \"https:\");\r\n         var host = parsedUrl.hostname;\r\n         var path = parsedUrl.pathname;\r\n         var queryParams = parsedUrl.search;\r\n         if (queryParams != null && queryParams.length > 0) {\r\n            if (!StringTools.startsWith(queryParams, \"?\")) {\r\n                queryParams = \"?\" + queryParams;\r\n            }\r\n        } \r\n        if (queryParams != null) {\r\n            path += queryParams;\r\n        }\r\n         var port = if (parsedUrl.port != null) Std.parseInt(parsedUrl.port) else (secure ? 443 : 80);\r\n         var h:Dynamic = {};\r\n         /* ORIGINAL CODE ALWAYS SENT HEADERS AS AN ARRAY - this broke if \"Host\" was used\r\n         for (i in headers) {\r\n             var arr = Reflect.field(h, i.name);\r\n             if (arr == null) {\r\n                 arr = new Array<String>();\r\n                 Reflect.setField(h, i.name, arr);\r\n             }\r\n \r\n             arr.push(i.value);\r\n         }\r\n         */\r\n        // this sets the header to the value (which could be an array if needed)  \r\n        for (i in headers) {\r\n            Reflect.setField(h, i.name, i.value);\r\n        }\r\n\r\n         if (postData != null || postBytes != null)\r\n             post = true;\r\n         var uri = null;\r\n         for (p in params) {\r\n             if (uri == null)\r\n                 uri = \"\";\r\n             else\r\n                 uri += \"&\";\r\n             uri += StringTools.urlEncode(p.name) + \"=\" + StringTools.urlEncode(p.value);\r\n         }\r\n         var question = path.split(\"?\").length <= 1;\r\n         if (uri != null)\r\n             path += (if (question) \"?\" else \"&\") + uri;\r\n \r\n         var method = post ? 'POST' : 'GET';\r\n         if (_customRequestMethod != null) {\r\n            method = _customRequestMethod;\r\n         }\r\n         if (_customRequestPost != null) {\r\n            post = _customRequestPost;\r\n         }\r\n\r\n         var opts = {\r\n             protocol: parsedUrl.protocol,\r\n             hostname: host,\r\n             port: port,\r\n             method: method,\r\n             path: path,\r\n             headers: h\r\n         };\r\n         function httpResponse(res) {\r\n             res.setEncoding('binary');\r\n             var s = res.statusCode;\r\n             if (s != null)\r\n                 onStatus(s);\r\n             var data = [];\r\n             res.on('data', function(chunk:String) {\r\n                 data.push(Buffer.from(chunk, 'binary'));\r\n             });\r\n             res.on('end', function(_) {\r\n                if (res.headers != null) {\r\n                    responseHeaders = new Map<String, Any>();\r\n                    for (f in Reflect.fields(res.headers)) {\r\n                        var v = Reflect.field(res.headers, f);\r\n                        responseHeaders.set(f, v);\r\n                    }\r\n                }\r\n                 var buf = (data.length == 1 ? data[0] : Buffer.concat(data));\r\n                 responseBytes = Bytes.ofData(buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength));\r\n                 req = null;\r\n                 if (s != null && s >= 200 && s < 400) {\r\n                     success(responseBytes);\r\n                 } else {\r\n                     onError(\"Http Error #\" + s);\r\n                 }\r\n             });\r\n         }\r\n         req = secure ? js.node.Https.request(untyped opts, httpResponse) : js.node.Http.request(untyped opts, httpResponse);\r\n         if (post)\r\n             if (postData != null) {\r\n                 req.write(postData);\r\n             } else if(postBytes != null) {\r\n                 req.setHeader(\"Content-Length\", '${postBytes.length}');\r\n                 req.write(Buffer.from(postBytes.getData()));\r\n             }\r\n \r\n         req.end();\r\n     }\r\n \r\n     private var _customRequestMethod:String = null;\r\n     private var _customRequestPost:Null<Bool> = null;\r\n     public function customRequest(post:Bool, ?method:String):Void {\r\n         _customRequestPost = post;\r\n         _customRequestMethod = method;\r\n     }\r\n }\r\n #end\r\n \r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.io;\r\n\r\ntypedef ArrayBufferViewData = js.lib.ArrayBufferView;\r\n\r\nabstract ArrayBufferView(ArrayBufferViewData) {\r\n\tpublic var buffer(get, never):haxe.io.Bytes;\r\n\tpublic var byteOffset(get, never):Int;\r\n\tpublic var byteLength(get, never):Int;\r\n\r\n\tpublic inline function new(size:Int) {\r\n\t\tthis = new js.lib.Uint8Array(size);\r\n\t}\r\n\r\n\tinline function get_byteOffset()\r\n\t\treturn this.byteOffset;\r\n\r\n\tinline function get_byteLength()\r\n\t\treturn this.byteLength;\r\n\r\n\tinline function get_buffer():haxe.io.Bytes {\r\n\t\treturn haxe.io.Bytes.ofData(this.buffer);\r\n\t}\r\n\r\n\tpublic inline function sub(begin:Int, ?length:Int) {\r\n\t\treturn fromData(new js.lib.Uint8Array(this.buffer, begin, length == null ? this.buffer.byteLength - begin : length));\r\n\t}\r\n\r\n\tpublic inline function getData():ArrayBufferViewData {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic static inline function fromData(a:ArrayBufferViewData):ArrayBufferView {\r\n\t\treturn cast a;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.io;\r\n\r\n@:coreApi\r\nclass BytesBuffer {\r\n\tvar buffer:js.lib.ArrayBuffer;\r\n\tvar view:js.lib.DataView;\r\n\tvar u8:js.lib.Uint8Array;\r\n\tvar pos:Int;\r\n\tvar size:Int;\r\n\r\n\tpublic var length(get, never):Int;\r\n\r\n\tpublic function new() {\r\n\t\tpos = 0;\r\n\t\tsize = 0;\r\n\t}\r\n\r\n\tinline function get_length():Int {\r\n\t\treturn pos;\r\n\t}\r\n\r\n\tpublic function addByte(byte:Int):Void {\r\n\t\tif (pos == size)\r\n\t\t\tgrow(1);\r\n\t\tview.setUint8(pos++, byte);\r\n\t}\r\n\r\n\tpublic function add(src:Bytes):Void {\r\n\t\tif (pos + src.length > size)\r\n\t\t\tgrow(src.length);\r\n\t\tif (size == 0)\r\n\t\t\treturn;\r\n\t\tvar sub = new js.lib.Uint8Array(@:privateAccess src.b.buffer, @:privateAccess src.b.byteOffset, src.length);\r\n\t\tu8.set(sub, pos);\r\n\t\tpos += src.length;\r\n\t}\r\n\r\n\tpublic function addString(v:String, ?encoding:Encoding):Void {\r\n\t\tadd(Bytes.ofString(v, encoding));\r\n\t}\r\n\r\n\tpublic function addInt32(v:Int):Void {\r\n\t\tif (pos + 4 > size)\r\n\t\t\tgrow(4);\r\n\t\tview.setInt32(pos, v, true);\r\n\t\tpos += 4;\r\n\t}\r\n\r\n\tpublic function addInt64(v:haxe.Int64):Void {\r\n\t\tif (pos + 8 > size)\r\n\t\t\tgrow(8);\r\n\t\tview.setInt32(pos, v.low, true);\r\n\t\tview.setInt32(pos + 4, v.high, true);\r\n\t\tpos += 8;\r\n\t}\r\n\r\n\tpublic function addFloat(v:Float):Void {\r\n\t\tif (pos + 4 > size)\r\n\t\t\tgrow(4);\r\n\t\tview.setFloat32(pos, v, true);\r\n\t\tpos += 4;\r\n\t}\r\n\r\n\tpublic function addDouble(v:Float):Void {\r\n\t\tif (pos + 8 > size)\r\n\t\t\tgrow(8);\r\n\t\tview.setFloat64(pos, v, true);\r\n\t\tpos += 8;\r\n\t}\r\n\r\n\tpublic function addBytes(src:Bytes, pos:Int, len:Int):Void {\r\n\t\tif (pos < 0 || len < 0 || pos + len > src.length)\r\n\t\t\tthrow Error.OutsideBounds;\r\n\t\tif (this.pos + len > size)\r\n\t\t\tgrow(len);\r\n\t\tif (size == 0)\r\n\t\t\treturn;\r\n\t\tvar sub = new js.lib.Uint8Array(@:privateAccess src.b.buffer, @:privateAccess src.b.byteOffset + pos, len);\r\n\t\tu8.set(sub, this.pos);\r\n\t\tthis.pos += len;\r\n\t}\r\n\r\n\tfunction grow(delta:Int):Void {\r\n\t\tvar req = pos + delta;\r\n\t\tvar nsize = size == 0 ? 16 : size;\r\n\t\twhile (nsize < req)\r\n\t\t\tnsize = (nsize * 3) >> 1;\r\n\t\tvar nbuf = new js.lib.ArrayBuffer(nsize);\r\n\t\tvar nu8 = new js.lib.Uint8Array(nbuf);\r\n\t\tif (size > 0)\r\n\t\t\tnu8.set(u8);\r\n\t\tsize = nsize;\r\n\t\tbuffer = nbuf;\r\n\t\tu8 = nu8;\r\n\t\tview = new js.lib.DataView(buffer);\r\n\t}\r\n\r\n\tpublic function getBytes():Bytes@:privateAccess {\r\n\t\tif (size == 0)\r\n\t\t\treturn haxe.io.Bytes.alloc(0);\r\n\t\tvar b = new Bytes(buffer);\r\n\t\tb.length = pos;\r\n\t\treturn b;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.io;\r\n\r\n/**\r\n\tThis exception is raised when reading while data is no longer available in the `haxe.io.Input`.\r\n**/\r\nclass Eof {\r\n\tpublic function new() {}\r\n\r\n\t@:ifFeature(\"haxe.io.Eof.*\")\r\n\tfunction toString() {\r\n\t\treturn \"Eof\";\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.io;\r\n\r\n/**\r\n\tHelper that converts between floating point and binary representation.\r\n\tAlways works in low-endian encoding.\r\n**/\r\nclass FPHelper {\r\n\t#if neko_v21\r\n\t// stored in helper\r\n\t#elseif neko\r\n\tstatic var i64tmp = new sys.thread.Tls<Int64>();\r\n\t#elseif !(java || cpp)\r\n\tstatic var i64tmp = Int64.ofInt(0);\r\n\r\n\tstatic inline var LN2 = 0.6931471805599453; // Math.log(2)\r\n\r\n\tstatic inline function _i32ToFloat(i:Int):Float {\r\n\t\tvar sign = 1 - ((i >>> 31) << 1);\r\n\t\tvar e = (i >> 23) & 0xff;\r\n\t\tif (e == 255)\r\n\t\t\treturn i & 0x7fffff == 0 ? (sign > 0 ? Math.POSITIVE_INFINITY : Math.NEGATIVE_INFINITY) : Math.NaN;\r\n\t\tvar m = e == 0 ? (i & 0x7fffff) << 1 : (i & 0x7fffff) | 0x800000;\r\n\t\treturn sign * m * Math.pow(2, e - 150);\r\n\t}\r\n\r\n\tstatic inline function _i64ToDouble(lo:Int, hi:Int):Float {\r\n\t\tvar sign = 1 - ((hi >>> 31) << 1);\r\n\t\tvar e = (hi >> 20) & 0x7ff;\r\n\t\tif (e == 2047)\r\n\t\t\treturn lo == 0 && (hi & 0xFFFFF) == 0 ? (sign > 0 ? Math.POSITIVE_INFINITY : Math.NEGATIVE_INFINITY) : Math.NaN;\r\n\t\tvar m = 2.220446049250313e-16 * ((hi & 0xFFFFF) * 4294967296. + (lo >>> 31) * 2147483648. + (lo & 0x7FFFFFFF));\r\n\t\tm = e == 0 ? m * 2.0 : m + 1.0;\r\n\t\treturn sign * m * Math.pow(2, e - 1023);\r\n\t}\r\n\r\n\tstatic inline function _floatToI32(f:Float):Int {\r\n\t\tif (f == 0)\r\n\t\t\treturn 0;\r\n\t\tvar af = f < 0 ? -f : f;\r\n\t\tvar exp = Math.floor(Math.log(af) / LN2);\r\n\t\tif (exp > 127) {\r\n\t\t\treturn 0x7F800000;\r\n\t\t} else {\r\n\t\t\tif (exp <= -127) {\r\n\t\t\t\texp = -127;\r\n\t\t\t\taf *= 7.1362384635298e+44; // af * 0.5 * 0x800000 / Math.pow(2, -127)\r\n\t\t\t} else {\r\n\t\t\t\taf = (af / Math.pow(2, exp) - 1.0) * 0x800000;\r\n\t\t\t}\r\n\t\t\treturn (f < 0 ? 0x80000000 : 0) | ((exp + 127) << 23) | Math.round(af);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic inline function _doubleToI64(v:Float):Int64@:privateAccess {\r\n\t\tvar i64 = i64tmp;\r\n\t\tif (v == 0) {\r\n\t\t\ti64.set_low(0);\r\n\t\t\ti64.set_high(0);\r\n\t\t} else if (!Math.isFinite(v)) {\r\n\t\t\ti64.set_low(0);\r\n\t\t\ti64.set_high(v > 0 ? 0x7FF00000 : 0xFFF00000);\r\n\t\t} else {\r\n\t\t\tvar av = v < 0 ? -v : v;\r\n\t\t\tvar exp = Math.floor(Math.log(av) / LN2);\r\n\t\t\tif (exp > 1023) {\r\n\t\t\t\ti64.set_low(0xFFFFFFFF);\r\n\t\t\t\ti64.set_high(0x7FEFFFFF);\r\n\t\t\t} else {\r\n\t\t\t\tif (exp <= -1023) {\r\n\t\t\t\t\texp = -1023;\r\n\t\t\t\t\tav = av / 2.2250738585072014e-308;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tav = av / Math.pow(2, exp) - 1.0;\r\n\t\t\t\t}\r\n\t\t\t\tvar sig = Math.fround(av * 4503599627370496.); // 2^52\r\n\t\t\t\t// Note: If \"sig\" is outside of the signed Int32 range, the result is unspecified in HL, Java and Neko.\r\n\t\t\t\tvar sig_l = Std.int(sig);\r\n\t\t\t\tvar sig_h = Std.int(sig / 4294967296.0);\r\n\t\t\t\ti64.set_low(sig_l);\r\n\t\t\t\ti64.set_high((v < 0 ? 0x80000000 : 0) | ((exp + 1023) << 20) | sig_h);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn i64;\r\n\t}\r\n\t#end\r\n\r\n\t#if neko\r\n\t#if neko_v21\r\n\tstatic var helpers = new sys.thread.Tls<neko.NativeArray<Dynamic>>();\r\n\t#else\r\n\tstatic var helperf = new sys.thread.Tls<neko.NativeString>();\r\n\tstatic var helperd = new sys.thread.Tls<neko.NativeString>();\r\n\tstatic var _float_of_bytes = neko.Lib.load(\"std\", \"float_of_bytes\", 2);\r\n\tstatic var _double_of_bytes = neko.Lib.load(\"std\", \"double_of_bytes\", 2);\r\n\tstatic var _float_bytes = neko.Lib.load(\"std\", \"float_bytes\", 2);\r\n\tstatic var _double_bytes = neko.Lib.load(\"std\", \"double_bytes\", 2);\r\n\t#end\r\n\t#elseif flash\r\n\tstatic var helper = {\r\n\t\tvar b = new flash.utils.ByteArray();\r\n\t\tb.endian = flash.utils.Endian.LITTLE_ENDIAN;\r\n\t\tb;\r\n\t}\r\n\t#elseif js\r\n\tstatic var helper = new js.lib.DataView(new js.lib.ArrayBuffer(8));\r\n\t#end\r\n\r\n\t#if neko_v21\r\n\tinline\r\n\t#end\r\n\tpublic static function i32ToFloat(i:Int):Float {\r\n\t\t#if neko\r\n\t\t#if neko_v21\r\n\t\treturn untyped $itof(i, false);\r\n\t\t#else\r\n\t\tvar helper = helperf.value;\r\n\t\tif (helper == null)\r\n\t\t\thelperf.value = helper = neko.NativeString.alloc(4);\r\n\t\tuntyped $sset(helper, 0, i & 0xFF);\r\n\t\tuntyped $sset(helper, 1, (i >> 8) & 0xFF);\r\n\t\tuntyped $sset(helper, 2, (i >> 16) & 0xFF);\r\n\t\tuntyped $sset(helper, 3, i >>> 24);\r\n\t\treturn _float_of_bytes(helper, false);\r\n\t\t#end\r\n\t\t#elseif cpp\r\n\t\treturn untyped __global__.__hxcpp_reinterpret_le_int32_as_float32(i);\r\n\t\t#elseif java\r\n\t\treturn java.lang.Float.FloatClass.intBitsToFloat(i);\r\n\t\t#elseif flash\r\n\t\tvar helper = helper;\r\n\t\thelper.position = 0;\r\n\t\thelper.writeUnsignedInt(i);\r\n\t\thelper.position = 0;\r\n\t\treturn helper.readFloat();\r\n\t\t#elseif js\r\n\t\thelper.setInt32(0, i, true);\r\n\t\treturn helper.getFloat32(0, true);\r\n\t\t#else\r\n\t\treturn _i32ToFloat(i);\r\n\t\t#end\r\n\t}\r\n\r\n\t#if neko_v21\r\n\tinline\r\n\t#end\r\n\tpublic static function floatToI32(f:Float):Int {\r\n\t\t#if neko\r\n\t\t#if neko_v21\r\n\t\treturn untyped $ftoi(f, false);\r\n\t\t#else\r\n\t\tvar r = _float_bytes(f, false);\r\n\t\treturn untyped $sget(r, 0) | ($sget(r, 1) << 8) | ($sget(r, 2) << 16) | ($sget(r, 3) << 24);\r\n\t\t#end\r\n\t\t#elseif cpp\r\n\t\treturn untyped __global__.__hxcpp_reinterpret_float32_as_le_int32(f);\r\n\t\t#elseif java\r\n\t\treturn java.lang.Float.FloatClass.floatToRawIntBits(f);\r\n\t\t#elseif flash\r\n\t\tvar helper = helper;\r\n\t\thelper.position = 0;\r\n\t\thelper.writeFloat(f);\r\n\t\thelper.position = 0;\r\n\t\treturn helper.readUnsignedInt();\r\n\t\t#elseif js\r\n\t\thelper.setFloat32(0, f, true);\r\n\t\treturn helper.getInt32(0, true);\r\n\t\t#else\r\n\t\treturn _floatToI32(f);\r\n\t\t#end\r\n\t}\r\n\r\n\t#if neko_v21\r\n\tinline\r\n\t#end\r\n\tpublic static function i64ToDouble(low:Int, high:Int):Float {\r\n\t\t#if neko\r\n\t\t#if neko_v21\r\n\t\treturn untyped $itod(low, high, false);\r\n\t\t#else\r\n\t\tvar helper = helperd.value;\r\n\t\tif (helper == null)\r\n\t\t\thelperd.value = helper = neko.NativeString.alloc(8);\r\n\t\tuntyped $sset(helper, 0, low & 0xFF);\r\n\t\tuntyped $sset(helper, 1, (low >> 8) & 0xFF);\r\n\t\tuntyped $sset(helper, 2, (low >> 16) & 0xFF);\r\n\t\tuntyped $sset(helper, 3, low >>> 24);\r\n\t\tuntyped $sset(helper, 4, high & 0xFF);\r\n\t\tuntyped $sset(helper, 5, (high >> 8) & 0xFF);\r\n\t\tuntyped $sset(helper, 6, (high >> 16) & 0xFF);\r\n\t\tuntyped $sset(helper, 7, high >>> 24);\r\n\t\treturn _double_of_bytes(helper, false);\r\n\t\t#end\r\n\t\t#elseif cpp\r\n\t\treturn untyped __global__.__hxcpp_reinterpret_le_int32s_as_float64(low, high);\r\n\t\t#elseif java\r\n\t\treturn java.lang.Double.DoubleClass.longBitsToDouble(Int64.make(high, low));\r\n\t\t#elseif flash\r\n\t\tvar helper = helper;\r\n\t\thelper.position = 0;\r\n\t\thelper.writeUnsignedInt(low);\r\n\t\thelper.writeUnsignedInt(high);\r\n\t\thelper.position = 0;\r\n\t\treturn helper.readDouble();\r\n\t\t#elseif js\r\n\t\thelper.setInt32(0, low, true);\r\n\t\thelper.setInt32(4, high, true);\r\n\t\treturn helper.getFloat64(0, true);\r\n\t\t#else\r\n\t\treturn _i64ToDouble(low, high);\r\n\t\t#end\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns an Int64 representing the bytes representation of the double precision IEEE float value.\r\n\t\tWARNING : for performance reason, the same Int64 value might be reused every time. Copy its low/high values before calling again.\r\n\t\tWe still ensure that this is safe to use in a multithread environment\r\n\t**/\r\n\tpublic static function doubleToI64(v:Float):Int64 {\r\n\t\t#if neko\r\n\t\t#if neko_v21\r\n\t\tvar helper = helpers.value;\r\n\t\tif (helper == null) {\r\n\t\t\thelpers.value = helper = neko.NativeArray.alloc(2);\r\n\t\t\thelper[0] = neko.NativeArray.alloc(2);\r\n\t\t\thelper[1] = haxe.Int64.ofInt(0);\r\n\t\t}\r\n\t\tvar i64:haxe.Int64 = helper[1], int2 = helper[0];\r\n\t\tuntyped $dtoi(v, int2, false);\r\n\t\t@:privateAccess {\r\n\t\t\ti64.set_low(int2[0]);\r\n\t\t\ti64.set_high(int2[1]);\r\n\t\t}\r\n\t\treturn i64;\r\n\t\t#else\r\n\t\tvar r = _double_bytes(v, false), i64 = i64tmp.value;\r\n\t\tif (i64 == null)\r\n\t\t\ti64 = i64tmp.value = haxe.Int64.ofInt(0);\r\n\t\t@:privateAccess {\r\n\t\t\ti64.set_low(untyped $sget(r, 0) | ($sget(r, 1) << 8) | ($sget(r, 2) << 16) | ($sget(r, 3) << 24));\r\n\t\t\ti64.set_high(untyped $sget(r, 4) | ($sget(r, 5) << 8) | ($sget(r, 6) << 16) | ($sget(r, 7) << 24));\r\n\t\t}\r\n\t\treturn i64;\r\n\t\t#end\r\n\t\t#elseif cpp\r\n\t\treturn Int64.make(untyped __global__.__hxcpp_reinterpret_float64_as_le_int32_high(v),\r\n\t\t\tuntyped __global__.__hxcpp_reinterpret_float64_as_le_int32_low(v));\r\n\t\t#elseif java\r\n\t\treturn java.lang.Double.DoubleClass.doubleToRawLongBits(v);\r\n\t\t#elseif flash\r\n\t\tvar helper = helper;\r\n\t\thelper.position = 0;\r\n\t\thelper.writeDouble(v);\r\n\t\thelper.position = 0;\r\n\t\tvar i64 = i64tmp;\r\n\t\t@:privateAccess {\r\n\t\t\ti64.set_low(cast helper.readUnsignedInt());\r\n\t\t\ti64.set_high(cast helper.readUnsignedInt());\r\n\t\t}\r\n\t\treturn i64;\r\n\t\t#elseif js\r\n\t\tvar i64 = i64tmp;\r\n\t\thelper.setFloat64(0, v, true);\r\n\t\t@:privateAccess {\r\n\t\t\ti64.set_low(helper.getInt32(0, true));\r\n\t\t\ti64.set_high(helper.getInt32(4, true));\r\n\t\t}\r\n\t\treturn i64;\r\n\t\t#else\r\n\t\treturn _doubleToI64(v);\r\n\t\t#end\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.io;\r\n\r\n/**\r\n\tThis class provides a convenient way of working with paths. It supports the\r\n\tcommon path formats:\r\n\r\n\t- `directory1/directory2/filename.extension`\r\n\t- `directory1\\directory2\\filename.extension`\r\n**/\r\nclass Path {\r\n\t/**\r\n\t\tThe directory.\r\n\r\n\t\tThis is the leading part of the path that is not part of the file name\r\n\t\tand the extension.\r\n\r\n\t\tDoes not end with a `/` or `\\` separator.\r\n\r\n\t\tIf the path has no directory, the value is `null`.\r\n\t**/\r\n\tpublic var dir:Null<String>;\r\n\r\n\t/**\r\n\t\tThe file name.\r\n\r\n\t\tThis is the part of the part between the directory and the extension.\r\n\r\n\t\tIf there is no file name, e.g. for `\".htaccess\"` or `\"/dir/\"`, the value\r\n\t\tis the empty String `\"\"`.\r\n\t**/\r\n\tpublic var file:String;\r\n\r\n\t/**\r\n\t\tThe file extension.\r\n\r\n\t\tIt is separated from the file name by a dot. This dot is not part of\r\n\t\tthe extension.\r\n\r\n\t\tIf the path has no extension, the value is `null`.\r\n\t**/\r\n\tpublic var ext:Null<String>;\r\n\r\n\t/**\r\n\t\t`true` if the last directory separator is a backslash, `false` otherwise.\r\n\t**/\r\n\tpublic var backslash:Bool;\r\n\r\n\t/**\r\n\t\tCreates a new `Path` instance by parsing `path`.\r\n\r\n\t\tPath information can be retrieved by accessing the `dir`, `file` and `ext`\r\n\t\tproperties.\r\n\t**/\r\n\tpublic function new(path:String) {\r\n\t\tswitch (path) {\r\n\t\t\tcase \".\" | \"..\":\r\n\t\t\t\tdir = path;\r\n\t\t\t\tfile = \"\";\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t\tvar c1 = path.lastIndexOf(\"/\");\r\n\t\tvar c2 = path.lastIndexOf(\"\\\\\");\r\n\t\tif (c1 < c2) {\r\n\t\t\tdir = path.substr(0, c2);\r\n\t\t\tpath = path.substr(c2 + 1);\r\n\t\t\tbackslash = true;\r\n\t\t} else if (c2 < c1) {\r\n\t\t\tdir = path.substr(0, c1);\r\n\t\t\tpath = path.substr(c1 + 1);\r\n\t\t} else\r\n\t\t\tdir = null;\r\n\t\tvar cp = path.lastIndexOf(\".\");\r\n\t\tif (cp != -1) {\r\n\t\t\text = path.substr(cp + 1);\r\n\t\t\tfile = path.substr(0, cp);\r\n\t\t} else {\r\n\t\t\text = null;\r\n\t\t\tfile = path;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a String representation of `this` path.\r\n\r\n\t\tIf `this.backslash` is `true`, backslash is used as directory separator,\r\n\t\totherwise slash is used. This only affects the separator between\r\n\t\t`this.dir` and `this.file`.\r\n\r\n\t\tIf `this.directory` or `this.extension` is `null`, their representation\r\n\t\tis the empty String `\"\"`.\r\n\t**/\r\n\tpublic function toString():String {\r\n\t\treturn (if (dir == null) \"\" else dir + if (backslash) \"\\\\\" else \"/\") + file + (if (ext == null) \"\" else \".\" + ext);\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the String representation of `path` without the file extension.\r\n\r\n\t\tIf `path` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function withoutExtension(path:String):String {\r\n\t\tvar s = new Path(path);\r\n\t\ts.ext = null;\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the String representation of `path` without the directory.\r\n\r\n\t\tIf `path` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function withoutDirectory(path):String {\r\n\t\tvar s = new Path(path);\r\n\t\ts.dir = null;\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the directory of `path`.\r\n\r\n\t\tIf the directory is `null`, the empty String `\"\"` is returned.\r\n\r\n\t\tIf `path` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function directory(path):String {\r\n\t\tvar s = new Path(path);\r\n\t\tif (s.dir == null)\r\n\t\t\treturn \"\";\r\n\t\treturn s.dir;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the extension of `path`.\r\n\r\n\t\tIf `path` has no extension, the empty String `\"\"` is returned.\r\n\r\n\t\tIf `path` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function extension(path):String {\r\n\t\tvar s = new Path(path);\r\n\t\tif (s.ext == null)\r\n\t\t\treturn \"\";\r\n\t\treturn s.ext;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns a String representation of `path` where the extension is `ext`.\r\n\r\n\t\tIf `path` has no extension, `ext` is added as extension.\r\n\r\n\t\tIf `path` or `ext` are `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function withExtension(path, ext):String {\r\n\t\tvar s = new Path(path);\r\n\t\ts.ext = ext;\r\n\t\treturn s.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tJoins all paths in `paths` together.\r\n\r\n\t\tIf `paths` is empty, the empty String `\"\"` is returned. Otherwise the\r\n\t\tpaths are joined with a slash between them.\r\n\r\n\t\tIf `paths` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function join(paths:Array<String>):String {\r\n\t\tvar paths = paths.filter(function(s) return s != null && s != \"\");\r\n\t\tif (paths.length == 0) {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\tvar path = paths[0];\r\n\t\tfor (i in 1...paths.length) {\r\n\t\t\tpath = addTrailingSlash(path);\r\n\t\t\tpath += paths[i];\r\n\t\t}\r\n\t\treturn normalize(path);\r\n\t}\r\n\r\n\t/**\r\n\t\tNormalize a given `path` (e.g. turn `'/usr/local/../lib'` into `'/usr/lib'`).\r\n\r\n\t\tAlso replaces backslashes `\\` with slashes `/` and afterwards turns\r\n\t\tmultiple slashes into a single one.\r\n\r\n\t\tIf `path` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function normalize(path:String):String {\r\n\t\tvar slash = \"/\";\r\n\t\tpath = path.split(\"\\\\\").join(slash);\r\n\t\tif (path == slash)\r\n\t\t\treturn slash;\r\n\r\n\t\tvar target = [];\r\n\r\n\t\tfor (token in path.split(slash)) {\r\n\t\t\tif (token == '..' && target.length > 0 && target[target.length - 1] != \"..\") {\r\n\t\t\t\ttarget.pop();\r\n\t\t\t} else if (token == '') {\r\n\t\t\t\tif (target.length > 0 || path.charCodeAt(0) == '/'.code) {\r\n\t\t\t\t\ttarget.push(token);\r\n\t\t\t\t}\r\n\t\t\t} else if (token != '.') {\r\n\t\t\t\ttarget.push(token);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar tmp = target.join(slash);\r\n\t\tvar acc = new StringBuf();\r\n\t\tvar colon = false;\r\n\t\tvar slashes = false;\r\n\t\t#if utf16\r\n\t\tfor (c in haxe.iterators.StringIteratorUnicode.unicodeIterator(tmp)) {\r\n\t\t\tswitch (c) {\r\n\t\t#else\r\n\t\tfor (i in 0...tmp.length) {\r\n\t\t\tswitch (StringTools.fastCodeAt(tmp, i)) {\r\n\t\t#end\r\n\t\t\t\tcase \":\".code:\r\n\t\t\t\t\tacc.add(\":\");\r\n\t\t\t\t\tcolon = true;\r\n\t\t\t\tcase \"/\".code if (!colon):\r\n\t\t\t\t\tslashes = true;\r\n\t\t\t\tcase var i:\r\n\t\t\t\t\tcolon = false;\r\n\t\t\t\t\tif (slashes) {\r\n\t\t\t\t\t\tacc.add(\"/\");\r\n\t\t\t\t\t\tslashes = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tacc.addChar(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn acc.toString();\r\n\t}\r\n\r\n\t/**\r\n\t\tAdds a trailing slash to `path`, if it does not have one already.\r\n\r\n\t\tIf the last slash in `path` is a backslash, a backslash is appended to\r\n\t\t`path`.\r\n\r\n\t\tIf the last slash in `path` is a slash, or if no slash is found, a slash\r\n\t\tis appended to `path`. In particular, this applies to the empty String\r\n\t\t`\"\"`.\r\n\r\n\t\tIf `path` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function addTrailingSlash(path:String):String {\r\n\t\tif (path.length == 0)\r\n\t\t\treturn \"/\";\r\n\t\tvar c1 = path.lastIndexOf(\"/\");\r\n\t\tvar c2 = path.lastIndexOf(\"\\\\\");\r\n\t\treturn if (c1 < c2) {\r\n\t\t\tif (c2 != path.length - 1)\r\n\t\t\t\tpath + \"\\\\\";\r\n\t\t\telse\r\n\t\t\t\tpath;\r\n\t\t} else {\r\n\t\t\tif (c1 != path.length - 1)\r\n\t\t\t\tpath + \"/\";\r\n\t\t\telse\r\n\t\t\t\tpath;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tRemoves trailing slashes from `path`.\r\n\r\n\t\tIf `path` does not end with a `/` or `\\`, `path` is returned unchanged.\r\n\r\n\t\tOtherwise the substring of `path` excluding the trailing slashes or\r\n\t\tbackslashes is returned.\r\n\r\n\t\tIf `path` is `null`, the result is unspecified.\r\n\t**/\r\n\tpublic static function removeTrailingSlashes(path:String):String {\r\n\t\twhile (true) {\r\n\t\t\tswitch (path.charCodeAt(path.length - 1)) {\r\n\t\t\t\tcase '/'.code | '\\\\'.code:\r\n\t\t\t\t\tpath = path.substr(0, -1);\r\n\t\t\t\tcase _:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn path;\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns `true` if the path is an absolute path, and `false` otherwise.\r\n\t**/\r\n\tpublic static function isAbsolute(path:String):Bool {\r\n\t\tif (StringTools.startsWith(path, '/'))\r\n\t\t\treturn true;\r\n\t\tif (path.charAt(1) == ':')\r\n\t\t\treturn true;\r\n\t\tif (StringTools.startsWith(path, '\\\\\\\\'))\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate static function unescape(path:String):String {\r\n\t\tvar regex = ~/-x([0-9][0-9])/g;\r\n\t\treturn regex.map(path, function(regex) return String.fromCharCode(Std.parseInt(regex.matched(1))));\r\n\t}\r\n\r\n\tprivate static function escape(path:String, allowSlashes:Bool = false):String {\r\n\t\tvar regex = allowSlashes ? ~/[^A-Za-z0-9_\\/\\\\\\.]/g : ~/[^A-Za-z0-9_\\.]/g;\r\n\t\treturn regex.map(path, function(v) return '-x' + v.matched(0).charCodeAt(0));\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.io;\r\n\r\ntypedef UInt8ArrayData = js.lib.Uint8Array;\r\n\r\n@:coreApi\r\nabstract UInt8Array(UInt8ArrayData) {\r\n\tpublic static inline var BYTES_PER_ELEMENT = 1;\r\n\r\n\tpublic var length(get, never):Int;\r\n\tpublic var view(get, never):ArrayBufferView;\r\n\r\n\tpublic inline function new(elements:Int) {\r\n\t\tthis = new UInt8ArrayData(elements);\r\n\t}\r\n\r\n\tinline function get_length():Int {\r\n\t\treturn this.length;\r\n\t}\r\n\r\n\tpublic inline function get_view():ArrayBufferView {\r\n\t\treturn ArrayBufferView.fromData(this);\r\n\t}\r\n\r\n\t@:arrayAccess public inline function get(index:Int):Int {\r\n\t\treturn this[index];\r\n\t}\r\n\r\n\t@:arrayAccess public inline function set(index:Int, value:Int):Int {\r\n\t\treturn this[index] = value;\r\n\t}\r\n\r\n\tpublic inline function sub(begin:Int, ?length:Int):UInt8Array {\r\n\t\treturn fromData(this.subarray(begin, length == null ? this.length : begin + length));\r\n\t}\r\n\r\n\tpublic inline function subarray(?begin:Int, ?end:Int):UInt8Array {\r\n\t\treturn fromData(this.subarray(begin, end));\r\n\t}\r\n\r\n\tpublic inline function getData():UInt8ArrayData {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic static inline function fromData(d:UInt8ArrayData):UInt8Array {\r\n\t\treturn cast d;\r\n\t}\r\n\r\n\tpublic static function fromArray(a:Array<Int>, pos:Int = 0, ?length:Int):UInt8Array {\r\n\t\tif (length == null)\r\n\t\t\tlength = a.length - pos;\r\n\t\tif (pos < 0 || length < 0 || pos + length > a.length)\r\n\t\t\tthrow Error.OutsideBounds;\r\n\t\tif (pos == 0 && length == a.length)\r\n\t\t\treturn fromData(new UInt8ArrayData(a));\r\n\t\tvar i = new UInt8Array(a.length);\r\n\t\tfor (idx in 0...length)\r\n\t\t\ti[idx] = a[idx + pos];\r\n\t\treturn i;\r\n\t}\r\n\r\n\tpublic static function fromBytes(bytes:haxe.io.Bytes, bytePos:Int = 0, ?length:Int):UInt8Array {\r\n\t\tif (length == null)\r\n\t\t\tlength = bytes.length - bytePos;\r\n\t\treturn fromData(new UInt8ArrayData(bytes.getData(), bytePos, length));\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2018 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.iterators;\r\n\r\n/**\r\n\tThis iterator is used only when `Array<T>` is passed to `Iterable<T>`\r\n**/\r\nclass ArrayIterator<T> {\r\n\tfinal array:Array<T>;\r\n\tvar current:Int = 0;\r\n\r\n\t/**\r\n\t\tCreate a new `ArrayIterator`.\r\n\t**/\r\n\t#if !hl inline #end\r\n\tpublic function new(array:Array<T>) {\r\n\t\tthis.array = array;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.hasNext`\r\n\t**/\r\n\t#if !hl inline #end\r\n\tpublic function hasNext() {\r\n\t\treturn current < array.length;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.next`\r\n\t**/\r\n\t#if !hl inline #end\r\n\tpublic function next() {\r\n\t\treturn array[current++];\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.iterators;\r\n\r\n/**\r\n\tThis iterator can be used to iterate over the values of `haxe.DynamicAccess`.\r\n**/\r\nclass DynamicAccessIterator<T> {\r\n\tfinal access:DynamicAccess<T>;\r\n\tfinal keys:Array<String>;\r\n\tvar index:Int;\r\n\r\n\tpublic inline function new(access:DynamicAccess<T>) {\r\n\t\tthis.access = access;\r\n\t\tthis.keys = access.keys();\r\n\t\tindex = 0;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.hasNext`\r\n\t**/\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn index < keys.length;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.next`\r\n\t**/\r\n\tpublic inline function next():T {\r\n\t\treturn access[keys[index++]];\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.iterators;\r\n\r\n/**\r\n\tThis Key/Value iterator can be used to iterate over `haxe.DynamicAccess`.\r\n**/\r\nclass DynamicAccessKeyValueIterator<T> {\r\n\tfinal access:DynamicAccess<T>;\r\n\tfinal keys:Array<String>;\r\n\tvar index:Int;\r\n\r\n\tpublic inline function new(access:DynamicAccess<T>) {\r\n\t\tthis.access = access;\r\n\t\tthis.keys = access.keys();\r\n\t\tindex = 0;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.hasNext`\r\n\t**/\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn index < keys.length;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.next`\r\n\t**/\r\n\tpublic inline function next():{key:String, value:T} {\r\n\t\tvar key = keys[index++];\r\n\t\treturn {value: (access[key] : T), key: key};\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.iterators;\r\n\r\nimport haxe.ds.IntMap;\r\n\r\n/**\r\n\tThis Key/Value iterator can be used to iterate across maps.\r\n**/\r\n@:ifFeature(\"anon_read.keyValueIterator\", \"dynamic_read.keyValueIterator\")\r\nclass MapKeyValueIterator<K, V> {\r\n\tvar map:haxe.Constraints.IMap<K, V>;\r\n\tvar keys:Iterator<K>;\r\n\r\n\tpublic inline function new(map:haxe.Constraints.IMap<K, V>) {\r\n\t\tthis.map = map;\r\n\t\tthis.keys = map.keys();\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.hasNext`\r\n\t**/\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn keys.hasNext();\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.next`\r\n\t**/\r\n\tpublic inline function next():{key:K, value:V} {\r\n\t\tvar key = keys.next();\r\n\t\treturn {value: @:nullSafety(Off) (map.get(key) : V), key: key};\r\n\t}\r\n}\r\n","package haxe.iterators;\r\n\r\nclass RestKeyValueIterator<T> {\r\n\tfinal args:Rest<T>;\r\n\tvar current:Int = 0;\r\n\r\n\t@:allow(haxe.Rest)\r\n\tinline function new(args:Any) {\r\n\t\tthis.args = args;\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn current < args.length;\r\n\t}\r\n\r\n\tpublic inline function next():{key:Int, value:T} {\r\n\t\treturn {key:current, value:args[current++]};\r\n\t}\r\n}","/*\r\n * Copyright (C)2005-2018 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.iterators;\r\n\r\n/**\r\n\tThis iterator can be used to iterate over char codes in a string.\r\n\r\n\tNote that char codes may differ across platforms because of different\r\n\tinternal encoding of strings in different of runtimes.\r\n**/\r\nclass StringIterator {\r\n\tvar offset = 0;\r\n\tvar s:String;\r\n\r\n\t/**\r\n\t\tCreate a new `StringIterator` over String `s`.\r\n\t**/\r\n\tpublic inline function new(s:String) {\r\n\t\tthis.s = s;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.hasNext`\r\n\t**/\r\n\tpublic inline function hasNext() {\r\n\t\treturn offset < s.length;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `Iterator.next`\r\n\t**/\r\n\tpublic inline function next() {\r\n\t\treturn StringTools.unsafeCodeAt(s, offset++);\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2018 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.iterators;\r\n\r\n/**\r\n\tThis iterator can be used to iterate over char indexes and char codes in a string.\r\n\r\n\tNote that char codes may differ across platforms because of different\r\n\tinternal encoding of strings in different runtimes.\r\n**/\r\nclass StringKeyValueIterator {\r\n\tvar offset = 0;\r\n\tvar s:String;\r\n\r\n\t/**\r\n\t\tCreate a new `StringKeyValueIterator` over String `s`.\r\n\t**/\r\n\tpublic inline function new(s:String) {\r\n\t\tthis.s = s;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `KeyValueIterator.hasNext`\r\n\t**/\r\n\tpublic inline function hasNext() {\r\n\t\treturn offset < s.length;\r\n\t}\r\n\r\n\t/**\r\n\t\tSee `KeyValueIterator.next`\r\n\t**/\r\n\tpublic inline function next() {\r\n\t\treturn {key: offset, value: StringTools.fastCodeAt(s, offset++)};\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.macro;\r\n\r\n#if (macro && !doc_gen)\r\n@:coreType abstract Position {}\r\n#else\r\n\r\n/**\r\n\tRepresents a position in a file.\r\n**/\r\ntypedef Position = {\r\n\t/**\r\n\t\tReference to the filename.\r\n\t**/\r\n\tvar file:String;\r\n\r\n\t/**\r\n\t\tPosition of the first character.\r\n\t**/\r\n\tvar min:Int;\r\n\r\n\t/**\r\n\t\tPosition of the last character.\r\n\t**/\r\n\tvar max:Int;\r\n}\r\n#end\r\n\r\nenum StringLiteralKind {\r\n\tDoubleQuotes;\r\n\tSingleQuotes;\r\n}\r\n\r\n/**\r\n\tRepresents a constant.\r\n\t@see https://haxe.org/manual/expression-constants.html\r\n**/\r\nenum Constant {\r\n\t/**\r\n\t\tRepresents an integer literal.\r\n\t**/\r\n\tCInt(v:String, ?s:String);\r\n\r\n\t/**\r\n\t\tRepresents a float literal.\r\n\t**/\r\n\tCFloat(f:String, ?s:String);\r\n\r\n\t/**\r\n\t\tRepresents a string literal.\r\n\t**/\r\n\tCString(s:String, ?kind:StringLiteralKind);\r\n\r\n\t/**\r\n\t\tRepresents an identifier.\r\n\t**/\r\n\tCIdent(s:String);\r\n\r\n\t/**\r\n\t\tRepresents a regular expression literal.\r\n\r\n\t\tExample: `~/haxe/i`\r\n\r\n\t\t- The first argument `haxe` is a string with regular expression pattern.\r\n\t\t- The second argument `i` is a string with regular expression flags.\r\n\r\n\t\t@see https://haxe.org/manual/std-regex.html\r\n\t**/\r\n\tCRegexp(r:String, opt:String);\r\n}\r\n\r\n/**\r\n\tA binary operator.\r\n\t@see https://haxe.org/manual/types-numeric-operators.html\r\n**/\r\nenum Binop {\r\n\t/**\r\n\t\t`+`\r\n\t**/\r\n\tOpAdd;\r\n\r\n\t/**\r\n\t\t`*`\r\n\t**/\r\n\tOpMult;\r\n\r\n\t/**\r\n\t\t`/`\r\n\t**/\r\n\tOpDiv;\r\n\r\n\t/**\r\n\t\t`-`\r\n\t**/\r\n\tOpSub;\r\n\r\n\t/**\r\n\t\t`=`\r\n\t**/\r\n\tOpAssign;\r\n\r\n\t/**\r\n\t\t`==`\r\n\t**/\r\n\tOpEq;\r\n\r\n\t/**\r\n\t\t`!=`\r\n\t**/\r\n\tOpNotEq;\r\n\r\n\t/**\r\n\t\t`>`\r\n\t**/\r\n\tOpGt;\r\n\r\n\t/**\r\n\t\t`>=`\r\n\t**/\r\n\tOpGte;\r\n\r\n\t/**\r\n\t\t`<`\r\n\t**/\r\n\tOpLt;\r\n\r\n\t/**\r\n\t\t`<=`\r\n\t**/\r\n\tOpLte;\r\n\r\n\t/**\r\n\t\t`&`\r\n\t**/\r\n\tOpAnd;\r\n\r\n\t/**\r\n\t\t`|`\r\n\t**/\r\n\tOpOr;\r\n\r\n\t/**\r\n\t\t`^`\r\n\t**/\r\n\tOpXor;\r\n\r\n\t/**\r\n\t\t`&&`\r\n\t**/\r\n\tOpBoolAnd;\r\n\r\n\t/**\r\n\t\t`||`\r\n\t**/\r\n\tOpBoolOr;\r\n\r\n\t/**\r\n\t\t`<<`\r\n\t**/\r\n\tOpShl;\r\n\r\n\t/**\r\n\t\t`>>`\r\n\t**/\r\n\tOpShr;\r\n\r\n\t/**\r\n\t\t`>>>`\r\n\t**/\r\n\tOpUShr;\r\n\r\n\t/**\r\n\t\t`%`\r\n\t**/\r\n\tOpMod;\r\n\r\n\t/**\r\n\t\t`+=` `-=` `/=` `*=` `<<=` `>>=` `>>>=` `|=` `&=` `^=` `%=`\r\n\t**/\r\n\tOpAssignOp(op:Binop);\r\n\r\n\t/**\r\n\t\t`...`\r\n\t**/\r\n\tOpInterval;\r\n\r\n\t/**\r\n\t\t`=>`\r\n\t**/\r\n\tOpArrow;\r\n\r\n\t/**\r\n\t\t`in`\r\n\t**/\r\n\tOpIn;\r\n\r\n\t/**\r\n\t\t`??`\r\n\t**/\r\n\tOpNullCoal;\r\n}\r\n\r\n/**\r\n\tA unary operator.\r\n\t@see https://haxe.org/manual/types-numeric-operators.html\r\n**/\r\nenum Unop {\r\n\t/**\r\n\t\t`++`\r\n\t**/\r\n\tOpIncrement;\r\n\r\n\t/**\r\n\t\t`--`\r\n\t**/\r\n\tOpDecrement;\r\n\r\n\t/**\r\n\t\t`!`\r\n\t**/\r\n\tOpNot;\r\n\r\n\t/**\r\n\t\t`-`\r\n\t**/\r\n\tOpNeg;\r\n\r\n\t/**\r\n\t\t`~`\r\n\t**/\r\n\tOpNegBits;\r\n\r\n\t/**\r\n\t\t`...`\r\n\t**/\r\n\tOpSpread;\r\n}\r\n\r\nenum EFieldKind {\r\n\tNormal;\r\n\tSafe;\r\n}\r\n\r\n/**\r\n\tRepresents a node in the AST.\r\n\t@see https://haxe.org/manual/macro-reification-expression.html\r\n**/\r\ntypedef Expr = {\r\n\t/**\r\n\t\tThe expression kind.\r\n\t**/\r\n\tvar expr:ExprDef;\r\n\r\n\t/**\r\n\t\tThe position of the expression.\r\n\t**/\r\n\tvar pos:Position;\r\n}\r\n\r\n/**\r\n\tRepresents a AST node identical to `Expr`, but it allows constraining the\r\n\ttype of accepted expressions.\r\n\t@see https://haxe.org/manual/macro-ExprOf.html\r\n**/\r\ntypedef ExprOf<T> = Expr;\r\n\r\n/**\r\n\tRepresents a switch case.\r\n\t@see https://haxe.org/manual/expression-switch.html\r\n**/\r\ntypedef Case = {\r\n\t/**\r\n\t\tThe value expressions of the case.\r\n\t**/\r\n\tvar values:Array<Expr>;\r\n\r\n\t/**\r\n\t\tThe optional guard expressions of the case, if available.\r\n\t**/\r\n\tvar ?guard:Expr;\r\n\r\n\t/**\r\n\t\tThe expression of the case, if available.\r\n\t**/\r\n\tvar ?expr:Expr;\r\n}\r\n\r\n/**\r\n\tRepresents a variable in the AST.\r\n\t@see https://haxe.org/manual/expression-var.html\r\n**/\r\ntypedef Var = {\r\n\t/**\r\n\t\tThe name of the variable.\r\n\t**/\r\n\tvar name:String;\r\n\r\n\t/**\r\n\t\tThe position of the variable name.\r\n\t**/\r\n\tvar ?namePos:Position;\r\n\r\n\t/**\r\n\t\tThe type-hint of the variable, if available.\r\n\t**/\r\n\tvar ?type:ComplexType;\r\n\r\n\t/**\r\n\t\tThe expression of the variable, if available.\r\n\t**/\r\n\tvar ?expr:Expr;\r\n\r\n\t/**\r\n\t\tWhether or not the variable can be assigned to.\r\n\t**/\r\n\tvar ?isFinal:Bool;\r\n\r\n\t/**\r\n\t\tWhether or not the variable is static.\r\n\t**/\r\n\tvar ?isStatic:Bool;\r\n\r\n\t/**\r\n\t\tMetadata associatied with the variable, if available.\r\n\t**/\r\n\tvar ?meta:Metadata;\r\n}\r\n\r\n/**\r\n\tRepresents a catch in the AST.\r\n\t@see https://haxe.org/manual/expression-try-catch.html\r\n**/\r\ntypedef Catch = {\r\n\t/**\r\n\t\tThe name of the catch variable.\r\n\t**/\r\n\tvar name:String;\r\n\r\n\t/**\r\n\t\tThe type of the catch.\r\n\t**/\r\n\tvar ?type:ComplexType;\r\n\r\n\t/**\r\n\t\tThe expression of the catch.\r\n\t**/\r\n\tvar expr:Expr;\r\n}\r\n\r\n/**\r\n\tRepresents the way something is quoted.\r\n**/\r\nenum QuoteStatus {\r\n\t/**\r\n\t\tNo quotes\r\n\t**/\r\n\tUnquoted;\r\n\r\n\t/**\r\n\t\tDouble quotes `\"`\r\n\t**/\r\n\tQuoted;\r\n}\r\n\r\n/**\r\n\tRepresents the field of an object declaration.\r\n**/\r\ntypedef ObjectField = {\r\n\t/**\r\n\t\tThe name of the field.\r\n\t**/\r\n\tvar field:String;\r\n\r\n\t/**\r\n\t\tThe field expression.\r\n\t**/\r\n\tvar expr:Expr;\r\n\r\n\t/**\r\n\t\tHow the field name is quoted.\r\n\t**/\r\n\tvar ?quotes:QuoteStatus;\r\n}\r\n\r\n/**\r\n\tRepresents function kind in the AST\r\n**/\r\nenum FunctionKind {\r\n\t/**\r\n\t\tAnonymous function\r\n\t**/\r\n\tFAnonymous;\r\n\r\n\t/**\r\n\t\tNamed function\r\n\t**/\r\n\tFNamed(name:String, ?inlined:Bool);\r\n\r\n\t/**\r\n\t\tArrow function\r\n\t**/\r\n\tFArrow;\r\n}\r\n\r\n/**\r\n\tRepresents the kind of a node in the AST.\r\n**/\r\nenum ExprDef {\r\n\t/**\r\n\t\tA constant.\r\n\t**/\r\n\tEConst(c:Constant);\r\n\r\n\t/**\r\n\t\tArray access `e1[e2]`.\r\n\t**/\r\n\tEArray(e1:Expr, e2:Expr);\r\n\r\n\t/**\r\n\t\tBinary operator `e1 op e2`.\r\n\t**/\r\n\tEBinop(op:Binop, e1:Expr, e2:Expr);\r\n\r\n\t/**\r\n\t\tField access on `e.field`.\r\n\r\n\t\tIf `kind` is null, it is equal to Normal.\r\n\t**/\r\n\tEField(e:Expr, field:String, ?kind:EFieldKind);\r\n\r\n\t/**\r\n\t\tParentheses `(e)`.\r\n\t**/\r\n\tEParenthesis(e:Expr);\r\n\r\n\t/**\r\n\t\tAn object declaration.\r\n\t**/\r\n\tEObjectDecl(fields:Array<ObjectField>);\r\n\r\n\t/**\r\n\t\tAn array declaration `[el]`.\r\n\t**/\r\n\tEArrayDecl(values:Array<Expr>);\r\n\r\n\t/**\r\n\t\tA call `e(params)`.\r\n\t**/\r\n\tECall(e:Expr, params:Array<Expr>);\r\n\r\n\t/**\r\n\t\tA constructor call `new t(params)`.\r\n\t**/\r\n\tENew(t:TypePath, params:Array<Expr>);\r\n\r\n\t/**\r\n\t\tAn unary operator `op` on `e`:\r\n\r\n\t\t- `e++` (`op = OpIncrement, postFix = true`)\r\n\t\t- `e--` (`op = OpDecrement, postFix = true`)\r\n\t\t- `++e` (`op = OpIncrement, postFix = false`)\r\n\t\t- `--e` (`op = OpDecrement, postFix = false`)\r\n\t\t- `-e` (`op = OpNeg, postFix = false`)\r\n\t\t- `!e` (`op = OpNot, postFix = false`)\r\n\t\t- `~e` (`op = OpNegBits, postFix = false`)\r\n\t**/\r\n\tEUnop(op:Unop, postFix:Bool, e:Expr);\r\n\r\n\t/**\r\n\t\tVariable declarations.\r\n\t**/\r\n\tEVars(vars:Array<Var>);\r\n\r\n\t/**\r\n\t\tA function declaration.\r\n\t**/\r\n\tEFunction(kind:Null<FunctionKind>, f:Function);\r\n\r\n\t/**\r\n\t\tA block of expressions `{exprs}`.\r\n\t**/\r\n\tEBlock(exprs:Array<Expr>);\r\n\r\n\t/**\r\n\t\tA `for` expression.\r\n\t**/\r\n\tEFor(it:Expr, expr:Expr);\r\n\r\n\t/**\r\n\t\tAn `if (econd) eif` or `if (econd) eif else eelse` expression.\r\n\t**/\r\n\tEIf(econd:Expr, eif:Expr, eelse:Null<Expr>);\r\n\r\n\t/**\r\n\t\tRepresents a `while` expression.\r\n\r\n\t\tWhen `normalWhile` is `true` it is `while (...)`.\r\n\r\n\t\tWhen `normalWhile` is `false` it is `do {...} while (...)`.\r\n\t**/\r\n\tEWhile(econd:Expr, e:Expr, normalWhile:Bool);\r\n\r\n\t/**\r\n\t\tRepresents a `switch` expression with related cases and an optional.\r\n\t\t`default` case if `edef != null`.\r\n\t**/\r\n\tESwitch(e:Expr, cases:Array<Case>, edef:Null<Expr>);\r\n\r\n\t/**\r\n\t\tRepresents a `try`-expression with related catches.\r\n\t**/\r\n\tETry(e:Expr, catches:Array<Catch>);\r\n\r\n\t/**\r\n\t\tA `return` or `return e` expression.\r\n\t**/\r\n\tEReturn(?e:Expr);\r\n\r\n\t/**\r\n\t\tA `break` expression.\r\n\t**/\r\n\tEBreak;\r\n\r\n\t/**\r\n\t\tA `continue` expression.\r\n\t**/\r\n\tEContinue;\r\n\r\n\t/**\r\n\t\tAn `untyped e` source code.\r\n\t**/\r\n\tEUntyped(e:Expr);\r\n\r\n\t/**\r\n\t\tA `throw e` expression.\r\n\t**/\r\n\tEThrow(e:Expr);\r\n\r\n\t/**\r\n\t\tA `cast e` or `cast (e, m)` expression.\r\n\t**/\r\n\tECast(e:Expr, t:Null<ComplexType>);\r\n\r\n\t/**\r\n\t\tUsed internally to provide completion.\r\n\t**/\r\n\tEDisplay(e:Expr, displayKind:DisplayKind);\r\n\r\n\t/**\r\n\t\tA `(econd) ? eif : eelse` expression.\r\n\t**/\r\n\tETernary(econd:Expr, eif:Expr, eelse:Expr);\r\n\r\n\t/**\r\n\t\tA `(e:t)` expression.\r\n\t**/\r\n\tECheckType(e:Expr, t:ComplexType);\r\n\r\n\t/**\r\n\t\tA `@m e` expression.\r\n\t**/\r\n\tEMeta(s:MetadataEntry, e:Expr);\r\n\r\n\t/**\r\n\t\tAn `expr is Type` expression.\r\n\t**/\r\n\tEIs(e:Expr, t:ComplexType);\r\n}\r\n\r\nenum DisplayKind {\r\n\tDKCall;\r\n\tDKDot;\r\n\tDKStructure;\r\n\tDKMarked;\r\n\tDKPattern(outermost:Bool);\r\n}\r\n\r\n/**\r\n\tRepresents a type syntax in the AST.\r\n**/\r\nenum ComplexType {\r\n\t/**\r\n\t\tRepresents the type path.\r\n\t**/\r\n\tTPath(p:TypePath);\r\n\r\n\t/**\r\n\t\tRepresents a function type.\r\n\t\t@see https://haxe.org/manual/types-function.html\r\n\t**/\r\n\tTFunction(args:Array<ComplexType>, ret:ComplexType);\r\n\r\n\t/**\r\n\t\tRepresents an anonymous structure type.\r\n\t\t@see https://haxe.org/manual/types-anonymous-structure.html\r\n\t**/\r\n\tTAnonymous(fields:Array<Field>);\r\n\r\n\t/**\r\n\t\tRepresents parentheses around a type, e.g. the `(Int -> Void)` part in\r\n\t\t`(Int -> Void) -> String`.\r\n\t**/\r\n\tTParent(t:ComplexType);\r\n\r\n\t/**\r\n\t\tRepresents typedef extensions `> Iterable<T>`.\r\n\t\tThe array `p` holds the type paths to the given types.\r\n\t\t@see https://haxe.org/manual/type-system-extensions.html\r\n\t**/\r\n\tTExtend(p:Array<TypePath>, fields:Array<Field>);\r\n\r\n\t/**\r\n\t\tRepresents an optional type.\r\n\t**/\r\n\tTOptional(t:ComplexType);\r\n\r\n\t/**\r\n\t\tRepresents a type with a name.\r\n\t**/\r\n\tTNamed(n:String, t:ComplexType);\r\n\r\n\t/**\r\n\t\tRepresents an intersection type `T1 & T2 & ... & TN`.\r\n\t**/\r\n\tTIntersection(tl:Array<ComplexType>);\r\n}\r\n\r\n/**\r\n\tRepresents a type path in the AST.\r\n**/\r\ntypedef TypePath = {\r\n\t/**\r\n\t\tRepresents the package of the type path.\r\n\t**/\r\n\tvar pack:Array<String>;\r\n\r\n\t/**\r\n\t\tThe name of the type path.\r\n\t**/\r\n\tvar name:String;\r\n\r\n\t/**\r\n\t\tOptional parameters of the type path.\r\n\t**/\r\n\tvar ?params:Array<TypeParam>;\r\n\r\n\t/**\r\n\t\tSub is set on module sub-type access:\r\n\t\t`pack.Module.Type` has `name = \"Module\"`, `sub = \"Type\"`, if available.\r\n\t**/\r\n\tvar ?sub:String;\r\n}\r\n\r\n/**\r\n\tRepresents a concrete type parameter in the AST.\r\n\r\n\tHaxe allows expressions in concrete type parameters, e.g.\r\n\t`new YourType<[\"hello\", \"world\"]>`. In that case the value is `TPExpr` while\r\n\tin the normal case it's `TPType`.\r\n**/\r\nenum TypeParam {\r\n\tTPType(t:ComplexType);\r\n\tTPExpr(e:Expr);\r\n}\r\n\r\n/**\r\n\tRepresents a type parameter declaration in the AST.\r\n**/\r\ntypedef TypeParamDecl = {\r\n\t/**\r\n\t\tThe name of the type parameter.\r\n\t**/\r\n\tvar name:String;\r\n\r\n\t/**\r\n\t\tThe optional constraints of the type parameter.\r\n\t**/\r\n\tvar ?constraints:Array<ComplexType>;\r\n\r\n\t/**\r\n\t\tThe optional default type of the type parameter.\r\n\t**/\r\n\tvar ?defaultType:Null<ComplexType>;\r\n\r\n\t/**\r\n\t\tThe optional parameters of the type parameter.\r\n\t**/\r\n\tvar ?params:Array<TypeParamDecl>;\r\n\r\n\t/**\r\n\t\tThe metadata of the type parameter.\r\n\t**/\r\n\tvar ?meta:Metadata;\r\n}\r\n\r\n/**\r\n\tRepresents a function in the AST.\r\n**/\r\ntypedef Function = {\r\n\t/**\r\n\t\tA list of function arguments.\r\n\t**/\r\n\tvar args:Array<FunctionArg>;\r\n\r\n\t/**\r\n\t\tThe return type-hint of the function, if available.\r\n\t**/\r\n\tvar ?ret:ComplexType;\r\n\r\n\t/**\r\n\t\tThe expression of the function body, if available.\r\n\t**/\r\n\tvar ?expr:Expr;\r\n\r\n\t/**\r\n\t\tAn optional list of function parameter type declarations.\r\n\t**/\r\n\tvar ?params:Array<TypeParamDecl>;\r\n}\r\n\r\n/**\r\n\tRepresents a function argument in the AST.\r\n**/\r\ntypedef FunctionArg = {\r\n\t/**\r\n\t\tThe name of the function argument.\r\n\t**/\r\n\tvar name:String;\r\n\r\n\t/**\r\n\t\tWhether or not the function argument is optional.\r\n\t**/\r\n\tvar ?opt:Bool;\r\n\r\n\t/**\r\n\t\tThe type-hint of the function argument, if available.\r\n\t**/\r\n\tvar ?type:ComplexType;\r\n\r\n\t/**\r\n\t\tThe optional value of the function argument, if available.\r\n\t**/\r\n\tvar ?value:Expr;\r\n\r\n\t/**\r\n\t\tThe metadata of the function argument.\r\n\t**/\r\n\tvar ?meta:Metadata;\r\n}\r\n\r\n/**\r\n\tRepresents a metadata entry in the AST.\r\n**/\r\ntypedef MetadataEntry = {\r\n\t/**\r\n\t\tThe name of the metadata entry.\r\n\t**/\r\n\tvar name:String;\r\n\r\n\t/**\r\n\t\tThe optional parameters of the metadata entry.\r\n\t**/\r\n\tvar ?params:Array<Expr>;\r\n\r\n\t/**\r\n\t\tThe position of the metadata entry.\r\n\t**/\r\n\tvar pos:Position;\r\n}\r\n\r\n/**\r\n\tRepresents metadata in the AST.\r\n**/\r\ntypedef Metadata = Array<MetadataEntry>;\r\n\r\n/**\r\n\tRepresents a field in the AST.\r\n**/\r\ntypedef Field = {\r\n\t/**\r\n\t\tThe name of the field.\r\n\t**/\r\n\tvar name:String;\r\n\r\n\t/**\r\n\t\tThe documentation of the field, if available. If the field has no\r\n\t\tdocumentation, the value is `null`.\r\n\t**/\r\n\tvar ?doc:String;\r\n\r\n\t/**\r\n\t\tThe access modifiers of the field. By default fields have private access.\r\n\t\t@see https://haxe.org/manual/class-field-access-modifier.html\r\n\t**/\r\n\tvar ?access:Array<Access>;\r\n\r\n\t/**\r\n\t\tThe kind of the field.\r\n\t**/\r\n\tvar kind:FieldType;\r\n\r\n\t/**\r\n\t\tThe position of the field.\r\n\t**/\r\n\tvar pos:Position;\r\n\r\n\t/**\r\n\t\tThe optional metadata of the field.\r\n\t**/\r\n\tvar ?meta:Metadata;\r\n}\r\n\r\n/**\r\n\tRepresents an access modifier.\r\n\t@see https://haxe.org/manual/class-field-access-modifier.html\r\n**/\r\nenum Access {\r\n\t/**\r\n\t\tPublic access modifier, grants access from anywhere.\r\n\t\t@see https://haxe.org/manual/class-field-visibility.html\r\n\t**/\r\n\tAPublic;\r\n\r\n\t/**\r\n\t\tPrivate access modifier, grants access to class and its sub-classes\r\n\t\tonly.\r\n\t\t@see https://haxe.org/manual/class-field-visibility.html\r\n\t**/\r\n\tAPrivate;\r\n\r\n\t/**\r\n\t\tStatic access modifier.\r\n\t**/\r\n\tAStatic;\r\n\r\n\t/**\r\n\t\tOverride access modifier.\r\n\t\t@see https://haxe.org/manual/class-field-override.html\r\n\t**/\r\n\tAOverride;\r\n\r\n\t/**\r\n\t\tDynamic (re-)bindable access modifier.\r\n\t\t@see https://haxe.org/manual/class-field-dynamic.html\r\n\t**/\r\n\tADynamic;\r\n\r\n\t/**\r\n\t\tInline access modifier. Allows expressions to be directly inserted in\r\n\t\tplace of calls to them.\r\n\t\t@see https://haxe.org/manual/class-field-inline.html\r\n\t**/\r\n\tAInline;\r\n\r\n\t/**\r\n\t\tMacro access modifier. Allows expression macro functions. These are\r\n\t\tnormal functions which are executed as soon as they are typed.\r\n\t**/\r\n\tAMacro;\r\n\r\n\t/**\r\n\t\tFinal access modifier. For functions, they can not be overridden. For\r\n\t\tvariables, it means they can be assigned to only once.\r\n\t**/\r\n\tAFinal;\r\n\r\n\t/**\r\n\t\tExtern access modifier.\r\n\t**/\r\n\tAExtern;\r\n\r\n\t/**\r\n\t\tAbstract access modifier.\r\n\t**/\r\n\tAAbstract;\r\n\r\n\t/**\r\n\t\tOverload access modifier.\r\n\t**/\r\n\tAOverload;\r\n\r\n\t/**\r\n\t\tEnum access modifier.\r\n\t**/\r\n\tAEnum;\r\n}\r\n\r\n/**\r\n\tRepresents the field type in the AST.\r\n**/\r\nenum FieldType {\r\n\t/**\r\n\t\tRepresents a variable field type.\r\n\t**/\r\n\tFVar(t:Null<ComplexType>, ?e:Expr);\r\n\r\n\t/**\r\n\t\tRepresents a function field type.\r\n\t**/\r\n\tFFun(f:Function);\r\n\r\n\t/**\r\n\t\tRepresents a property with getter and setter field type.\r\n\t**/\r\n\tFProp(get:String, set:String, ?t:ComplexType, ?e:Expr);\r\n}\r\n\r\n/**\r\n\tRepresents a type definition.\r\n**/\r\ntypedef TypeDefinition = {\r\n\t/**\r\n\t\tThe package of the type definition.\r\n\t**/\r\n\tvar pack:Array<String>;\r\n\r\n\t/**\r\n\t\tThe name of the type definition.\r\n\t**/\r\n\tvar name:String;\r\n\r\n\t/**\r\n\t\tThe documentation of the type, if available. If the type has no\r\n\t\tdocumentation, the value is `null`.\r\n\t**/\r\n\tvar ?doc:String;\r\n\r\n\t/**\r\n\t\tThe position to the type definition.\r\n\t**/\r\n\tvar pos:Position;\r\n\r\n\t/**\r\n\t\tThe optional metadata of the type definition.\r\n\t**/\r\n\tvar ?meta:Metadata;\r\n\r\n\t/**\r\n\t\tThe parameter type declarations of the type definition.\r\n\t**/\r\n\tvar ?params:Array<TypeParamDecl>;\r\n\r\n\t/**\r\n\t\tWhether or not the type is extern.\r\n\t**/\r\n\tvar ?isExtern:Bool;\r\n\r\n\t/**\r\n\t\tThe kind of the type definition.\r\n\t**/\r\n\tvar kind:TypeDefKind;\r\n\r\n\t/**\r\n\t\tThe fields of the type definition.\r\n\t**/\r\n\tvar fields:Array<Field>;\r\n}\r\n\r\n/**\r\n\tRepresents a type definition kind.\r\n**/\r\nenum TypeDefKind {\r\n\t/**\r\n\t\tRepresents an enum kind.\r\n\t**/\r\n\tTDEnum;\r\n\r\n\t/**\r\n\t\tRepresents a structure kind.\r\n\t**/\r\n\tTDStructure;\r\n\r\n\t/**\r\n\t\tRepresents a class kind.\r\n\t**/\r\n\tTDClass(?superClass:TypePath, ?interfaces:Array<TypePath>, ?isInterface:Bool, ?isFinal:Bool, ?isAbstract:Bool);\r\n\r\n\t/**\r\n\t\tRepresents an alias/typedef kind.\r\n\t**/\r\n\tTDAlias(t:ComplexType); // ignore TypeDefinition.fields\r\n\r\n\t/**\r\n\t\tRepresents an abstract kind.\r\n\t**/\r\n\tTDAbstract(tthis:Null<ComplexType>, ?flags:Array<AbstractFlag>, ?from:Array<ComplexType>, ?to:Array<ComplexType>);\r\n\r\n\t/**\r\n\t\tRepresents a module-level field.\r\n\t**/\r\n\tTDField(kind:FieldType, ?access:Array<Access>); // ignore TypeDefinition.fields\r\n\r\n}\r\n\r\n/**\r\n\tRepresents an abstract flag.\r\n**/\r\nenum AbstractFlag {\r\n\t/**\r\n\t\tIndicates that this abstract is an `enum abstract`\r\n\t**/\r\n\tAbEnum;\r\n\r\n\t/**\r\n\t\tIndicates that this abstract can be assigned from `ct`.\r\n\t\tThis flag can be added several times to add multiple \"from\" types.\r\n\t**/\r\n\tAbFrom(ct:ComplexType);\r\n\r\n\t/**\r\n\t\tIndicates that this abstract can be assigned to `ct`.\r\n\t\tThis flag can be added several times to add multiple \"to\" types.\r\n\t**/\r\n\tAbTo(ct:ComplexType);\r\n}\r\n\r\n/**\r\n\tThis error can be used to handle or produce compilation errors in macros.\r\n**/\r\nclass Error extends Exception {\r\n\t/**\r\n\t\tThe position of the error.\r\n\t**/\r\n\tpublic var pos:Position;\r\n\r\n\t/**\r\n\t\tChild error messages, if any.\r\n\t**/\r\n\tprivate var childErrors:Array<Error>;\r\n\r\n\t/**\r\n\t\tInstantiates an error with given message and position.\r\n\t**/\r\n\tpublic function new(message:String, pos:Position, ?previous:Exception) {\r\n\t\tsuper(message, previous);\r\n\t\tthis.pos = pos;\r\n\t}\r\n}\r\n\r\n/**\r\n\tRepresents the import mode.\r\n\t@see https://haxe.org/manual/type-system-import.html\r\n**/\r\nenum ImportMode {\r\n\t/**\r\n\t\tRepresents a default import `import c`.\r\n\t**/\r\n\tINormal;\r\n\r\n\t/**\r\n\t\tRepresents the alias import `import c as alias`.\r\n\t**/\r\n\tIAsName(alias:String);\r\n\r\n\t/**\r\n\t\tRepresents the wildcard import `import *`.\r\n\t**/\r\n\tIAll;\r\n}\r\n\r\n/**\r\n\tRepresents the import expression.\r\n**/\r\ntypedef ImportExpr = {\r\n\t/**\r\n\t\tThe path to the import expression.\r\n\t**/\r\n\tvar path:Array<{pos:Position, name:String}>;\r\n\r\n\t/**\r\n\t\tThe mode of the import expression.\r\n\t**/\r\n\tvar mode:ImportMode;\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.macro;\r\n\r\nimport haxe.macro.Expr;\r\n\r\nusing Lambda;\r\n\r\n/**\r\n\tThis class provides some utility methods to work with expressions. It is\r\n\tbest used through 'using haxe.macro.ExprTools' syntax and then provides\r\n\tadditional methods on haxe.macro.Expr instances.\r\n\r\n\tWhile mainly intended to be used in macros, it works in non-macro code as\r\n\twell.\r\n**/\r\nclass ExprTools {\r\n\t/**\r\n\t\tConverts expression `e` to a human-readable String representation.\r\n\r\n\t\tThe result is guaranteed to be valid Haxe code, but there may be\r\n\t\tdifferences from the original lexical syntax.\r\n\t**/\r\n\tstatic public function toString(e:Expr):String\r\n\t\treturn new Printer().printExpr(e);\r\n\r\n\t/**\r\n\t\tCalls function `f` on each sub-expression of `e`.\r\n\r\n\t\tIf `e` has no sub-expressions, this operation has no effect.\r\n\r\n\t\tOtherwise `f` is called once per sub-expression of `e`, with the\r\n\t\tsub-expression as argument. These calls are done in order of the\r\n\t\tsub-expression declarations.\r\n\r\n\t\tThis method does not call itself recursively. It should instead be used\r\n\t\tin a recursive function which handles the expression nodes of interest.\r\n\r\n\t\tUsage example:\r\n\t\t```haxe\r\n\t\tfunction findStrings(e:Expr) {\r\n\t\t\tswitch(e.expr) {\r\n\t\t\t\tcase EConst(CString(s)):\r\n\t\t\t\t\t// handle s\r\n\t\t\t\tcase _:\r\n\t\t\t\t\tExprTools.iter(e, findStrings);\r\n\t\t\t}\r\n\t\t}\r\n\t\t```\r\n\t**/\r\n\tstatic public function iter(e:Expr, f:Expr->Void):Void {\r\n\t\tswitch (e.expr) {\r\n\t\t\tcase EConst(_), EContinue, EBreak:\r\n\t\t\tcase EField(e, _), EParenthesis(e), EUntyped(e), EThrow(e), EDisplay(e, _), ECheckType(e, _), EUnop(_, _, e), ECast(e, _), EIs(e, _) | EMeta(_, e):\r\n\t\t\t\tf(e);\r\n\t\t\tcase EArray(e1, e2), EWhile(e1, e2, _), EBinop(_, e1, e2), EFor(e1, e2):\r\n\t\t\t\tf(e1);\r\n\t\t\t\tf(e2);\r\n\t\t\tcase EVars(vl):\r\n\t\t\t\tfor (v in vl)\r\n\t\t\t\t\topt2(v.expr, f);\r\n\t\t\tcase ETry(e, cl):\r\n\t\t\t\tf(e);\r\n\t\t\t\tfor (c in cl)\r\n\t\t\t\t\tf(c.expr);\r\n\t\t\tcase ETernary(e1, e2, e3) | EIf(e1, e2, e3):\r\n\t\t\t\tf(e1);\r\n\t\t\t\tf(e2);\r\n\t\t\t\topt2(e3, f);\r\n\t\t\tcase EArrayDecl(el), ENew(_, el), EBlock(el):\r\n\t\t\t\tExprArrayTools.iter(el, f);\r\n\t\t\tcase EObjectDecl(fl):\r\n\t\t\t\tfor (fd in fl)\r\n\t\t\t\t\tf(fd.expr);\r\n\t\t\tcase ECall(e, el):\r\n\t\t\t\tf(e);\r\n\t\t\t\tExprArrayTools.iter(el, f);\r\n\t\t\tcase EReturn(e):\r\n\t\t\t\topt2(e, f);\r\n\t\t\tcase EFunction(_, func):\r\n\t\t\t\tfor (arg in func.args)\r\n\t\t\t\t\topt2(arg.value, f);\r\n\t\t\t\topt2(func.expr, f);\r\n\t\t\tcase ESwitch(e, cl, edef):\r\n\t\t\t\tf(e);\r\n\t\t\t\tfor (c in cl) {\r\n\t\t\t\t\tExprArrayTools.iter(c.values, f);\r\n\t\t\t\t\topt2(c.guard, f);\r\n\t\t\t\t\topt2(c.expr, f);\r\n\t\t\t\t}\r\n\t\t\t\tif (edef != null && edef.expr != null)\r\n\t\t\t\t\tf(edef);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t\tTransforms the sub-expressions of `e` by calling `f` on each of them.\r\n\r\n\t\tIf `e` has no sub-expressions, this operation returns `e` unchanged.\r\n\r\n\t\tOtherwise `f` is called once per sub-expression of `e`, with the\r\n\t\tsub-expression as argument. These calls are done in order of the\r\n\t\tsub-expression declarations.\r\n\r\n\t\tThis method does not call itself recursively. It should instead be used\r\n\t\tin a recursive function which handles the expression nodes of interest.\r\n\r\n\t\tUsage example:\r\n\t\t```haxe\r\n\t\tfunction capitalizeStrings(e:Expr) {\r\n\t\t\treturn switch(e.expr) {\r\n\t\t\t\tcase EConst(CString(s)):\r\n\t\t\t\t\t{ expr: EConst(CString(s.toUpperCase())), pos: e.pos };\r\n\t\t\t\tcase _:\r\n\t\t\t\t\tExprTools.map(e, capitalizeStrings);\r\n\t\t\t}\r\n\t\t}\r\n\t\t```\r\n\t**/\r\n\tstatic public function map(e:Expr, f:Expr->Expr):Expr {\r\n\t\treturn {\r\n\t\t\tpos: e.pos,\r\n\t\t\texpr: switch (e.expr) {\r\n\t\t\t\tcase EConst(_): e.expr;\r\n\t\t\t\tcase EArray(e1, e2): EArray(f(e1), f(e2));\r\n\t\t\t\tcase EBinop(op, e1, e2): EBinop(op, f(e1), f(e2));\r\n\t\t\t\tcase EField(e, field, kind): EField(f(e), field, kind);\r\n\t\t\t\tcase EParenthesis(e): EParenthesis(f(e));\r\n\t\t\t\tcase EObjectDecl(fields):\r\n\t\t\t\t\tvar ret = [];\r\n\t\t\t\t\tfor (field in fields)\r\n\t\t\t\t\t\tret.push({field: field.field, expr: f(field.expr), quotes: field.quotes});\r\n\t\t\t\t\tEObjectDecl(ret);\r\n\t\t\t\tcase EArrayDecl(el): EArrayDecl(ExprArrayTools.map(el, f));\r\n\t\t\t\tcase ECall(e, params): ECall(f(e), ExprArrayTools.map(params, f));\r\n\t\t\t\tcase ENew(tp, params): ENew(tp, ExprArrayTools.map(params, f));\r\n\t\t\t\tcase EUnop(op, postFix, e): EUnop(op, postFix, f(e));\r\n\t\t\t\tcase EVars(vars):\r\n\t\t\t\t\tvar ret = [];\r\n\t\t\t\t\tfor (v in vars) {\r\n\t\t\t\t\t\tvar v2:Var = {name: v.name, type: v.type, expr: opt(v.expr, f)};\r\n\t\t\t\t\t\tif (v.isFinal != null)\r\n\t\t\t\t\t\t\tv2.isFinal = v.isFinal;\r\n\t\t\t\t\t\tret.push(v2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tEVars(ret);\r\n\t\t\t\tcase EBlock(el): EBlock(ExprArrayTools.map(el, f));\r\n\t\t\t\tcase EFor(it, expr): EFor(f(it), f(expr));\r\n\t\t\t\tcase EIf(econd, eif, eelse): EIf(f(econd), f(eif), opt(eelse, f));\r\n\t\t\t\tcase EWhile(econd, e, normalWhile): EWhile(f(econd), f(e), normalWhile);\r\n\t\t\t\tcase EReturn(e): EReturn(opt(e, f));\r\n\t\t\t\tcase EUntyped(e): EUntyped(f(e));\r\n\t\t\t\tcase EThrow(e): EThrow(f(e));\r\n\t\t\t\tcase ECast(e, t): ECast(f(e), t);\r\n\t\t\t\tcase EIs(e, t): EIs(f(e), t);\r\n\t\t\t\tcase EDisplay(e, dk): EDisplay(f(e), dk);\r\n\t\t\t\tcase ETernary(econd, eif, eelse): ETernary(f(econd), f(eif), f(eelse));\r\n\t\t\t\tcase ECheckType(e, t): ECheckType(f(e), t);\r\n\t\t\t\tcase EContinue, EBreak:\r\n\t\t\t\t\te.expr;\r\n\t\t\t\tcase ETry(e, catches):\r\n\t\t\t\t\tvar ret = [];\r\n\t\t\t\t\tfor (c in catches)\r\n\t\t\t\t\t\tret.push({name: c.name, type: c.type, expr: f(c.expr)});\r\n\t\t\t\t\tETry(f(e), ret);\r\n\t\t\t\tcase ESwitch(e, cases, edef):\r\n\t\t\t\t\tvar ret = [];\r\n\t\t\t\t\tfor (c in cases)\r\n\t\t\t\t\t\tret.push({expr: opt(c.expr, f), guard: opt(c.guard, f), values: ExprArrayTools.map(c.values, f)});\r\n\t\t\t\t\tESwitch(f(e), ret, edef == null || edef.expr == null ? edef : f(edef));\r\n\t\t\t\tcase EFunction(kind, func):\r\n\t\t\t\t\tvar ret = [];\r\n\t\t\t\t\tfor (arg in func.args)\r\n\t\t\t\t\t\tret.push({\r\n\t\t\t\t\t\t\tname: arg.name,\r\n\t\t\t\t\t\t\topt: arg.opt,\r\n\t\t\t\t\t\t\ttype: arg.type,\r\n\t\t\t\t\t\t\tvalue: opt(arg.value, f)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tEFunction(kind, {\r\n\t\t\t\t\t\targs: ret,\r\n\t\t\t\t\t\tret: func.ret,\r\n\t\t\t\t\t\tparams: func.params,\r\n\t\t\t\t\t\texpr: f(func.expr)\r\n\t\t\t\t\t});\r\n\t\t\t\tcase EMeta(m, e): EMeta(m, f(e));\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t\tReturns the value `e` represents.\r\n\r\n\t\tSupported expressions are:\r\n\r\n\t\t - `Int`, `Float` and `String` literals\r\n\t\t - identifiers `true`, `false` and `null`\r\n\t\t - structure declarations if all their fields are values\r\n\t\t - array declarations if all their elements are values\r\n\t\t - unary operators `-`, `!` and `~` if the operand is a value\r\n\t\t - binary operators except `=>`, `...` and assignments\r\n\r\n\t\tParentheses, metadata and the `untyped` keyword are ignored.\r\n\r\n\t\tIf any non-value is encountered, an exception of type `String` is\r\n\t\tthrown.\r\n\r\n\t\tIf `e` is null, the result is unspecified.\r\n\t**/\r\n\tstatic public function getValue(e:Expr):Dynamic {\r\n\t\treturn switch (e.expr) {\r\n\t\t\tcase EConst(CInt(v)): Std.parseInt(v);\r\n\t\t\tcase EConst(CFloat(v)): Std.parseFloat(v);\r\n\t\t\tcase EConst(CString(s)): s;\r\n\t\t\tcase EConst(CIdent(\"true\")): true;\r\n\t\t\tcase EConst(CIdent(\"false\")): false;\r\n\t\t\tcase EConst(CIdent(\"null\")): null;\r\n\t\t\tcase EParenthesis(e1) | EUntyped(e1) | EMeta(_, e1): getValue(e1);\r\n\t\t\tcase EObjectDecl(fields):\r\n\t\t\t\tvar obj = {};\r\n\t\t\t\tfor (field in fields) {\r\n\t\t\t\t\tReflect.setField(obj, field.field, getValue(field.expr));\r\n\t\t\t\t}\r\n\t\t\t\tobj;\r\n\t\t\tcase EArrayDecl(el): el.map(getValue);\r\n\t\t\tcase EIf(econd, eif, eelse) | ETernary(econd, eif, eelse):\r\n\t\t\t\tif (eelse == null) {\r\n\t\t\t\t\tthrow \"If statements only have a value if the else clause is defined\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar econd:Dynamic = getValue(econd);\r\n\t\t\t\t\tecond ? getValue(eif) : getValue(eelse);\r\n\t\t\t\t}\r\n\t\t\tcase EUnop(op, false, e1):\r\n\t\t\t\tvar e1:Dynamic = getValue(e1);\r\n\t\t\t\tswitch (op) {\r\n\t\t\t\t\tcase OpNot: !e1;\r\n\t\t\t\t\tcase OpNeg: -e1;\r\n\t\t\t\t\tcase OpNegBits: ~e1;\r\n\t\t\t\t\tcase _: throw 'Unsupported expression: $e';\r\n\t\t\t\t}\r\n\t\t\tcase EBinop(op, e1, e2):\r\n\t\t\t\tvar e1:Dynamic = getValue(e1);\r\n\t\t\t\tvar e2:Dynamic = getValue(e2);\r\n\t\t\t\tswitch (op) {\r\n\t\t\t\t\tcase OpAdd: e1 + e2;\r\n\t\t\t\t\tcase OpSub: e1 - e2;\r\n\t\t\t\t\tcase OpMult: e1 * e2;\r\n\t\t\t\t\tcase OpDiv: e1 / e2;\r\n\t\t\t\t\tcase OpMod: e1 % e2;\r\n\t\t\t\t\tcase OpEq: e1 == e2;\r\n\t\t\t\t\tcase OpNotEq: e1 != e2;\r\n\t\t\t\t\tcase OpLt: e1 < e2;\r\n\t\t\t\t\tcase OpLte: e1 <= e2;\r\n\t\t\t\t\tcase OpGt: e1 > e2;\r\n\t\t\t\t\tcase OpGte: e1 >= e2;\r\n\t\t\t\t\tcase OpOr: e1 | e2;\r\n\t\t\t\t\tcase OpAnd: e1 & e2;\r\n\t\t\t\t\tcase OpXor: e1 ^ e2;\r\n\t\t\t\t\tcase OpBoolAnd: e1 && e2;\r\n\t\t\t\t\tcase OpBoolOr: e1 || e2;\r\n\t\t\t\t\tcase OpShl: e1 << e2;\r\n\t\t\t\t\tcase OpShr: e1 >> e2;\r\n\t\t\t\t\tcase OpUShr: e1 >>> e2;\r\n\t\t\t\t\tcase _: throw 'Unsupported expression: $e';\r\n\t\t\t\t}\r\n\t\t\tcase _: throw 'Unsupported expression: $e';\r\n\t\t}\r\n\t}\r\n\r\n\tstatic inline function opt(e:Null<Expr>, f:Expr->Expr):Expr\r\n\t\treturn e == null ? null : f(e);\r\n\r\n\tstatic inline function opt2(e:Null<Expr>, f:Expr->Void):Void\r\n\t\tif (e != null)\r\n\t\t\tf(e);\r\n}\r\n\r\n/**\r\n\tThis class provides functions on expression arrays for convenience. For a\r\n\tdetailed reference on each method, see the documentation of ExprTools.\r\n**/\r\nclass ExprArrayTools {\r\n\tstatic public function map(el:Array<Expr>, f:Expr->Expr):Array<Expr> {\r\n\t\tvar ret = [];\r\n\t\tfor (e in el)\r\n\t\t\tret.push(f(e));\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tstatic public function iter(el:Array<Expr>, f:Expr->Void):Void {\r\n\t\tfor (e in el)\r\n\t\t\tf(e);\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage haxe.macro;\r\n\r\nimport haxe.macro.Expr;\r\n\r\nusing Lambda;\r\nusing StringTools;\r\n\r\n/**\r\n\tThis class provides some utility methods to convert elements from the\r\n\tmacro context to a human-readable String representation.\r\n */\r\nclass Printer {\r\n\tvar tabs:String;\r\n\tvar tabString:String;\r\n\r\n\tpublic function new(?tabString = \"\\t\") {\r\n\t\ttabs = \"\";\r\n\t\tthis.tabString = tabString;\r\n\t}\r\n\r\n\tpublic function printUnop(op:Unop)\r\n\t\treturn switch (op) {\r\n\t\t\tcase OpIncrement: \"++\";\r\n\t\t\tcase OpDecrement: \"--\";\r\n\t\t\tcase OpNot: \"!\";\r\n\t\t\tcase OpNeg: \"-\";\r\n\t\t\tcase OpNegBits: \"~\";\r\n\t\t\tcase OpSpread: \"...\";\r\n\t\t}\r\n\r\n\tpublic function printBinop(op:Binop)\r\n\t\treturn switch (op) {\r\n\t\t\tcase OpAdd: \"+\";\r\n\t\t\tcase OpMult: \"*\";\r\n\t\t\tcase OpDiv: \"/\";\r\n\t\t\tcase OpSub: \"-\";\r\n\t\t\tcase OpAssign: \"=\";\r\n\t\t\tcase OpEq: \"==\";\r\n\t\t\tcase OpNotEq: \"!=\";\r\n\t\t\tcase OpGt: \">\";\r\n\t\t\tcase OpGte: \">=\";\r\n\t\t\tcase OpLt: \"<\";\r\n\t\t\tcase OpLte: \"<=\";\r\n\t\t\tcase OpAnd: \"&\";\r\n\t\t\tcase OpOr: \"|\";\r\n\t\t\tcase OpXor: \"^\";\r\n\t\t\tcase OpBoolAnd: \"&&\";\r\n\t\t\tcase OpBoolOr: \"||\";\r\n\t\t\tcase OpShl: \"<<\";\r\n\t\t\tcase OpShr: \">>\";\r\n\t\t\tcase OpUShr: \">>>\";\r\n\t\t\tcase OpMod: \"%\";\r\n\t\t\tcase OpInterval: \"...\";\r\n\t\t\tcase OpArrow: \"=>\";\r\n\t\t\tcase OpIn: \"in\";\r\n\t\t\tcase OpNullCoal: \"??\";\r\n\t\t\tcase OpAssignOp(op):\r\n\t\t\t\tprintBinop(op) + \"=\";\r\n\t\t}\r\n\r\n\tfunction escapeString(s:String, delim:String) {\r\n\t\treturn delim\r\n\t\t\t+ s.replace('\\\\', '\\\\\\\\')\r\n\t\t\t\t.replace(\"\\n\", \"\\\\n\")\r\n\t\t\t\t.replace(\"\\t\", \"\\\\t\")\r\n\t\t\t\t.replace(\"\\r\", \"\\\\r\")\r\n\t\t\t\t.replace(\"'\", \"\\\\'\")\r\n\t\t\t\t.replace('\"', \"\\\\\\\"\") #if sys .replace(\"\\x00\", \"\\\\x00\") #end + delim;\r\n\t}\r\n\r\n\tpublic function printFormatString(s:String) {\r\n\t\treturn escapeString(s, \"'\");\r\n\t}\r\n\r\n\tpublic function printString(s:String) {\r\n\t\treturn escapeString(s, '\"');\r\n\t}\r\n\r\n\tpublic function printConstant(c:Constant)\r\n\t\treturn switch (c) {\r\n\t\t\tcase CString(s, SingleQuotes): printFormatString(s);\r\n\t\t\tcase CString(s, _): printString(s);\r\n\t\t\tcase CIdent(s), CInt(s, null), CFloat(s, null):\r\n\t\t\t\ts;\r\n\t\t\tcase CInt(s, suffix), CFloat(s, suffix):\r\n\t\t\t\ts + suffix;\r\n\t\t\tcase CRegexp(s, opt): '~/$s/$opt';\r\n\t\t}\r\n\r\n\tpublic function printTypeParam(param:TypeParam)\r\n\t\treturn switch (param) {\r\n\t\t\tcase TPType(ct): printComplexType(ct);\r\n\t\t\tcase TPExpr(e): printExpr(e);\r\n\t\t}\r\n\r\n\tpublic function printTypePath(tp:TypePath)\r\n\t\treturn (tp.pack.length > 0 ? tp.pack.join(\".\") + \".\" : \"\")\r\n\t\t\t+ tp.name\r\n\t\t\t+ (tp.sub != null ? '.${tp.sub}' : \"\")\r\n\t\t\t+ (tp.params == null ? \"\" : tp.params.length > 0 ? \"<\" + tp.params.map(printTypeParam).join(\", \") + \">\" : \"\");\r\n\r\n\t// TODO: check if this can cause loops\r\n\tpublic function printComplexType(ct:ComplexType)\r\n\t\treturn switch (ct) {\r\n\t\t\tcase TPath(tp): printTypePath(tp);\r\n\t\t\tcase TFunction(args, ret):\r\n\t\t\t\tvar wrapArgumentsInParentheses = switch args {\r\n\t\t\t\t\t// type `:(a:X) -> Y` has args as [TParent(TNamed(...))], i.e `a:X` gets wrapped in `TParent()`. We don't add parentheses to avoid printing `:((a:X)) -> Y`\r\n\t\t\t\t\tcase [TParent(t)]: false;\r\n\t\t\t\t\t// this case catches a single argument that's a type-path, so that `X -> Y` prints `X -> Y` not `(X) -> Y`\r\n\t\t\t\t\tcase [TPath(_) | TOptional(TPath(_))]: false;\r\n\t\t\t\t\tdefault: true;\r\n\t\t\t\t}\r\n\t\t\t\tvar argStr = args.map(printComplexType).join(\", \");\r\n\t\t\t\t(wrapArgumentsInParentheses ? '($argStr)' : argStr) + \" -> \" + (switch ret {\r\n\t\t\t\t\t// wrap return type in parentheses if it's also a function\r\n\t\t\t\t\tcase TFunction(_): '(${printComplexType(ret)})';\r\n\t\t\t\t\tdefault: (printComplexType(ret) : String);\r\n\t\t\t\t});\r\n\t\t\tcase TAnonymous(fields): \"{ \" + [for (f in fields) printField(f) + \"; \"].join(\"\") + \"}\";\r\n\t\t\tcase TParent(ct): \"(\" + printComplexType(ct) + \")\";\r\n\t\t\tcase TOptional(ct): \"?\" + printComplexType(ct);\r\n\t\t\tcase TNamed(n, ct): n + \":\" + printComplexType(ct);\r\n\t\t\tcase TExtend(tpl, fields):\r\n\t\t\t\tvar types = [for (t in tpl) \"> \" + printTypePath(t) + \", \"].join(\"\");\r\n\t\t\t\tvar fields = [for (f in fields) printField(f) + \"; \"].join(\"\");\r\n\t\t\t\t'{${types}${fields}}';\r\n\t\t\tcase TIntersection(tl): tl.map(printComplexType).join(\" & \");\r\n\t\t}\r\n\r\n\tpublic function printMetadata(meta:MetadataEntry)\r\n\t\treturn '@${meta.name}' + ((meta.params != null && meta.params.length > 0) ? '(${printExprs(meta.params, \", \")})' : \"\");\r\n\r\n\tpublic function printAccess(access:Access)\r\n\t\treturn switch (access) {\r\n\t\t\tcase AStatic: \"static\";\r\n\t\t\tcase APublic: \"public\";\r\n\t\t\tcase APrivate: \"private\";\r\n\t\t\tcase AOverride: \"override\";\r\n\t\t\tcase AInline: \"inline\";\r\n\t\t\tcase ADynamic: \"dynamic\";\r\n\t\t\tcase AMacro: \"macro\";\r\n\t\t\tcase AFinal: \"final\";\r\n\t\t\tcase AExtern: \"extern\";\r\n\t\t\tcase AAbstract: \"abstract\";\r\n\t\t\tcase AOverload: \"overload\";\r\n\t\t\tcase AEnum: \"enum\";\r\n\t\t}\r\n\r\n\tpublic function printField(field:Field) {\r\n\t\tinline function orderAccess(access:Array<Access>) {\r\n\t\t\t// final should always be printed last\r\n\t\t\t// (does not modify input array)\r\n\t\t\treturn access.has(AFinal) ? access.filter(a -> !a.match(AFinal)).concat([AFinal]) : access;\r\n\t\t}\r\n\t\treturn (field.doc != null\r\n\t\t\t&& field.doc != \"\" ? \"/**\\n\"\r\n\t\t\t\t+ tabs\r\n\t\t\t\t+ tabString\r\n\t\t\t\t+ StringTools.replace(field.doc, \"\\n\", \"\\n\" + tabs + tabString)\r\n\t\t\t\t+ \"\\n\"\r\n\t\t\t\t+ tabs\r\n\t\t\t\t+ \"**/\\n\"\r\n\t\t\t\t+ tabs : \"\")\r\n\t\t\t+ (field.meta != null && field.meta.length > 0 ? field.meta.map(printMetadata).join('\\n$tabs') + '\\n$tabs' : \"\")\r\n\t\t\t+ (field.access != null && field.access.length > 0 ? orderAccess(field.access).map(printAccess).join(\" \") + \" \" : \"\")\r\n\t\t\t+ switch (field.kind) {\r\n\t\t\t\tcase FVar(t,\r\n\t\t\t\t\teo): ((field.access != null && field.access.has(AFinal)) ? '' : 'var ')\r\n\t\t\t\t\t\t+ '${field.name}'\r\n\t\t\t\t\t\t+ opt(t, printComplexType, \" : \")\r\n\t\t\t\t\t\t+ opt(eo, printExpr, \" = \");\r\n\t\t\t\tcase FProp(get, set, t, eo): 'var ${field.name}($get, $set)' + opt(t, printComplexType, \" : \") + opt(eo, printExpr, \" = \");\r\n\t\t\t\tcase FFun(func): 'function ${field.name}' + printFunction(func);\r\n\t\t\t}}\r\n\r\n\tpublic function printTypeParamDecl(tpd:TypeParamDecl)\r\n\t\treturn (tpd.meta != null && tpd.meta.length > 0 ? tpd.meta.map(printMetadata).join(\" \") + \" \" : \"\")\r\n\t\t\t+ tpd.name\r\n\t\t\t+ (tpd.params != null && tpd.params.length > 0 ? \"<\" + tpd.params.map(printTypeParamDecl).join(\", \") + \">\" : \"\")\r\n\t\t\t+ (tpd.constraints != null && tpd.constraints.length > 0 ? \":(\" + tpd.constraints.map(printComplexType).join(\" & \") + \")\" : \"\")\r\n\t\t\t+ (tpd.defaultType != null ? \"=\" + printComplexType(tpd.defaultType) : \"\");\r\n\r\n\tpublic function printFunctionArg(arg:FunctionArg)\r\n\t\treturn (arg.opt ? \"?\" : \"\") + arg.name + opt(arg.type, printComplexType, \":\") + opt(arg.value, printExpr, \" = \");\r\n\r\n\tpublic function printFunction(func:Function, ?kind:FunctionKind) {\r\n\t\tvar skipParentheses = switch func.args {\r\n\t\t\tcase [{type: null}]: kind == FArrow;\r\n\t\t\tcase _: false;\r\n\t\t}\r\n\t\treturn (func.params == null ? \"\" : func.params.length > 0 ? \"<\" + func.params.map(printTypeParamDecl).join(\", \") + \">\" : \"\")\r\n\t\t\t+ (skipParentheses ? \"\" : \"(\")\r\n\t\t\t+ func.args.map(printFunctionArg).join(\", \")\r\n\t\t\t+ (skipParentheses ? \"\" : \")\")\r\n\t\t\t+ (kind == FArrow ? \" ->\" : \"\")\r\n\t\t\t+ opt(func.ret, printComplexType, \":\")\r\n\t\t\t+ opt(func.expr, printExpr, \" \");\r\n\t}\r\n\r\n\tpublic function printVar(v:Var) {\r\n\t\tvar s = v.name + opt(v.type, printComplexType, \":\") + opt(v.expr, printExpr, \" = \");\r\n\t\treturn switch v.meta {\r\n\t\t\tcase null | []: s;\r\n\t\t\tcase meta: meta.map(printMetadata).join(\" \") + \" \" + s;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic function printObjectFieldKey(of:ObjectField) {\r\n\t\treturn switch (of.quotes) {\r\n\t\t\tcase null | Unquoted: of.field;\r\n\t\t\tcase Quoted: '\"${of.field}\"'; // TODO: Have to escape that?\r\n\t\t}\r\n\t}\r\n\r\n\tpublic function printObjectField(of:ObjectField) {\r\n\t\treturn '${printObjectFieldKey(of)} : ${printExpr(of.expr)}';\r\n\t}\r\n\r\n\tpublic function printExpr(e:Expr)\r\n\t\treturn e == null ? \"#NULL\" : switch (e.expr) {\r\n\t\t\tcase EConst(c): printConstant(c);\r\n\t\t\tcase EArray(e1, e2): '${printExpr(e1)}[${printExpr(e2)}]';\r\n\t\t\tcase EBinop(op, e1, e2): '${printExpr(e1)} ${printBinop(op)} ${printExpr(e2)}';\r\n\t\t\tcase EField(e1, n, kind): kind == Safe ? '${printExpr(e1)}?.$n' : '${printExpr(e1)}.$n';\r\n\t\t\tcase EParenthesis(e1): '(${printExpr(e1)})';\r\n\t\t\tcase EObjectDecl(fl):\r\n\t\t\t\t\"{ \" + fl.map(function(fld) return printObjectField(fld)).join(\", \") + \" }\";\r\n\t\t\tcase EArrayDecl(el): '[${printExprs(el, \", \")}]';\r\n\t\t\tcase ECall(e1, el): '${printExpr(e1)}(${printExprs(el, \", \")})';\r\n\t\t\tcase ENew(tp, el): 'new ${printTypePath(tp)}(${printExprs(el, \", \")})';\r\n\t\t\tcase EUnop(op, true, e1): printExpr(e1) + printUnop(op);\r\n\t\t\tcase EUnop(op, false, e1): printUnop(op) + printExpr(e1);\r\n\t\t\tcase EFunction(FNamed(no, inlined), func): (inlined ? 'inline ' : '') + 'function $no' + printFunction(func);\r\n\t\t\tcase EFunction(kind, func): (kind != FArrow ? \"function\" : \"\") + printFunction(func, kind);\r\n\t\t\tcase EVars([]): \"var \";\r\n\t\t\tcase EVars(vl): ((vl[0].isStatic) ? \"static \" : \"\") + ((vl[0].isFinal) ? \"final \" : \"var \") + vl.map(printVar).join(\", \");\r\n\t\t\tcase EBlock([]): '{ }';\r\n\t\t\tcase EBlock(el):\r\n\t\t\t\tvar old = tabs;\r\n\t\t\t\ttabs += tabString;\r\n\t\t\t\tvar s = '{\\n$tabs' + printExprs(el, ';\\n$tabs');\r\n\t\t\t\ttabs = old;\r\n\t\t\t\ts + ';\\n$tabs}';\r\n\t\t\tcase EFor(e1, e2): 'for (${printExpr(e1)}) ${printExpr(e2)}';\r\n\t\t\tcase EIf(econd, eif, null): 'if (${printExpr(econd)}) ${printExpr(eif)}';\r\n\t\t\tcase EIf(econd, eif, eelse): 'if (${printExpr(econd)}) ${printExpr(eif)} else ${printExpr(eelse)}';\r\n\t\t\tcase EWhile(econd, e1, true): 'while (${printExpr(econd)}) ${printExpr(e1)}';\r\n\t\t\tcase EWhile(econd, e1, false): 'do ${printExpr(e1)} while (${printExpr(econd)})';\r\n\t\t\tcase ESwitch(e1, cl, edef):\r\n\t\t\t\tvar old = tabs;\r\n\t\t\t\ttabs += tabString;\r\n\t\t\t\tvar s = 'switch ${printExpr(e1)} {\\n$tabs'\r\n\t\t\t\t\t+ cl.map(function(c) return 'case ${printExprs(c.values, \", \")}' + (c.guard != null ? ' if (${printExpr(c.guard)}):' : \":\")\r\n\t\t\t\t\t\t+ (c.expr != null ? (opt(c.expr, printExpr)) + \";\" : \"\"))\r\n\t\t\t\t\t\t.join('\\n$tabs');\r\n\t\t\t\tif (edef != null)\r\n\t\t\t\t\ts += '\\n${tabs}default:' + (edef.expr == null ? \"\" : printExpr(edef) + \";\");\r\n\t\t\t\ttabs = old;\r\n\t\t\t\ts + '\\n$tabs}';\r\n\t\t\tcase ETry(e1, cl):\r\n\t\t\t\t'try ${printExpr(e1)}' + cl.map(function(c) return\r\n\t\t\t\t\t' catch(${c.name}${c.type == null ? '' : (':' + printComplexType(c.type))}) ${printExpr(c.expr)}')\r\n\t\t\t\t\t.join(\"\");\r\n\t\t\tcase EReturn(eo): \"return\" + opt(eo, printExpr, \" \");\r\n\t\t\tcase EBreak: \"break\";\r\n\t\t\tcase EContinue: \"continue\";\r\n\t\t\tcase EUntyped(e1): \"untyped \" + printExpr(e1);\r\n\t\t\tcase EThrow(e1): \"throw \" + printExpr(e1);\r\n\t\t\tcase ECast(e1, cto) if (cto != null): 'cast(${printExpr(e1)}, ${printComplexType(cto)})';\r\n\t\t\tcase ECast(e1, _): \"cast \" + printExpr(e1);\r\n\t\t\tcase EIs(e1, ct): '${printExpr(e1)} is ${printComplexType(ct)}';\r\n\t\t\tcase EDisplay(e1, _): '#DISPLAY(${printExpr(e1)})';\r\n\t\t\tcase ETernary(econd, eif, eelse): '${printExpr(econd)} ? ${printExpr(eif)} : ${printExpr(eelse)}';\r\n\t\t\tcase ECheckType(e1, ct): '(${printExpr(e1)} : ${printComplexType(ct)})';\r\n\t\t\tcase EMeta({name: \":implicitReturn\"}, {expr: EReturn(e1)}): printExpr(e1);\r\n\t\t\tcase EMeta(meta, e1): printMetadata(meta) + \" \" + printExpr(e1);\r\n\t\t}\r\n\r\n\tpublic function printExprs(el:Array<Expr>, sep:String) {\r\n\t\treturn el.map(printExpr).join(sep);\r\n\t}\r\n\r\n\tfunction printExtension(tpl:Array<TypePath>, fields:Array<Field>) {\r\n\t\treturn '{\\n$tabs>'\r\n\t\t\t+ tpl.map(printTypePath).join(',\\n$tabs>')\r\n\t\t\t+ \",\"\r\n\t\t\t+ (fields.length > 0 ? ('\\n$tabs' + fields.map(printField).join(';\\n$tabs') + \";\\n}\") : (\"\\n}\"));\r\n\t}\r\n\r\n\tfunction printStructure(fields:Array<Field>) {\r\n\t\treturn fields.length == 0 ? \"{ }\" : '{\\n$tabs' + fields.map(printField).join(';\\n$tabs') + \";\\n}\";\r\n\t}\r\n\r\n\tpublic function printTypeDefinition(t:TypeDefinition, printPackage = true):String {\r\n\t\tvar old = tabs;\r\n\t\ttabs = tabString;\r\n\r\n\t\tvar str = t == null ? \"#NULL\" : (printPackage && t.pack.length > 0 && t.pack[0] != \"\" ? \"package \" + t.pack.join(\".\") + \";\\n\" : \"\")\r\n\t\t\t+ (t.doc != null && t.doc != \"\" ? \"/**\\n\" + tabString + StringTools.replace(t.doc, \"\\n\", \"\\n\" + tabString) + \"\\n**/\\n\" : \"\")\r\n\t\t\t+ (t.meta != null && t.meta.length > 0 ? t.meta.map(printMetadata).join(\" \") + \" \" : \"\")\r\n\t\t\t+ (t.isExtern ? \"extern \" : \"\")\r\n\t\t\t+ switch (t.kind) {\r\n\t\t\t\tcase TDEnum:\r\n\t\t\t\t\t\"enum \"\r\n\t\t\t\t\t+ t.name\r\n\t\t\t\t\t+ ((t.params != null && t.params.length > 0) ? \"<\" + t.params.map(printTypeParamDecl).join(\", \") + \">\" : \"\")\r\n\t\t\t\t\t+ \" {\\n\"\r\n\t\t\t\t\t+ [\r\n\t\t\t\t\t\tfor (field in t.fields)\r\n\t\t\t\t\t\t\ttabs\r\n\t\t\t\t\t\t\t+ (field.doc != null\r\n\t\t\t\t\t\t\t\t&& field.doc != \"\" ? \"/**\\n\"\r\n\t\t\t\t\t\t\t\t\t+ tabs\r\n\t\t\t\t\t\t\t\t\t+ tabString\r\n\t\t\t\t\t\t\t\t\t+ StringTools.replace(field.doc, \"\\n\", \"\\n\" + tabs + tabString)\r\n\t\t\t\t\t\t\t\t\t+ \"\\n\"\r\n\t\t\t\t\t\t\t\t\t+ tabs\r\n\t\t\t\t\t\t\t\t\t+ \"**/\\n\"\r\n\t\t\t\t\t\t\t\t\t+ tabs : \"\")\r\n\t\t\t\t\t\t\t+ (field.meta != null && field.meta.length > 0 ? field.meta.map(printMetadata).join(\" \") + \" \" : \"\")\r\n\t\t\t\t\t\t\t+ (switch (field.kind) {\r\n\t\t\t\t\t\t\t\tcase FVar(t, _): field.name + opt(t, printComplexType, \":\");\r\n\t\t\t\t\t\t\t\tcase FProp(_, _, _, _): throw \"FProp is invalid for TDEnum.\";\r\n\t\t\t\t\t\t\t\tcase FFun(func): field.name + printFunction(func);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t+ \";\"].join(\"\\n\") + \"\\n}\";\r\n\t\t\t\tcase TDStructure:\r\n\t\t\t\t\t\"typedef \"\r\n\t\t\t\t\t+ t.name\r\n\t\t\t\t\t+ ((t.params != null && t.params.length > 0) ? \"<\" + t.params.map(printTypeParamDecl).join(\", \") + \">\" : \"\")\r\n\t\t\t\t\t+ \" = {\\n\"\r\n\t\t\t\t\t+ [\r\n\t\t\t\t\t\tfor (f in t.fields) {\r\n\t\t\t\t\t\t\ttabs + printField(f) + \";\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t].join(\"\\n\") + \"\\n}\";\r\n\t\t\t\tcase TDClass(superClass, interfaces, isInterface, isFinal, isAbstract):\r\n\t\t\t\t\t(isFinal ? \"final \" : \"\")\r\n\t\t\t\t\t\t+ (isAbstract ? \"abstract \" : \"\")\r\n\t\t\t\t\t\t+ (isInterface ? \"interface \" : \"class \")\r\n\t\t\t\t\t\t+ t.name\r\n\t\t\t\t\t\t+ (t.params != null && t.params.length > 0 ? \"<\" + t.params.map(printTypeParamDecl).join(\", \") + \">\" : \"\")\r\n\t\t\t\t\t\t+ (superClass != null ? \" extends \" + printTypePath(superClass) : \"\")\r\n\t\t\t\t\t\t+ (interfaces != null ? (isInterface ? [for (tp in interfaces) \" extends \" + printTypePath(tp)] : [\r\n\t\t\t\t\t\t\tfor (tp in interfaces)\r\n\t\t\t\t\t\t\t\t\" implements \" + printTypePath(tp)\r\n\t\t\t\t\t\t]).join(\"\") : \"\")\r\n\t\t\t\t\t\t+ \" {\\n\"\r\n\t\t\t\t\t\t+ [\r\n\t\t\t\t\t\t\tfor (f in t.fields) {\r\n\t\t\t\t\t\t\t\ttabs + printFieldWithDelimiter(f);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t].join(\"\\n\") + \"\\n}\";\r\n\t\t\t\tcase TDAlias(ct):\r\n\t\t\t\t\t\"typedef \"\r\n\t\t\t\t\t+ t.name\r\n\t\t\t\t\t+ ((t.params != null && t.params.length > 0) ? \"<\" + t.params.map(printTypeParamDecl).join(\", \") + \">\" : \"\")\r\n\t\t\t\t\t+ \" = \"\r\n\t\t\t\t\t+ (switch (ct) {\r\n\t\t\t\t\t\tcase TExtend(tpl, fields): printExtension(tpl, fields);\r\n\t\t\t\t\t\tcase TAnonymous(fields): printStructure(fields);\r\n\t\t\t\t\t\tcase _: printComplexType(ct);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t+ \";\";\r\n\t\t\t\tcase TDAbstract(tthis, tflags, from, to):\r\n\t\t\t\t\tvar from = from == null ? [] : from.copy();\r\n\t\t\t\t\tvar to = to == null ? [] : to.copy();\r\n\t\t\t\t\tvar isEnum = false;\r\n\r\n\t\t\t\t\tif (tflags != null) {\r\n\t\t\t\t\t\tfor (flag in tflags) {\r\n\t\t\t\t\t\t\tswitch (flag) {\r\n\t\t\t\t\t\t\t\tcase AbEnum: isEnum = true;\r\n\t\t\t\t\t\t\t\tcase AbFrom(ct): from.push(ct);\r\n\t\t\t\t\t\t\t\tcase AbTo(ct): to.push(ct);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t(isEnum ? \"enum \" : \"\")\r\n\t\t\t\t\t+ \"abstract \"\r\n\t\t\t\t\t+ t.name\r\n\t\t\t\t\t+ ((t.params != null && t.params.length > 0) ? \"<\" + t.params.map(printTypeParamDecl).join(\", \") + \">\" : \"\")\r\n\t\t\t\t\t+ (tthis == null ? \"\" : \"(\" + printComplexType(tthis) + \")\")\r\n\t\t\t\t\t+ [for (f in from) \" from \" + printComplexType(f)].join(\"\")\r\n\t\t\t\t\t+ [for (f in to) \" to \" + printComplexType(f)].join(\"\")\r\n\t\t\t\t\t+ \" {\\n\"\r\n\t\t\t\t\t+ [\r\n\t\t\t\t\t\tfor (f in t.fields) {\r\n\t\t\t\t\t\t\ttabs + printFieldWithDelimiter(f);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t].join(\"\\n\") + \"\\n}\";\r\n\t\t\t\tcase TDField(kind, access):\r\n\t\t\t\t\ttabs = old;\r\n\t\t\t\t\t(access != null && access.length > 0 ? access.map(printAccess).join(\" \") + \" \" : \"\") + switch (kind) {\r\n\t\t\t\t\t\tcase FVar(type,\r\n\t\t\t\t\t\t\teo): ((access != null && access.has(AFinal)) ? '' : 'var ') + '${t.name}' + opt(type, printComplexType, \" : \")\r\n\t\t\t\t\t\t\t\t+ opt(eo, printExpr, \" = \") + \";\";\r\n\t\t\t\t\t\tcase FProp(get, set, type, eo): 'var ${t.name}($get, $set)'\r\n\t\t\t\t\t\t\t+ opt(type, printComplexType, \" : \")\r\n\t\t\t\t\t\t\t+ opt(eo, printExpr, \" = \")\r\n\t\t\t\t\t\t\t+ \";\";\r\n\t\t\t\t\t\tcase FFun(func): 'function ${t.name}' + printFunction(func) + switch func.expr {\r\n\t\t\t\t\t\t\t\tcase {expr: EBlock(_)}: \"\";\r\n\t\t\t\t\t\t\t\tcase _: \";\";\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t} tabs = old;\r\n\r\n\t\treturn str;\r\n\t}\r\n\r\n\tfunction printFieldWithDelimiter(f:Field):String {\r\n\t\treturn printField(f) + switch (f.kind) {\r\n\t\t\tcase FVar(_, _), FProp(_, _, _, _): \";\";\r\n\t\t\tcase FFun({expr: null}): \";\";\r\n\t\t\tcase FFun({expr: {expr: EBlock(_)}}): \"\";\r\n\t\t\tcase FFun(_): \";\";\r\n\t\t\tcase _: \"\";\r\n\t\t};\r\n\t}\r\n\r\n\tfunction opt<T>(v:T, f:T->String, prefix = \"\")\r\n\t\treturn v == null ? \"\" : (prefix + f(v));\r\n\r\n\tpublic function printExprWithPositions(e:Expr) {\r\n\t\tvar buffer = new StringBuf();\r\n\t\tfunction format4(i:Int) {\r\n\t\t\treturn StringTools.lpad(Std.string(i), \" \", 4);\r\n\t\t}\r\n\t\tfunction loop(tabs:String, e:Expr) {\r\n\t\t\tfunction add(s:String, ?p = null) {\r\n\t\t\t\tif (p == null) {\r\n\t\t\t\t\tp = e.pos;\r\n\t\t\t\t}\r\n\t\t\t\tvar p = #if macro haxe.macro.Context.getPosInfos(p) #else e.pos #end;\r\n\t\t\t\tbuffer.add('${format4(p.min)}-${format4(p.max)} $tabs$s\\n');\r\n\t\t\t}\r\n\t\t\tfunction loopI(e:Expr)\r\n\t\t\t\tloop(tabs + tabString, e);\r\n\t\t\tswitch (e.expr) {\r\n\t\t\t\tcase EConst(c):\r\n\t\t\t\t\tadd(printConstant(c));\r\n\t\t\t\tcase EArray(e1, e2):\r\n\t\t\t\t\tadd(\"EArray\");\r\n\t\t\t\t\tloopI(e1);\r\n\t\t\t\t\tloopI(e2);\r\n\t\t\t\tcase EBinop(op, e1, e2):\r\n\t\t\t\t\tadd(\"EBinop \" + printBinop(op));\r\n\t\t\t\t\tloopI(e1);\r\n\t\t\t\t\tloopI(e2);\r\n\t\t\t\tcase EField(e, field, kind):\r\n\t\t\t\t\tif (kind == null) kind = Normal;\r\n\t\t\t\t\tadd('EField $field (${kind.getName()})');\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\tcase EParenthesis(e):\r\n\t\t\t\t\tadd(\"EParenthesis\");\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\tcase EObjectDecl(fields):\r\n\t\t\t\t\tadd(\"EObjectDecl\");\r\n\t\t\t\t\tfor (field in fields) {\r\n\t\t\t\t\t\tadd(field.field); // TODO: we don't have the field pos?\r\n\t\t\t\t\t\tloopI(field.expr);\r\n\t\t\t\t\t}\r\n\t\t\t\tcase EArrayDecl(values):\r\n\t\t\t\t\tadd(\"EArrayDecl\");\r\n\t\t\t\t\tvalues.iter(loopI);\r\n\t\t\t\tcase ECall(e, params):\r\n\t\t\t\t\tadd(\"ECall\");\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\t\tparams.iter(loopI);\r\n\t\t\t\tcase ENew(tp, params):\r\n\t\t\t\t\tadd(\"ENew \" + printTypePath(tp));\r\n\t\t\t\t\tparams.iter(loopI);\r\n\t\t\t\tcase EUnop(op, postFix, e):\r\n\t\t\t\t\tadd(\"EUnop \" + printUnop(op));\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\tcase EVars(vars):\r\n\t\t\t\t\tadd(\"EVars\");\r\n\t\t\t\t\tfor (v in vars) {\r\n\t\t\t\t\t\tif (v.expr != null) {\r\n\t\t\t\t\t\t\tadd(v.name);\r\n\t\t\t\t\t\t\tloopI(v.expr);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\tcase EFunction(_, f):\r\n\t\t\t\t\tadd(\"EFunction\");\r\n\t\t\t\t\tif (f.expr != null) {\r\n\t\t\t\t\t\tloopI(f.expr);\r\n\t\t\t\t\t}\r\n\t\t\t\tcase EBlock(exprs):\r\n\t\t\t\t\tadd(\"EBlock\");\r\n\t\t\t\t\texprs.iter(loopI);\r\n\t\t\t\tcase EFor(it, expr):\r\n\t\t\t\t\tadd(\"EFor\");\r\n\t\t\t\t\tloopI(it);\r\n\t\t\t\t\tloopI(expr);\r\n\t\t\t\tcase EIf(econd, eif, eelse):\r\n\t\t\t\t\tadd(\"EIf\");\r\n\t\t\t\t\tloopI(econd);\r\n\t\t\t\t\tloopI(eif);\r\n\t\t\t\t\tif (eelse != null) {\r\n\t\t\t\t\t\tloopI(eelse);\r\n\t\t\t\t\t}\r\n\t\t\t\tcase EWhile(econd, e, normalWhile):\r\n\t\t\t\t\tadd(\"EWhile\");\r\n\t\t\t\t\tloopI(econd);\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\tcase ESwitch(e, cases, edef):\r\n\t\t\t\t\tadd(\"ESwitch\");\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\t\tfor (c in cases) {\r\n\t\t\t\t\t\tfor (pat in c.values) {\r\n\t\t\t\t\t\t\tloop(tabs + tabString + tabString, pat);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (c.expr != null) {\r\n\t\t\t\t\t\t\tloop(tabs + tabString + tabString + tabString, c.expr);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (edef != null) {\r\n\t\t\t\t\t\tloop(tabs + tabString + tabString + tabString, edef);\r\n\t\t\t\t\t}\r\n\t\t\t\tcase ETry(e, catches):\r\n\t\t\t\t\tadd(\"ETry\");\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\t\tfor (c in catches) {\r\n\t\t\t\t\t\tloop(tabs + tabString + tabString, c.expr);\r\n\t\t\t\t\t}\r\n\t\t\t\tcase EReturn(e):\r\n\t\t\t\t\tadd(\"EReturn\");\r\n\t\t\t\t\tif (e != null) {\r\n\t\t\t\t\t\tloopI(e);\r\n\t\t\t\t\t}\r\n\t\t\t\tcase EBreak:\r\n\t\t\t\t\tadd(\"EBreak\");\r\n\t\t\t\tcase EContinue:\r\n\t\t\t\t\tadd(\"EContinue\");\r\n\t\t\t\tcase EUntyped(e):\r\n\t\t\t\t\tadd(\"EUntyped\");\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\tcase EThrow(e):\r\n\t\t\t\t\tadd(\"EThrow\");\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\tcase ECast(e, t):\r\n\t\t\t\t\tadd(\"ECast\");\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\tcase EIs(e, t):\r\n\t\t\t\t\tadd(\"EIs\");\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\tcase EDisplay(e, displayKind):\r\n\t\t\t\t\tadd(\"EDisplay\");\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\tcase ETernary(econd, eif, eelse):\r\n\t\t\t\t\tadd(\"ETernary\");\r\n\t\t\t\t\tloopI(econd);\r\n\t\t\t\t\tloopI(eif);\r\n\t\t\t\t\tloopI(eelse);\r\n\t\t\t\tcase ECheckType(e, t):\r\n\t\t\t\t\tadd(\"ECheckType\");\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t\tcase EMeta(s, e):\r\n\t\t\t\t\tadd(\"EMeta \" + printMetadata(s));\r\n\t\t\t\t\tloopI(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tloop(\"\", e);\r\n\t\treturn buffer.toString();\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n// This file is generated from mozilla\\HTMLCanvasElement.webidl. Do not edit!\r\n\r\npackage js.html;\r\n\r\n/**\r\n\tThe `HTMLCanvasElement` interface provides properties and methods for manipulating the layout and presentation of canvas elements. The `HTMLCanvasElement` interface also inherits the properties and methods of the `HTMLElement` interface.\r\n\r\n\tDocumentation [HTMLCanvasElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement) by [Mozilla Contributors](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement$history), licensed under [CC-BY-SA 2.5](https://creativecommons.org/licenses/by-sa/2.5/).\r\n\r\n\t@see <https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement>\r\n**/\r\n@:native(\"HTMLCanvasElement\")\r\nextern class CanvasElement extends Element {\r\n\t\r\n\t/**\r\n\t\tIs a positive `integer` reflecting the `width` HTML attribute of the `canvas` element interpreted in CSS pixels. When the attribute is not specified, or if it is set to an invalid value, like a negative, the default value of `300` is used.\r\n\t**/\r\n\tvar width : Int;\r\n\t\r\n\t/**\r\n\t\tIs a positive `integer` reflecting the `height` HTML attribute of the `canvas` element interpreted in CSS pixels. When the attribute is not specified, or if it is set to an invalid value, like a negative, the default value of `150` is used.\r\n\t**/\r\n\tvar height : Int;\r\n\t\r\n\t\r\n\t/**\r\n\t\tReturns a drawing context on the canvas, or null if the context ID is not supported. A drawing context lets you draw on the canvas. Calling getContext with `\"2d\"` returns a `CanvasRenderingContext2D` object, whereas calling it with `\"webgl\"` (or `\"experimental-webgl\"`) returns a `WebGLRenderingContext` object. This context is only available on browsers that implement WebGL.\r\n\t\t@throws DOMError\r\n\t**/\r\n\tfunction getContext( contextId : String, ?contextOptions : Dynamic ) : Dynamic;\r\n\t\r\n\t/**\r\n\t\tReturns a data-URL containing a representation of the image in the format specified by the `type` parameter (defaults to `png`). The returned image is in a resolution of 96dpi.\r\n\t\t@throws DOMError\r\n\t**/\r\n\tfunction toDataURL( type : String = \"\", ?encoderOptions : Dynamic ) : String;\r\n\t\r\n\t/**\r\n\t\tCreates a `Blob` object representing the image contained in the canvas; this file may be cached on the disk or stored in memory at the discretion of the user agent.\r\n\t\t@throws DOMError\r\n\t**/\r\n\tfunction toBlob( callback : Blob -> Void, type : String = \"\", ?encoderOptions : Dynamic ) : Void;\r\n\t\r\n\t/**\r\n\t\tReturns a `CanvasCaptureMediaStream` that is a real-time video capture of the surface of the canvas.\r\n\t\t@throws DOMError\r\n\t**/\r\n\tfunction captureStream( ?frameRate : Float ) : CanvasCaptureMediaStream;\r\n\t\r\n\t/** Shorthand for getting a CanvasRenderingContext2D. */\r\n\tinline function getContext2d( ?attribs : {} ) : CanvasRenderingContext2D {\r\n\t\treturn cast getContext(\"2d\", attribs);\r\n\t}\r\n\t/** Shorthand for getting a js.html.webgl.RenderingContext. */\r\n\tinline function getContextWebGL( ?attribs : js.html.webgl.ContextAttributes ) : js.html.webgl.RenderingContext {\r\n\t\treturn CanvasUtil.getContextWebGL(this, attribs);\r\n\t}\r\n\t/** Shorthand for getting a js.html.webgl.WebGL2RenderingContext. */\r\n\tinline function getContextWebGL2( ?attribs : js.html.webgl.ContextAttributes ) : js.html.webgl.WebGL2RenderingContext {\r\n\t\treturn this.getContext('webgl2', attribs);\r\n\t}\r\n}\r\n\r\nprivate class CanvasUtil {\r\n\tpublic static function getContextWebGL( canvas :CanvasElement, attribs :{} ) {\r\n\t\tfor (name in [\"webgl\", \"experimental-webgl\"]) {\r\n\t\t\tvar ctx = canvas.getContext(name, attribs);\r\n\t\t\tif (ctx != null) return ctx;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.lib;\r\n\r\n@:native(\"ArrayBuffer\")\r\nextern class ArrayBuffer {\r\n\tstatic function isView(value:Dynamic):Bool;\r\n\r\n\tfinal byteLength:Int;\r\n\r\n\t/** @throws DOMError */\r\n\tfunction new(length:Int):Void;\r\n\r\n\tfunction slice(begin:Int, ?end:Int):ArrayBuffer;\r\n}\r\n\r\n#if (js_es <= 5)\r\n@:ifFeature('js.lib.ArrayBuffer.slice')\r\nprivate class ArrayBufferCompat {\r\n\tstatic function sliceImpl(begin, ?end) {\r\n\t\tvar u = new js.lib.Uint8Array(js.Lib.nativeThis, begin, end == null ? null : (end - begin));\r\n\t\tvar resultArray = new js.lib.Uint8Array(u.byteLength);\r\n\t\tresultArray.set(u);\r\n\t\treturn resultArray.buffer;\r\n\t}\r\n\r\n\tstatic function __init__():Void\r\n\t\tuntyped {\r\n\t\t\t// IE10 ArrayBuffer.slice polyfill\r\n\t\t\tif (js.Syntax.code(\"ArrayBuffer\").prototype.slice == null)\r\n\t\t\t\tjs.Syntax.code(\"ArrayBuffer\").prototype.slice = sliceImpl;\r\n\t\t}\r\n}\r\n#end\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.lib;\r\n\r\nimport haxe.extern.Rest;\r\nimport haxe.DynamicAccess;\r\n\r\n/**\r\n\tThe `js.lib.Object` constructor creates an object wrapper.\r\n\r\n\tDocumentation [Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) by [Mozilla Contributors](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object$history), licensed under [CC-BY-SA 2.5](https://creativecommons.org/licenses/by-sa/2.5/).\r\n**/\r\n@:native(\"Object\")\r\nextern class Object {\r\n\t/**\r\n\t\tThe Object.assign() method is used to copy the values of all enumerable\r\n\t\town properties from one or more source objects to a target object. It\r\n\t\twill return the target object.\r\n\r\n\t\tNote: this is an ES2015 feature\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\r\n\t**/\r\n\tstatic function assign<TSource:{}, TDest:{}>(target:TSource, sources:Rest<{}>):TDest;\r\n\r\n\t/**\r\n\t\tThe Object.create() method create a new object, using an existing object\r\n\t\tto provide the newly created object's __proto__ . (see browser console\r\n\t\tfor visual evidence.)\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\r\n\t**/\r\n\t@:pure static function create<T>(proto:Null<{}>, ?propertiesObject:DynamicAccess<ObjectPropertyDescriptor<Any>>):T;\r\n\r\n\t/**\r\n\t\tThe Object.defineProperties() method defines new or modifies existing\r\n\t\tproperties directly on an object, returning the object.\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties\r\n\t**/\r\n\tstatic function defineProperties<T:{}>(obj:T, props:DynamicAccess<ObjectPropertyDescriptor<Any>>):T;\r\n\r\n\t/**\r\n\t\tThe static method Object.defineProperty() defines a new property directly\r\n\t\ton an object, or modifies an existing property on an object, and returns\r\n\t\tthe object.\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\r\n\t**/\r\n\t@:overload(function<T:{}, TProp>(obj:T, prop:Symbol, descriptor:ObjectPropertyDescriptor<TProp>):T {})\r\n\tstatic function defineProperty<T:{}, TProp>(obj:T, prop:String, descriptor:ObjectPropertyDescriptor<TProp>):T;\r\n\r\n\t/**\r\n\t\tThe Object.entries() method returns an array of a given object's own\r\n\t\tenumerable property [key, value] pairs, in the same order as that\r\n\t\tprovided by a for...in loop (the difference being that a for-in loop\r\n\t\tenumerates properties in the prototype chain as well).\r\n\r\n\t\tNote: this is an ES2017 feature\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\r\n\t**/\r\n\t@:pure static function entries<T:{}>(obj:T):Array<ObjectEntry>;\r\n\r\n\t/**\r\n\t\tThe Object.freeze() method freezes an object: that is, prevents new\r\n\t\tproperties from being added to it; prevents existing properties from\r\n\t\tbeing removed; and prevents existing properties, or their enumerability,\r\n\t\tconfigurability, or writability, from being changed, it also prevents the\r\n\t\tprototype from being changed.\r\n\t\tThe method returns the passed object.\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\r\n\t**/\r\n\tstatic function freeze<T:{}>(obj:T):T;\r\n\r\n\t/**\r\n\t\tReturns a new object from an iterable of key-value pairs\r\n\t\t(reverses Object.entries).\r\n\t**/\r\n\t@:pure static function fromEntries<T:{}>(iterable:Any):T;\r\n\r\n\t/**\r\n\t\tThe Object.getOwnPropertyDescriptor() method returns a property\r\n\t\tdescriptor for an own property (that is, one directly present on an\r\n\t\tobject and not in the object's prototype chain) of a given object.\r\n\r\n\t\tIn ES5, if the first argument to this method is not an object (a\r\n\t\tprimitive), then it will cause a TypeError. In ES2015, a non-object\r\n\t\tfirst argument will be coerced to an object at first.\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\r\n\t**/\r\n\t@:overload(function(obj:String, prop:Symbol):Null<ObjectPropertyDescriptor<String>> {})\r\n\t@:overload(function(obj:String, prop:String):Null<ObjectPropertyDescriptor<String>> {})\r\n\t@:overload(function<T>(target:Array<T>, propertyKey:Int):Null<ObjectPropertyDescriptor<T>> {})\r\n\t@:overload(function<T, TProp>(obj:T, prop:Symbol):Null<ObjectPropertyDescriptor<TProp>> {})\r\n\t@:pure static function getOwnPropertyDescriptor<T, TProp>(obj:T, prop:String):Null<ObjectPropertyDescriptor<TProp>>;\r\n\r\n\t/**\r\n\t\tThe Object.getOwnPropertyDescriptors() method returns all own property\r\n\t\tdescriptors of a given object.\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptors\r\n\t**/\r\n\t@:overload(function(target:String):DynamicAccess<ObjectPropertyDescriptor<String>> {})\r\n\t@:overload(function<T>(target:Array<T>):DynamicAccess<ObjectPropertyDescriptor<T>> {})\r\n\t@:pure static function getOwnPropertyDescriptors<T>(obj:T):DynamicAccess<ObjectPropertyDescriptor<Any>>;\r\n\r\n\t/**\r\n\t\tThe Object.getOwnPropertyNames() method returns an array of all\r\n\t\tproperties (including non-enumerable properties except for those which\r\n\t\tuse Symbol) found directly upon a given object.\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames\r\n\t**/\r\n\t@:pure static function getOwnPropertyNames<T:{}>(obj:T):Array<String>;\r\n\r\n\t/**\r\n\t\tThe Object.getOwnPropertySymbols() method returns an array of all symbol\r\n\t\tproperties found directly upon a given object.\r\n\r\n\t\tNote: this is an ES2015 feature\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols\r\n\t**/\r\n\t@:pure static function getOwnPropertySymbols<T:{}>(obj:T):Array<Symbol>;\r\n\r\n\t/**\r\n\t\tThe Object.getPrototypeOf() method returns the prototype (i.e. the value\r\n\t\tof the internal [[Prototype]] property) of the specified object.\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf\r\n\t**/\r\n\t@:pure static function getPrototypeOf<T:{}, TProto>(obj:T):TProto;\r\n\r\n\t/**\r\n\t\tThe Object.is() method determines whether two values are the same value.\r\n\r\n\t\tNote: this is an ES2015 feature\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\r\n\t**/\r\n\t@:native(\"is\") @:pure static function isSame<T:{}>(obj1:T, obj2:T):Bool;\r\n\r\n\t/**\r\n\t\tThe Object.is() method determines whether two values are the same value.\r\n\r\n\t\tNote: this is an ES2015 feature\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\r\n\t**/\r\n\t@:deprecated(\"Use Object.isSame()\")\r\n\t@:pure static function is<T:{}>(obj1:T, obj2:T):Bool;\r\n\r\n\t/**\r\n\t\tThe Object.isExtensible() method determines if an object is extensible\r\n\t\t(whether it can have new properties added to it).\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible\r\n\t**/\r\n\t@:pure static function isExtensible<T:{}>(obj:T):Bool;\r\n\r\n\t/**\r\n\t\tThe Object.isFrozen() determines if an object is frozen.\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen\r\n\t**/\r\n\t@:pure static function isFrozen<T:{}>(obj:T):Bool;\r\n\r\n\t/**\r\n\t\tThe Object.isSealed() method determines if an object is sealed.\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isSealed\r\n\t**/\r\n\t@:pure static function isSealed<T:{}>(obj:T):Bool;\r\n\r\n\t/**\r\n\t\tThe Object.keys() method returns an array of a given object's own\r\n\t\tenumerable properties, in the same order as that provided by a for...in\r\n\t\tloop (the difference being that a for-in loop enumerates properties in\r\n\t\tthe prototype chain as well).\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\r\n\t**/\r\n\t@:pure static function keys<T:{}>(obj:T):Array<String>;\r\n\r\n\t/**\r\n\t\tThe Object.preventExtensions() method prevents new properties from ever\r\n\t\tbeing added to an object (i.e. prevents future extensions to the object).\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions\r\n\t**/\r\n\tstatic function preventExtensions<T:{}>(obj:T):T;\r\n\r\n\t/**\r\n\t\tThe Object.seal() method seals an object, preventing new properties from\r\n\t\tbeing added to it and marking all existing properties as\r\n\t\tnon-configurable. Values of present properties can still be changed as\r\n\t\tlong as they are writable.\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/seal\r\n\t**/\r\n\tstatic function seal<T:{}>(obj:T):T;\r\n\r\n\t/**\r\n\t\tThe Object.setPrototypeOf() method sets the prototype (i.e., the internal\r\n\t\t[[Prototype]] property) of a specified object to another object or null.\r\n\r\n\t\tNote: this is an ES2015 feature\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf\r\n\t**/\r\n\tstatic function setPrototypeOf<T:{}, TProto:{}>(obj:T, proto:Null<TProto>):T;\r\n\r\n\t/**\r\n\t\tThe Object.values() method returns an array of a given object's own\r\n\t\tenumerable property values, in the same order as that provided by a\r\n\t\tfor...in loop (the difference being that a for-in loop enumerates\r\n\t\tproperties in the prototype chain as well).\r\n\r\n\t\tNote: this is an ES2017 feature\r\n\r\n\t\tSee https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values\r\n\t**/\r\n\t@:pure static function values<T:{}>(obj:T):Array<Any>;\r\n\r\n\t/**\r\n\t\tAllows the addition of properties to all objects of type Object.\r\n\t**/\r\n\tstatic var prototype(default, never):ObjectPrototype;\r\n\r\n\t/**\r\n\t\tThe Object constructor creates an object wrapper.\r\n\t**/\r\n\t@:pure function new(?value:Any);\r\n}\r\n\r\n/**\r\n\tType for\r\n\t@see <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object>\r\n**/\r\ntypedef ObjectPrototype = {\r\n\t/**\r\n\t\tReturns a boolean indicating whether an object contains the specified\r\n\t\tproperty as a direct property of that object and not inherited through\r\n\t\tthe prototype chain.\r\n\t**/\r\n\tvar hasOwnProperty(default, never):Function;\r\n\r\n\t/**\r\n\t\tReturns a boolean indicating whether the object this method is called\r\n\t\tupon is in the prototype chain of the specified object.\r\n\t**/\r\n\tvar isPrototypeOf(default, never):Function;\r\n\r\n\t/**\r\n\t\tReturns a boolean indicating if the internal enumerable attribute is set.\r\n\t**/\r\n\tvar propertyIsEnumerable(default, never):Function;\r\n\r\n\t/**\r\n\t\tCalls `toString()`.\r\n\t**/\r\n\tvar toLocaleString(default, never):Function;\r\n\r\n\t/**\r\n\t\tReturns a string representation of the object.\r\n\t**/\r\n\tvar toString(default, never):Function;\r\n\r\n\t/**\r\n\t\tReturns the primitive value of the specified object.\r\n\t**/\r\n\tvar valueOf(default, never):Function;\r\n}\r\n\r\n/**\r\n\t@see <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty>\r\n**/\r\ntypedef ObjectPropertyDescriptor<TProp> = {\r\n\t/**\r\n\t\t`true` if and only if the type of this property descriptor may be\r\n\t\tchanged and if the property may be deleted from the corresponding object.\r\n\t\tDefaults to `false`.\r\n\t**/\r\n\tvar ?configurable:Bool;\r\n\r\n\t/**\r\n\t\t`true` if and only if this property shows up during enumeration of the\r\n\t\tproperties on the corresponding object.\r\n\t\tDefaults to `false`.\r\n\t**/\r\n\tvar ?enumerable:Bool;\r\n\r\n\t/**\r\n\t\tThe value associated with the property.\r\n\t\tCan be any valid JavaScript value (number, object, function, etc).\r\n\t**/\r\n\tvar ?value:TProp;\r\n\r\n\t/**\r\n\t\t`true` if and only if the value associated with the property may be\r\n\t\tchanged with an assignment operator.\r\n\t\tDefaults to `false`.\r\n\t**/\r\n\tvar ?writable:Bool;\r\n\r\n\t/**\r\n\t\tA function which serves as a getter for the property, or `undefined` if\r\n\t\tthere is no getter. When the property is accessed, this function is\r\n\t\tcalled without arguments and with `this` set to the object through which\r\n\t\tthe property is accessed (this may not be the object on which the\r\n\t\tproperty is defined due to inheritance).\r\n\t\tThe return value will be used as the value of the property.\r\n\t**/\r\n\tvar ?get:Void->TProp;\r\n\r\n\t/**\r\n\t\tA function which serves as a setter for the property, or undefined if\r\n\t\tthere is no setter. When the property is assigned to, this function\r\n\t\tis called with one argument (the value being assigned to the property)\r\n\t\tand with `this` set to the object through which the property is assigned.\r\n\t**/\r\n\tvar ?set:TProp->Void;\r\n}\r\n\r\n/**\r\n\tKey/value access helper for `js.lib.Object.entries()`.\r\n**/\r\nabstract ObjectEntry(Array<Any>) {\r\n\tpublic var key(get, never):String;\r\n\tpublic var value(get, never):Any;\r\n\tinline function get_key():String\r\n\t\treturn this[0];\r\n\r\n\tinline function get_value():Any\r\n\t\treturn this[1];\r\n}\r\n","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.lib;\r\n\r\n/**\r\n\tThe `js.Set` object lets you store unique values of any type, whether\r\n\tprimitive values or object references.\r\n\r\n\tDocumentation [Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set) by [Mozilla Contributors](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set$history), licensed under [CC-BY-SA 2.5](https://creativecommons.org/licenses/by-sa/2.5/).\r\n**/\r\n@:native(\"Set\")\r\nextern class Set<T> {\r\n\t/**\r\n\t\tThe number of values in the `js.Set` object.\r\n\t**/\r\n\tvar size(default, null):Int;\r\n\r\n\t/**\r\n\t\tIf an iterable object is passed, all of its elements will be added to\r\n\t\tthe new `js.Set`.\r\n\t**/\r\n\t@:pure function new(?iterable:Any);\r\n\r\n\t/**\r\n\t\tReturns a boolean asserting whether an element is present with the given\r\n\t\tvalue in the `js.Set` object or not.\r\n\t**/\r\n\t@:pure function has(value:T):Bool;\r\n\r\n\t/**\r\n\t\tAppends a new element with the given value to the `js.Set` object.\r\n\t\tReturns the `js.Set` object.\r\n\t**/\r\n\tfunction add(value:T):Set<T>;\r\n\r\n\t/**\r\n\t\tRemoves the element associated to the value and returns the value that\r\n\t\t`has(value)` would have previously returned.\r\n\t\t`has(value)` will return `false` afterwards.\r\n\t**/\r\n\tfunction delete(value:T):Bool;\r\n\r\n\t/**\r\n\t\tRemoves all elements from the `js.Set` object.\r\n\t**/\r\n\tfunction clear():Void;\r\n\r\n\t/**\r\n\t\tCalls `callback` once for each key-value pair present in the `js.Set`\r\n\t\tobject, in insertion order.\r\n\r\n\t\tIf a `thisArg` parameter is provided to forEach, it will be used as the\r\n\t\t`this` value for each callback.\r\n\t**/\r\n\tfunction forEach(callback:(value:T, key:T, set:Set<T>) -> Void, ?thisArg:Any):Void;\r\n\r\n\t/**\r\n\t\tReturns a new `js.lib.Iterator` object that contains the keys for each element\r\n\t\tin the `js.Set` object in insertion order.\r\n\t**/\r\n\tfunction keys():js.lib.Iterator<T>;\r\n\r\n\t/**\r\n\t\tReturns a new `js.lib.Iterator` object that contains the values for each\r\n\t\telement in the `js.Set` object in insertion order.\r\n\t**/\r\n\tfunction values():js.lib.Iterator<T>;\r\n\r\n\t/**\r\n\t\tReturns a new `js.lib.Iterator` object that contains an array of\r\n\t\t`[value, value]` for each element in the `js.Set` object, in insertion\r\n\t\torder.\r\n\t\tThis is kept similar to the `js.Map` object, so that each entry has the\r\n\t\tsame value for its key and value here.\r\n\t**/\r\n\tfunction entries():js.lib.Iterator<KeyValue<T, T>>;\r\n\r\n\tinline function iterator():HaxeIterator<T> {\r\n\t\treturn new HaxeIterator(this.values());\r\n\t}\r\n\r\n\tinline function keyValueIterator():SetKeyValueIterator<T> {\r\n\t\treturn new SetKeyValueIterator(this);\r\n\t}\r\n}\r\n\r\n/**\r\n\tkey => value iterator for js.lib.Set, tracking the entry index for the key to match the behavior of haxe.ds.List\r\n**/\r\nclass SetKeyValueIterator<T> {\r\n\tfinal set:js.lib.Set<T>;\r\n\tfinal values:HaxeIterator<T>;\r\n\tvar index = 0;\r\n\r\n\tpublic inline function new(set:js.lib.Set<T>) {\r\n\t\tthis.set = set;\r\n\t\tthis.values = new HaxeIterator(set.values());\r\n\t}\r\n\r\n\tpublic inline function hasNext():Bool {\r\n\t\treturn values.hasNext();\r\n\t}\r\n\r\n\tpublic inline function next():{key:Int, value:T} {\r\n\t\treturn {\r\n\t\t\tkey: index++,\r\n\t\t\tvalue: values.next(),\r\n\t\t};\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2014-2020 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.node;\r\n\r\n/**\r\n\tKey/value access helper.\r\n**/\r\nabstract KeyValue<K, V>(Array<Any>) {\r\n\tpublic var key(get, never):K;\r\n\tpublic var value(get, never):V;\r\n\r\n\tinline function get_key():K {\r\n\t\treturn this[0];\r\n\t}\r\n\r\n\tinline function get_value():V {\r\n\t\treturn this[1];\r\n\t}\r\n}\r\n","/*\r\n * Copyright (C)2014-2020 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.node.stream;\r\n\r\nimport haxe.extern.EitherType;\r\nimport js.node.Stream;\r\nimport js.node.events.EventEmitter.Event;\r\nimport js.node.stream.Readable.IReadable;\r\n#if haxe4\r\nimport js.lib.Error;\r\nimport js.lib.Object;\r\nimport js.lib.Uint8Array;\r\n#else\r\nimport js.Error;\r\nimport js.html.Uint8Array;\r\n#end\r\n\r\n/**\r\n\tWritable streams are an abstraction for a destination to which data is written.\r\n\r\n\t@see https://nodejs.org/api/stream.html#stream_writable_streams\r\n**/\r\nenum abstract WritableEvent<T:haxe.Constraints.Function>(Event<T>) to Event<T> {\r\n\t/**\r\n\t\tThe `'close'` event is emitted when the stream and any of its underlying resources\r\n\t\t(a file descriptor, for example) have been closed.\r\n\t\tThe event indicates that no more events will be emitted, and no further computation will occur.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_event_close\r\n\t**/\r\n\tvar Close:WritableEvent<Void->Void> = \"close\";\r\n\r\n\t/**\r\n\t\tIf a call to stream.write(chunk) returns `false`, the `'drain'` event will be emitted\r\n\t\twhen it is appropriate to resume writing data to the stream.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_event_drain\r\n\t**/\r\n\tvar Drain:WritableEvent<Void->Void> = \"drain\";\r\n\r\n\t/**\r\n\t\tThe `'error'` event is emitted if an `error` occurred while writing or piping data.\r\n\t\tThe listener callback is passed a single Error argument when called.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_event_error\r\n\t**/\r\n\tvar Error:WritableEvent<Error->Void> = \"error\";\r\n\r\n\t/**\r\n\t\tThe `'finish'` event is emitted after the stream.end() method has been called,\r\n\t\tand all data has been flushed to the underlying system.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_event_finish\r\n\t**/\r\n\tvar Finish:WritableEvent<Void->Void> = \"finish\";\r\n\r\n\t/**\r\n\t\tThe `'pipe'` event is emitted when the stream.pipe() method is called on a readable stream,\r\n\t\tadding this writable to its set of destinations.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_event_pipe\r\n\t**/\r\n\tvar Pipe:WritableEvent<IReadable->Void> = \"pipe\";\r\n\r\n\t/**\r\n\t\tThe `'unpipe'` event is emitted when the stream.unpipe() method is called on a Readable stream,\r\n\t\tremoving this Writable from its set of destinations.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_event_unpipe\r\n\t**/\r\n\tvar Unpipe:WritableEvent<IReadable->Void> = \"unpipe\";\r\n}\r\n\r\n/**\r\n\tThe Writable stream interface is an abstraction for a destination that you are writing data to.\r\n\r\n\tExamples of writable streams include:\r\n\r\n\t\t- http requests, on the client\r\n\t\t- http responses, on the server\r\n\t\t- fs write streams\r\n\t\t- zlib streams\r\n\t\t- crypto streams\r\n\t\t- tcp sockets\r\n\t\t- child process stdin\r\n\t\t- process.stdout, process.stderr\r\n**/\r\n@:jsRequire(\"stream\", \"Writable\")\r\nextern class Writable<TSelf:Writable<TSelf>> extends Stream<TSelf> implements IWritable {\r\n\t/**\r\n\t\tThe `writable.cork()` method forces all written data to be buffered in memory.\r\n\t\tThe buffered data will be flushed when either the `stream.uncork()` or `stream.end()` methods are called.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_cork\r\n\t**/\r\n\tfunction cork():Void;\r\n\r\n\t/**\r\n\t\tDestroy the stream. Optionally emit an `'error'` event, and emit a `'close'` event unless `emitClose` is set in `false`.\r\n\t\tAfter this call, the writable stream has ended and subsequent calls to `write()` or `end()` will result in an `ERR_STREAM_DESTROYED` error.\r\n\t\tThis is a destructive and immediate way to destroy a stream. Previous calls to `write()` may not have drained, and may trigger an `ERR_STREAM_DESTROYED` error.\r\n\t\tUse `end()` instead of destroy if data should flush before close, or wait for the `'drain'` event before destroying the stream.\r\n\t\tImplementors should not override this method, but instead implement `writable._destroy()`.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_destroy_error\r\n\t**/\r\n\tfunction destroy(?error:Error):TSelf;\r\n\r\n\t/**\r\n\t\tIs `true` after `writable.destroy()` has been called.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_destroyed\r\n\t**/\r\n\tvar destroyed(default, null):Bool;\r\n\r\n\t/**\r\n\t\tCalling the `writable.end()` method signals that no more data will be written to the Writable.\r\n\t\tThe optional `chunk` and `encoding` arguments allow one final additional chunk of data to be written immediately before closing the stream.\r\n\t\tIf provided, the optional `callback` function is attached as a listener for the 'finish' event.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_end_chunk_encoding_callback\r\n\t**/\r\n\t@:overload(function(?callback:EitherType<Void->Void, Null<Error>->Void>):Void {})\r\n\tfunction end(chunk:Dynamic, ?encoding:String, ?callback:EitherType<Void->Void, Null<Error>->Void>):Void;\r\n\r\n\t/**\r\n\t\tThe `writable.setDefaultEncoding()` method sets the default `encoding` for a Writable stream.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_setdefaultencoding_encoding\r\n\t**/\r\n\tfunction setDefaultEncoding(encoding:String):TSelf;\r\n\r\n\t/**\r\n\t\tThe `writable.uncork()` method flushes all data buffered since `stream.cork()` was called.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_uncork\r\n\t**/\r\n\tfunction uncork():Void;\r\n\r\n\t/**\r\n\t\tIs `true` if it is safe to call `writable.write()`.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_writable\r\n\t**/\r\n\tvar writable(default, null):Bool;\r\n\r\n\t/**\r\n\t\tIs `true` after `writable.end()` has been called. This property\r\n\t\tdoes not indicate whether the data has been flushed, for this use\r\n\t\t`writable.writableFinished` instead.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_writableended\r\n\t**/\r\n\tvar writableEnded(default, null):Bool;\r\n\r\n\t/**\r\n\t\tIs set to `true` immediately before the 'finish' event is emitted.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_writablefinished\r\n\t**/\r\n\tvar writableFinished(default, null):Bool;\r\n\r\n\t/**\r\n\t\tReturn the value of `highWaterMark` passed when constructing this `Writable`.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_writablehighwatermark\r\n\t**/\r\n\tvar writablehighWaterMark(default, null):Int;\r\n\r\n\t/**\r\n\t\tThis property contains the number of bytes (or objects) in the queue ready to be written.\r\n\t\tThe value provides introspection data regarding the status of the `highWaterMark`.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_writablelength\r\n\t**/\r\n\tvar writableLength(default, null):Int;\r\n\r\n\t/**\r\n\t\tGetter for the property `objectMode` of a given `Writable` stream.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_writableobjectmode\r\n\t**/\r\n\tvar writableObjectMode(default, null):Bool;\r\n\r\n\t/**\r\n\t\tThe `writable.write()` method writes some data to the stream, and calls the supplied `callback` once the data has been fully handled.\r\n\t\tIf an error occurs, the `callback` may or may not be called with the error as its first argument.\r\n\t\tTo reliably detect write errors, add a listener for the `'error'` event.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_write_chunk_encoding_callback\r\n\t**/\r\n\tfunction write(chunk:Dynamic, ?encoding:String, ?callback:EitherType<Void->Void, Null<Error>->Void>):Bool;\r\n\r\n\t// --------- API for implementing a Writable Stream -----------------------\r\n\r\n\t/**\r\n\t\t@see https://nodejs.org/api/stream.html#stream_constructor_new_stream_writable_options\r\n\t**/\r\n\tfunction new(?options:WritableNewOptionsAdapter);\r\n\r\n\t/**\r\n\t\tAll `Writable` stream implementations must provide a `writable._write()` method to send data to the underlying resource.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_write_chunk_encoding_callback_1\r\n\t**/\r\n\tprivate function _write(chunk:Dynamic, encoding:String, callback:Null<Error>->Void):Void;\r\n\r\n\t/**\r\n\t\tThis function **MUST NOT** be called by application code directly.\r\n\t\tIt should be implemented by child classes, and called by the internal `Writable` class methods only.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_writev_chunks_callback\r\n\t**/\r\n\tprivate function _writev(chunks:Array<Chunk>, callback:Null<Error>->Void):Void;\r\n\r\n\t/**\r\n\t\tThe `_destroy()` method is called by `writable.destroy()`.\r\n\t\tIt can be overridden by child classes but it **must not** be called directly.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_destroy_err_callback\r\n\t**/\r\n\tprivate function _destroy(err:Null<Error>, callback:Null<Error>->Void):Void;\r\n\r\n\t/**\r\n\t\tThe `_final()` method **must not** be called directly.\r\n\t\tt may be implemented by child classes, and if so, will be called by the internal `Writable` class methods only.\r\n\r\n\t\t@see https://nodejs.org/api/stream.html#stream_writable_final_callback\r\n\t**/\r\n\tprivate function _final(callback:Null<Error>->Void):Void;\r\n\r\n\t// --------- TTY module API  ----------------------------------------------\r\n\r\n\t/**\r\n\t\tTerminal write streams (i.e. process.stdout) have this property set to true.\r\n\t\tIt is false for any other write streams.\r\n\r\n\t\t@see https://nodejs.org/api/tty.html#tty_writestream_istty\r\n\t**/\r\n\tvar isTTY(default, null):Bool;\r\n}\r\n\r\n/**\r\n\t@see https://nodejs.org/api/stream.html#stream_constructor_new_stream_writable_options\r\n**/\r\ntypedef WritableNewOptions = {\r\n\t/**\r\n\t\t`highWaterMark` <number> Buffer level when stream.write() starts returning `false`. Default: `16384` (16kb), or 16 for `objectMode` streams.\r\n\t**/\r\n\t@:optional var highWaterMark:Int;\r\n\r\n\t/**\r\n\t\t`decodeStrings` <boolean> Whether to encode `string`s passed to stream.write() to `Buffer`s (with the encoding specified in the stream.write() call) before passing them to stream._write().\r\n\t\tOther types of data are not converted (i.e. `Buffer`s are not decoded into `string`s). Setting to false will prevent strings from being converted.\r\n\t\tDefault: `true`.\r\n\t**/\r\n\t@:optional var decodeStrings:Bool;\r\n\r\n\t/**\r\n\t\t`defaultEncoding` <string> The default encoding that is used when no encoding is specified as an argument to stream.write().\r\n\t\tDefault: `'utf8'`.\r\n\t**/\r\n\t@:optional var defaultEncoding:String;\r\n\r\n\t/**\r\n\t\t`objectMode` <boolean> Whether or not the stream.write(anyObj) is a valid operation. When set,\r\n\t\tit becomes possible to write JavaScript values other than string, `Buffer` or `Uint8Array` if supported by the stream implementation.\r\n\t\tDefault: `false`.\r\n\t**/\r\n\t@:optional var objectMode:Bool;\r\n\r\n\t/**\r\n\t\t`emitClose` <boolean> Whether or not the stream should emit `'close'` after it has been destroyed.\r\n\t\tDefault: `true`.\r\n\t**/\r\n\t@:optional var emitClose:Bool;\r\n\r\n\t/**\r\n\t\t`write` <Function> Implementation for the stream._write() method.\r\n\t**/\r\n\t#if haxe4\r\n\t@:optional var write:(chunk:Dynamic, encoding:String, callback:Null<Error>->Void) -> Void;\r\n\t#else\r\n\t@:optional var write:Dynamic->String->Null<Error>->Void->Void;\r\n\t#end\r\n\r\n\t/**\r\n\t\t`writev` <Function> Implementation for the stream._writev() method.\r\n\t**/\r\n\t#if haxe4\r\n\t@:optional var writev:(chunks:Array<Chunk>, callback:Null<Error>->Void) -> Void;\r\n\t#else\r\n\t@:optional var writev:Array<Chunk>->(Null<Error>->Void)->Void;\r\n\t#end\r\n\r\n\t/**\r\n\t\t`destroy` <Function> Implementation for the stream._destroy() method.\r\n\t**/\r\n\t#if haxe4\r\n\t@:optional var destroy:(error:Null<Error>, callback:Null<Error>->Void) -> Void;\r\n\t#else\r\n\t@:optional var destroy:Null<Error>->(Null<Error>->Void)->Void;\r\n\t#end\r\n\r\n\t/**\r\n\t\t`final` <Function> Implementation for the stream._final() method.\r\n\t**/\r\n\t// TODO @native in typedef cannot work now\r\n\t// @:native(\"final\")\r\n\t#if haxe4\r\n\t@:optional var final_:(error:Null<Error>) -> Void;\r\n\t#else\r\n\t@:optional var final_:Null<Error>->Void;\r\n\t#end\r\n\r\n\t/**\r\n\t\t`autoDestroy` <boolean> Whether this stream should automatically call .destroy() on itself after ending. Default: false.\r\n\t**/\r\n\t@:optional var autoDestroy:Bool;\r\n}\r\n\r\n@:forward\r\nabstract WritableNewOptionsAdapter(WritableNewOptions) {\r\n\t@:from\r\n\tpublic static function from(options:WritableNewOptions):WritableNewOptionsAdapter {\r\n\t\tif (!Reflect.hasField(options, \"final\")) {\r\n\t\t\t#if haxe4\r\n\t\t\tObject.defineProperty(options, \"final\", {get: function() return options.final_});\r\n\t\t\t#else\r\n\t\t\tuntyped __js__(\"Object.defineProperty({0}, {1}, {2})\", options, \"final\", {get: function() return options.final_});\r\n\t\t\t#end\r\n\t\t}\r\n\t\treturn cast options;\r\n\t}\r\n}\r\n\r\n/**\r\n\tWritable interface used for type parameter constraints.\r\n\tSee `Writable` for actual class documentation.\r\n**/\r\n@:remove\r\nextern interface IWritable extends IStream {\r\n\tfunction cork():Void;\r\n\r\n\tfunction destroy(?error:Error):IWritable;\r\n\r\n\tvar destroyed(default, null):Bool;\r\n\r\n\t@:overload(function(?callback:EitherType<Void->Void, Null<Error>->Void>):Void {})\r\n\tfunction end(chunk:Dynamic, ?encoding:String, ?callback:EitherType<Void->Void, Null<Error>->Void>):Void;\r\n\r\n\tfunction setDefaultEncoding(encoding:String):IWritable;\r\n\r\n\tfunction uncork():Void;\r\n\r\n\tvar writable(default, null):Bool;\r\n\r\n\tvar writableEnded(default, null):Bool;\r\n\r\n\tvar writableFinished(default, null):Bool;\r\n\r\n\tvar writablehighWaterMark(default, null):Int;\r\n\r\n\tvar writableLength(default, null):Int;\r\n\r\n\tvar writableObjectMode(default, null):Bool;\r\n\r\n\tfunction write(chunk:Dynamic, ?encoding:String, ?callback:EitherType<Void->Void, Null<Error>->Void>):Bool;\r\n\r\n\tvar isTTY(default, null):Bool;\r\n}\r\n\r\ntypedef Chunk = {\r\n\tvar chunk:Dynamic;\r\n\tvar encoding:String;\r\n}\r\n","/*\r\n * Copyright (C)2014-2020 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage js.node.url;\r\n\r\nimport js.node.Iterator;\r\n\r\n/**\r\n\tThe `URLSearchParams` API provides read and write access to the query of a `URL`.\r\n\tThe `URLSearchParams` class can also be used standalone with one of the four following constructors.\r\n\tThe `URLSearchParams` class is also available on the global object.\r\n\r\n\tThe WHATWG `URLSearchParams` interface and the `querystring` module have similar purpose,\r\n\tbut the purpose of the querystring module is more general, as it allows the customization of delimiter characters (`&` and` `=`). On the other hand, this API is designed purely for URL query strings.\r\n**/\r\n@:jsRequire(\"url\", \"URLSearchParams\")\r\nextern class URLSearchParams {\r\n\t@:overload(function(init:String):Void {})\r\n\t@:overload(function(obj:Dynamic<String>):Void {})\r\n\t@:overload(function(array:Array<URLSearchParamsEntry>):Void {})\r\n\t@:overload(function(iter:Iterator<URLSearchParamsEntry>):Void {})\r\n\tfunction new():Void;\r\n\r\n\t/**\r\n\t\tAppend a new name-value pair to the query string.\r\n\t**/\r\n\tfunction append(name:String, value:String):Void;\r\n\r\n\t/**\r\n\t\tRemove all name-value pairs whose name is `name`.\r\n\t**/\r\n\tfunction delete(name:String):Void;\r\n\r\n\t/**\r\n\t\tReturns an ES6 `Iterator` over each of the name-value pairs in the query.\r\n\t\tEach item of the iterator is a JavaScript `Array`.\r\n\t\tThe first item of the `Array` is the `name`, the second item of the `Array` is the `value`.\r\n\t**/\r\n\tfunction entries():Iterator<URLSearchParamsEntry>;\r\n\r\n\t/**\r\n\t\tIterates over each name-value pair in the query and invokes the given function.\r\n\t**/\r\n\t#if haxe4\r\n\t@:overload(function(fn:(value:String) -> Void, ?thisArg:Dynamic):Void {})\r\n\t@:overload(function(fn:(value:String, name:String) -> Void, ?thisArg:Dynamic):Void {})\r\n\tfunction forEach(fn:(value:String, name:String, searchParams:URLSearchParams) -> Void, ?thisArg:Dynamic):Void;\r\n\t#else\r\n\t@:overload(function(fn:String->Void, ?thisArg:Dynamic):Void {})\r\n\t@:overload(function(fn:String->String->Void, ?thisArg:Dynamic):Void {})\r\n\tfunction forEach(fn:String->String->URLSearchParams->Void, ?thisArg:Dynamic):Void;\r\n\t#end\r\n\r\n\t/**\r\n\t\tReturns the value of the first name-value pair whose name is `name`.\r\n\t\tIf there are no such pairs, `null` is returned.\r\n\t**/\r\n\tfunction get(name:String):String;\r\n\r\n\t/**\r\n\t\tReturns the values of all name-value pairs whose name is `name`.\r\n\t\tIf there are no such pairs, an empty array is returned.\r\n\t**/\r\n\tfunction getAll(name:String):Array<String>;\r\n\r\n\t/**\r\n\t\tReturns `true` if there is at least one name-value pair whose name is `name`.\r\n\t**/\r\n\tfunction has(name:String):Bool;\r\n\r\n\t/**\r\n\t\tReturns an ES6 `Iterator` over the names of each name-value pair.\r\n\t**/\r\n\tfunction keys():Iterator<String>;\r\n\r\n\t/**\r\n\t\tSets the value in the `URLSearchParams` object associated with `name` to `value`.\r\n\t\tIf there are any pre-existing name-value pairs whose names are `name`, set the first such pair's value to `value` and remove all others.\r\n\t\tIf not, append the name-value pair to the query string.\r\n\t**/\r\n\tfunction set(name:String, value:String):Void;\r\n\r\n\t/**\r\n\t\tSort all existing name-value pairs in-place by their names. Sorting is done with a [stable sorting algorithm](https://en.wikipedia.org/wiki/Sorting_algorithm#Stability),\r\n\t\tso relative order between name-value pairs with the same name is preserved.\r\n\r\n\t\tThis method can be used, in particular, to increase cache hits.\r\n\t**/\r\n\tfunction sort():Void;\r\n\r\n\t/**\r\n\t\tReturns the search parameters serialized as a string, with characters percent-encoded where necessary.\r\n\t**/\r\n\tfunction toString():String;\r\n\r\n\t/**\r\n\t\tReturns an ES6 `Iterator` over the values of each name-value pair.\r\n\t**/\r\n\tfunction values():Iterator<String>;\r\n}\r\n\r\n/**\r\n\tThe name-value pair access helper for `js.node.url.URLSearchParams.entries()`.\r\n**/\r\nabstract URLSearchParamsEntry(Array<String>) {\r\n\tpublic var name(get, never):String;\r\n\tpublic var value(get, never):String;\r\n\r\n\tpublic function new(name:String, value:String) {\r\n\t\tthis = [name, value];\r\n\t}\r\n\r\n\tinline function get_name():String {\r\n\t\treturn this[0];\r\n\t}\r\n\r\n\tinline function get_value():String {\r\n\t\treturn this[1];\r\n\t}\r\n}\r\n","package logging;\r\n\r\nimport haxe.Timer;\r\nimport logging.adaptors.NullLogAdaptor;\r\nimport logging.formatters.DefaultFormatter;\r\n\r\nusing StringTools;\r\n\r\nclass LogManager {\r\n    private static var _instance:LogManager = null;\r\n    public static var instance(get, null):LogManager;\r\n    private static function get_instance():LogManager {\r\n        if (_instance == null) {\r\n            _instance = new LogManager();\r\n        }\r\n        return _instance;\r\n    }\r\n    \r\n    ///////////////////////////////////////////////////////////////////////////\r\n    // instance\r\n    ///////////////////////////////////////////////////////////////////////////\r\n    private var _queue:Array<LogData> = [];\r\n    private var _adaptors:Array<ILogAdaptor> = [];\r\n\r\n    public var StartDelay:Int = 50;\r\n\r\n    private function new() {\r\n    }\r\n\r\n    private var _started:Bool = false;\r\n    private function start() {\r\n        if (_started == true) {\r\n            return;\r\n        }\r\n\r\n        // lets start with a very slight delay, in case a bunch of other adaptors are added (might need revision here)\r\n        _started = true;\r\n        Timer.delay(() -> {\r\n            if (_adaptors.length == 0) { // lets add at least one adaptor so the log queue doesnt build up\r\n                _adaptors.push(new NullLogAdaptor());\r\n            }\r\n            processQueue();\r\n        }, StartDelay);\r\n    }\r\n\r\n    public function log(data:LogData) {\r\n        _queue.push(data);\r\n        processQueue();\r\n    }\r\n\r\n    private function processQueue() {\r\n        if (_adaptors.length == 0) {\r\n            return;\r\n        }\r\n        while (_queue.length > 0) {\r\n            var data = _queue.shift();\r\n            processLogData(data);\r\n        }\r\n    }\r\n\r\n    private var _shouldLogDebug:Null<Bool> = null;\r\n    public var shouldLogDebug(get, null):Bool;\r\n    private function get_shouldLogDebug():Bool {\r\n        if (_shouldLogDebug != null) {\r\n            return _shouldLogDebug;\r\n        }\r\n\r\n        _shouldLogDebug = willRespondToLevel(LogLevel.Debug);\r\n        return _shouldLogDebug;\r\n    }\r\n\r\n    private var _shouldLogData:Null<Bool> = null;\r\n    public var shouldLogData(get, null):Bool;\r\n    private function get_shouldLogData():Bool {\r\n        if (_shouldLogData != null) {\r\n            return _shouldLogData;\r\n        }\r\n\r\n        _shouldLogData = willRespondToLevel(LogLevel.Data);\r\n        return _shouldLogData;\r\n    }\r\n\r\n    private var _shouldLogWarnings:Null<Bool> = null;\r\n    public var shouldLogWarnings(get, null):Bool;\r\n    private function get_shouldLogWarnings():Bool {\r\n        if (_shouldLogWarnings != null) {\r\n            return _shouldLogWarnings;\r\n        }\r\n\r\n        _shouldLogWarnings = willRespondToLevel(LogLevel.Warning);\r\n        return _shouldLogWarnings;\r\n    }\r\n\r\n    private function willRespondToLevel(level:LogLevel):Bool {\r\n        var willRespond = false;\r\n        for (a in _adaptors) {\r\n            if (a.config.disabled) {\r\n                continue;\r\n            }\r\n\r\n            if (a.config.levels == null) {\r\n                willRespond = true;\r\n                continue;\r\n            }\r\n\r\n            if (a.config.levels.contains(level)) {\r\n                willRespond = true;\r\n                break;\r\n            }\r\n        }\r\n        return willRespond;\r\n    }\r\n\r\n    private function processLogData(data:LogData) {\r\n        for (a in _adaptors) {\r\n            var allow = !a.config.disabled;\r\n\r\n            if (allow && a.config.levels != null) {\r\n                if (!a.config.levels.contains(data.level)) {\r\n                    allow = false;\r\n                }\r\n            }\r\n            if (allow && data.ref != null && a.config.packages != null) {\r\n                for (p in a.config.packages) {\r\n                    if (!data.ref.startsWith(p)) {\r\n                        allow = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (allow == true) {\r\n                a.processLogData(data);\r\n            }\r\n        }\r\n    }\r\n\r\n    public function addAdaptor(adaptor:ILogAdaptor) {\r\n        if (adaptor.config.formatter == null) {\r\n            adaptor.config.formatter = new DefaultFormatter();\r\n        }\r\n        _adaptors.push(adaptor);\r\n        _shouldLogDebug = null;\r\n        _shouldLogWarnings = null;\r\n        start();\r\n    }\r\n\r\n    public function clearAdaptors() {\r\n        _adaptors = [];\r\n        _adaptors.push(new NullLogAdaptor());\r\n    }\r\n}","package logging.adaptors;\r\n\r\nclass NullLogAdaptor implements ILogAdaptor {\r\n    private var _config:BaseLogAdaptorConfig;\r\n    \r\n    public function new() {\r\n        _config = {};\r\n    }\r\n\r\n    public var config(get, null):BaseLogAdaptorConfig;\r\n    private function get_config():BaseLogAdaptorConfig {\r\n        return _config;\r\n    }\r\n\r\n    public function processLogData(data:LogData) {\r\n    }\r\n}","package logging.formatters;\r\n\r\nusing StringTools;\r\n\r\nclass DefaultFormatter implements ILogLineFormatter {\r\n    public function new() {\r\n    }\r\n\r\n    public function format(data:LogData, buffer:StringBuf) {\r\n        buffer.add(data.timestamp);\r\n        buffer.add(\" > \");\r\n        buffer.add(cast(data.level, String).toUpperCase().rpad(\" \", 11));\r\n        buffer.add(\" > \");\r\n\r\n        if (data.ref != null) {\r\n            buffer.add(data.ref);\r\n            buffer.add(\" > \");\r\n        }\r\n\r\n        if (data.instanceId != null) {\r\n            buffer.add(data.instanceId);\r\n            buffer.add(\" > \");\r\n        }\r\n\r\n        if (data.message != null) {\r\n            buffer.add(data.message);\r\n        }\r\n    }\r\n\r\n    public function formatObject(obj:Any):String {\r\n        if (obj == null) {\r\n            return \"\";\r\n        }\r\n        switch (Type.typeof(obj)) {\r\n            case TClass(haxe.ds.StringMap):\r\n                var o:Dynamic = {};\r\n                var sm = cast(obj, haxe.ds.StringMap<Dynamic>);\r\n                for (key in sm.keys()) {\r\n                    Reflect.setField(o, key, sm.get(key));\r\n                }\r\n                return haxe.Json.stringify(o);\r\n            case _:\r\n        }\r\n        return Std.string(obj);\r\n    }\r\n}\r\n","package mysql;\r\n\r\nclass MySqlError {\r\n    public var name:String;\r\n    public var message:String;\r\n\r\n    public function new(name:String, message:String) {\r\n        this.name = name;\r\n        this.message = message;\r\n    }\r\n}","package mysql;\r\n\r\nclass MySqlResult<T> {\r\n    public var connection:DatabaseConnection;\r\n    public var data:T;\r\n    public var lastInsertId:Null<Int> = null;\r\n    public var affectedRows:Null<Int> = null;\r\n\r\n    public function new(connection:DatabaseConnection, data:T) {\r\n        this.connection = connection;\r\n        this.data = data;\r\n    }\r\n}","package mysql.impl;\r\n\r\nimport promises.Promise;\r\n\r\nclass DatabaseConnectionBase {\r\n    public var connectionDetails:ConnectionDetails = null;\r\n\r\n    public var autoReconnect:Bool = false;\r\n    public var autoReconnectIntervalMS:Int = 1000;\r\n    public var replayQueriesOnReconnection:Bool = false;\r\n\r\n    public function new(details:ConnectionDetails) {\r\n        connectionDetails = details;\r\n        if (connectionDetails.port == null) {\r\n            connectionDetails.port = 3306;\r\n        }\r\n    }\r\n\r\n    public function open():Promise<MySqlResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            reject(new MySqlError(\"not implemented\", 'function \"${Type.getClassName(Type.getClass(this))}::open\" not implemented'));\r\n        });\r\n    }\r\n\r\n    public function exec(sql:String):Promise<MySqlResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            reject(new MySqlError(\"not implemented\", 'function \"${Type.getClassName(Type.getClass(this))}::exec\" not implemented'));\r\n        });\r\n    }\r\n\r\n    public function get(sql:String, ?param:Dynamic):Promise<MySqlResult<Dynamic>> {\r\n        return new Promise((resolve, reject) -> {\r\n            reject(new MySqlError(\"not implemented\", 'function \"${Type.getClassName(Type.getClass(this))}::get\" not implemented'));\r\n        });\r\n    }\r\n\r\n    public function query(sql:String, ?param:Dynamic):Promise<MySqlResult<Array<Dynamic>>> {\r\n        return new Promise((resolve, reject) -> {\r\n            reject(new MySqlError(\"not implemented\", 'function \"${Type.getClassName(Type.getClass(this))}::query\" not implemented'));\r\n        });\r\n    }\r\n\r\n    public function all(sql:String, ?param:Dynamic):Promise<MySqlResult<Array<Dynamic>>> {\r\n        return new Promise((resolve, reject) -> {\r\n            reject(new MySqlError(\"not implemented\", 'function \"${Type.getClassName(Type.getClass(this))}::all\" not implemented'));\r\n        });\r\n    }\r\n\r\n    public function close() {        \r\n    }\r\n\r\n    private function checkForDisconnection(error:String, call:CacheCall, sql:String, param:Dynamic, resolve:Dynamic->Void, reject:Dynamic->Void) {\r\n        if (!autoReconnect) {\r\n            return false;\r\n        }\r\n        var isDisconnectedError = false;\r\n        if (error.toLowerCase() == \"can't add new command when connection is in closed state\") {\r\n            isDisconnectedError = true;\r\n        } else if (error.toLowerCase().indexOf(\"failed to send packet\") != -1)  {\r\n            isDisconnectedError = true;\r\n        }\r\n        if (isDisconnectedError) {\r\n            cacheCall({\r\n                call: call,\r\n                sql: sql,\r\n                param: param,\r\n                resolve: resolve,\r\n                reject: reject\r\n            });\r\n            haxe.Timer.delay(attemptReconnect, autoReconnectIntervalMS);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private var _cachedCalls:Array<CacheItem> = [];\r\n    private function cacheCall(item:CacheItem) {\r\n        if (!replayQueriesOnReconnection) {\r\n            return;\r\n        }\r\n        _cachedCalls.push(item);\r\n    }\r\n\r\n    private function attemptReconnect() {\r\n        open().then(_ -> {\r\n            replayCachedCalls(_cachedCalls);\r\n        }, error -> {\r\n            haxe.Timer.delay(attemptReconnect, autoReconnectIntervalMS);\r\n        });\r\n    }\r\n\r\n    private function replayCachedCalls(cachedCalls:Array<CacheItem>) {\r\n        if (cachedCalls.length == 0) {\r\n            return;\r\n        }\r\n\r\n        var item = cachedCalls.shift();\r\n        switch (item.call) {\r\n            case CALL_GET:\r\n                get(item.sql, item.param).then(result -> {\r\n                    item.resolve(result);\r\n                    replayCachedCalls(cachedCalls);\r\n                }, error -> {\r\n                    item.reject(error);\r\n                    replayCachedCalls(cachedCalls);\r\n                });\r\n            case CALL_QUERY:\r\n                query(item.sql, item.param).then(result -> {\r\n                    item.resolve(result);\r\n                    replayCachedCalls(cachedCalls);\r\n                }, error -> {\r\n                    item.reject(error);\r\n                    replayCachedCalls(cachedCalls);\r\n                });\r\n            case CALL_ALL:\r\n                all(item.sql, item.param).then(result -> {\r\n                    item.resolve(result);\r\n                    replayCachedCalls(cachedCalls);\r\n                }, error -> {\r\n                    item.reject(error);\r\n                    replayCachedCalls(cachedCalls);\r\n                });\r\n            case CALL_EXEC:            \r\n                exec(item.sql).then(result -> {\r\n                    item.resolve(result);\r\n                    replayCachedCalls(cachedCalls);\r\n                }, error -> {\r\n                    item.reject(error);\r\n                    replayCachedCalls(cachedCalls);\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\nprivate enum CacheCall {\r\n    CALL_EXEC;\r\n    CALL_GET;\r\n    CALL_QUERY;\r\n    CALL_ALL;\r\n}\r\n\r\nprivate typedef CacheItem = {\r\n    var call:CacheCall;\r\n    var sql:String;\r\n    var param:Dynamic;\r\n    var resolve:Dynamic->Void;\r\n    var reject:Dynamic->Void;\r\n}","package mysql.impl.nodejs;\r\n\r\nimport promises.Promise;\r\nimport mysql.externs.nodejs.MySql2;\r\nimport js.node.Buffer;\r\nimport mysql.externs.nodejs.Connection as NativeConnection;\r\nimport logging.Logger;\r\n\r\nclass DatabaseConnection extends DatabaseConnectionBase {\r\n    private static var log = new Logger(DatabaseConnection, true);\r\n\r\n    private var _nativeConnection:NativeConnection = null;\r\n\r\n    public override function open():Promise<MySqlResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            log.debug(\"creating connection:\", {\r\n                host: this.connectionDetails.host,\r\n                user: this.connectionDetails.user,\r\n                password: this.connectionDetails.pass,\r\n                database: this.connectionDetails.database,\r\n                rowsAsArray: false\r\n            });\r\n            _nativeConnection = MySql2.createConnection({\r\n                host: this.connectionDetails.host,\r\n                user: this.connectionDetails.user,\r\n                password: this.connectionDetails.pass,\r\n                database: this.connectionDetails.database,\r\n                rowsAsArray: false\r\n            });\r\n\r\n            _nativeConnection.connect(error -> {\r\n                if (error != null) {\r\n                    reject(new MySqlError(\"Error\", error.message));\r\n                    return;\r\n                }\r\n\r\n                resolve(new MySqlResult(this, true));\r\n            });\r\n        });\r\n    }\r\n    \r\n    public override function exec(sql:String):Promise<MySqlResult<Bool>> {\r\n        return new Promise((resolve, reject) -> {\r\n            log.data(\"exec:\", sql);\r\n            _nativeConnection.execute(sql, (error, rows, fields) -> {\r\n                if (error != null) {\r\n                    if (!checkForDisconnection(error.message, CALL_EXEC, sql, null, resolve, reject)) {\r\n                        reject(new MySqlError(\"Error\", error.message));\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                var result:Dynamic = null;\r\n                if (rows is Array) {\r\n                    result = rows[0];\r\n                } else {\r\n                    result = rows;\r\n                }\r\n                var mysqlResult = new MySqlResult(this, true);\r\n                if (result != null) {\r\n                    mysqlResult.affectedRows = result.affectedRows;\r\n                    mysqlResult.lastInsertId = result.insertId;\r\n                }\r\n                resolve(mysqlResult);\r\n            });\r\n        });\r\n    }\r\n\r\n    public override function get(sql:String, ?param:Dynamic):Promise<MySqlResult<Dynamic>> {\r\n        return new Promise((resolve, reject) -> {\r\n            log.data(\"get:\", [sql, param]);\r\n            _nativeConnection.execute(sql, params(param), (error, rows, fields) -> {\r\n                if (error != null) {\r\n                    if (!checkForDisconnection(error.message, CALL_GET, sql, param, resolve, reject)) {\r\n                        reject(new MySqlError(\"Error\", error.message));\r\n                    }\r\n                    return;\r\n                }\r\n                /*\r\n                if (rows == null || rows.length == 0) {\r\n                    resolve(new MySqlResult(this, null));\r\n                }\r\n                */\r\n                var result:Dynamic = null;\r\n                if (rows is Array) {\r\n                    result = rows[0];\r\n                } else {\r\n                    result = rows;\r\n                }\r\n                convertBuffersToBytes(rows);\r\n                var mysqlResult = new MySqlResult(this, result);\r\n                if (result != null) {\r\n                    mysqlResult.affectedRows = result.affectedRows;\r\n                    mysqlResult.lastInsertId = result.insertId;\r\n                }\r\n                resolve(mysqlResult);\r\n            });\r\n        });\r\n    }\r\n\r\n    public override function query(sql:String, ?param:Dynamic):Promise<MySqlResult<Array<Dynamic>>> {\r\n        return new Promise((resolve, reject) -> {\r\n            log.data(\"query:\", [sql, param]);\r\n            _nativeConnection.query(sql, params(param), (error, rows, fields) -> {\r\n                if (error != null) {\r\n                    if (!checkForDisconnection(error.message, CALL_QUERY, sql, param, resolve, reject)) {\r\n                        reject(new MySqlError(\"Error\", error.message));\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                convertBuffersToBytes(rows);\r\n                resolve(new MySqlResult(this, rows));\r\n            });\r\n        });\r\n    }\r\n\r\n    public override function all(sql:String, ?param:Dynamic):Promise<MySqlResult<Array<Dynamic>>> {\r\n        return new Promise((resolve, reject) -> {\r\n            log.data(\"all:\", [sql, param]);\r\n            _nativeConnection.execute(sql, params(param), (error, rows, fields) -> {\r\n                if (error != null) {\r\n                    if (!checkForDisconnection(error.message, CALL_ALL, sql, param, resolve, reject)) {\r\n                        reject(new MySqlError(\"Error\", error.message));\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                if (rows == null) {\r\n                    resolve(new MySqlResult(this, []));\r\n                }\r\n\r\n                convertBuffersToBytes(rows);\r\n                resolve(new MySqlResult(this, rows));\r\n            });\r\n        });\r\n    }\r\n\r\n    public override function close() {\r\n        _nativeConnection.end();\r\n    }\r\n\r\n    private function params(param:Dynamic):Array<Dynamic> {\r\n        return switch(Type.typeof(param)) {\r\n            case TClass(Array):\r\n                param;\r\n            case TNull:\r\n                null;\r\n            case _:\r\n                [param];\r\n        }\r\n    }\r\n\r\n    private function convertBuffersToBytes(data:Dynamic) {\r\n        if ((data is Array)) {\r\n            var array:Array<Dynamic> = data;\r\n            for (item in array) {\r\n                convertBuffersToBytes(item);\r\n            }\r\n        } else {\r\n            for (f in Reflect.fields(data)) {\r\n                var v = Reflect.field(data, f);\r\n                if ((v is Buffer)) {\r\n                    var buffer:Buffer = cast v;\r\n                    var bytes = buffer.hxToBytes();\r\n                    Reflect.setField(data, f, bytes);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","package promises;\r\n\r\nclass PromiseUtils {\r\n    /*\r\n    Use .bind to return functions that create a promise, eg:\r\n        PromiseUtils.runSequentially([\r\n            someFunctionThatReturnsAPromiseAndTakesAnInt.bind(111),\r\n            someFunctionThatReturnsAPromiseAndTakesAnInt.bind(222),\r\n            someFunctionThatReturnsAPromiseAndTakesAnInt.bind(333),\r\n            someFunctionThatReturnsAPromiseAndTakesAnInt.bind(444),\r\n            someFunctionThatReturnsAPromiseAndTakesAnInt.bind(555)\r\n        ]).then(results -> {\r\n            trace(\"all complete\", results);\r\n        }, error -> {\r\n            trace(\"error\", error);\r\n        });\r\n    */\r\n    public static function runSequentially<T>(promises:Array<() -> Promise<T>>, failFast = true):Promise<Array<T>> {\r\n        return new Promise((resolve, reject) -> {\r\n            var results:Array<T> = [];\r\n            _runSequentially(promises.copy(), failFast, results, resolve, reject);\r\n        });\r\n    }\r\n\r\n    /*\r\n    Use .bind to return functions that create a promise, eg:\r\n        PromiseUtils.runAll([\r\n            someFunctionThatReturnsAPromiseAndTakesAnInt.bind(111),\r\n            someFunctionThatReturnsAPromiseAndTakesAnInt.bind(222),\r\n            someFunctionThatReturnsAPromiseAndTakesAnInt.bind(333),\r\n            someFunctionThatReturnsAPromiseAndTakesAnInt.bind(444),\r\n            someFunctionThatReturnsAPromiseAndTakesAnInt.bind(555)\r\n        ]).then(results -> {\r\n            trace(\"all complete\", results);\r\n        }, error -> {\r\n            trace(\"error\", error);\r\n        });\r\n    */\r\n    public static function runAll<T>(promises:Array<() -> Promise<T>>, failFast = false, excludeFailures:Bool = false):Promise<Array<T>> {\r\n        return new Promise((resolve, reject) -> {\r\n            if (promises.length == 0) {\r\n                resolve([]);\r\n                return;\r\n            }\r\n            var results = [];\r\n            var count = promises.length;\r\n\r\n            for (fn in promises) {\r\n                var p = fn();\r\n                p.then(result -> {\r\n                    count--;\r\n                    results.push(result);\r\n                    if (count == 0) {\r\n                        resolve(results);\r\n                    }\r\n                }, e -> {\r\n                    count--;\r\n                    if (!excludeFailures) {\r\n                        results.push(e);\r\n                    }\r\n                    if (failFast == true) {\r\n                        reject(e);\r\n                    } else if (count == 0) {\r\n                        resolve(results);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    /*\r\n    Use .bind to return functions that create a promise, eg:\r\n        PromiseUtils.runAllMapped([\r\n            {id: \"id1\", promise: someFunctionThatReturnsAPromiseAndTakesAnInt.bind(111)},\r\n            {id: \"id2\", promise: someFunctionThatReturnsAPromiseAndTakesAnInt.bind(222)},\r\n            {id: \"id3\", promise: someFunctionThatReturnsAPromiseAndTakesAnInt.bind(333)},\r\n            {id: \"id4\", promise: someFunctionThatReturnsAPromiseAndTakesAnInt.bind(444)},\r\n            {id: \"id5\", promise: someFunctionThatReturnsAPromiseAndTakesAnInt.bind(555)}\r\n        ]).then(results -> {\r\n            trace(\"all complete\", results);\r\n        }, error -> {\r\n            trace(\"error\", error);\r\n        });\r\n    */\r\n    public static function runAllMapped<T>(promises:Array<{id:String, promise:() -> Promise<T>}>, failFast = false, excludeFailures:Bool = false):Promise<Map<String, T>> {\r\n        return new Promise((resolve, reject) -> {\r\n            var results:Map<String, T> = [];\r\n            if (promises.length == 0) {\r\n                resolve(results);\r\n                return;\r\n            }\r\n            var count = promises.length;\r\n\r\n            for (item in promises) {\r\n                var fn = item.promise;\r\n                var id = item.id;\r\n                var p = fn();\r\n                p.then(result -> {\r\n                    count--;\r\n                    results.set(id, result);\r\n                    if (count == 0) {\r\n                        resolve(results);\r\n                    }\r\n                }, e -> {\r\n                    count--;\r\n                    if (!excludeFailures) {\r\n                        results.set(id, e);\r\n                    }\r\n                    if (failFast == true) {\r\n                        reject(e);\r\n                    } else if (count == 0) {\r\n                        resolve(results);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private static function _runSequentially<T>(list:Array<() -> Promise<T>>, failFast:Bool, results:Array<T>, resolve:Array<T>->Void, reject:Any->Void) {\r\n        if (list.length == 0) {\r\n            resolve(results);\r\n            return;\r\n        }\r\n\r\n        var fn = list.shift();\r\n        var p = fn();\r\n        p.then(result -> {\r\n            results.push(result);\r\n            _runSequentially(list, failFast, results, resolve, reject);\r\n        }, e -> {\r\n            if (failFast == true) {\r\n                reject(e);\r\n            } else {\r\n                results.push(e);\r\n                _runSequentially(list, failFast, results, resolve, reject);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static function wait(amountMS:Int) {\r\n        return new Promise((resolve, reject) -> {\r\n            haxe.Timer.delay(() -> {\r\n                resolve(true);\r\n            }, amountMS);\r\n        });\r\n    }\r\n\r\n    public static inline function promisify<T>(param:T):Promise<T> {\r\n        return new Promise((resolve, _) -> resolve(param));\r\n    }\r\n}","package queues;\r\n\r\nimport promises.Promise;\r\n\r\nclass NonQueue<T> implements IQueue<T> {\r\n    private var items:Array<T> = [];\r\n\r\n    public function new() {\r\n    }\r\n\r\n    private var _name:String = null;\r\n    public var name(get, set):String;\r\n    private function get_name() {\r\n        return _name;\r\n    }\r\n    private function set_name(value:String):String {\r\n        _name = value;\r\n        return value;\r\n    }\r\n\r\n    private var _onMessage:T->Promise<Bool>;\r\n    public var onMessage(get, set):T->Promise<Bool>;\r\n    private function get_onMessage():T->Promise<Bool> {\r\n        return _onMessage;\r\n    }\r\n    private function set_onMessage(value:T->Promise<Bool>):T->Promise<Bool> {\r\n        _onMessage = value;\r\n        processQueue();\r\n        return value;\r\n    }\r\n\r\n    public function config(config:Dynamic) {\r\n        // no config\r\n    }\r\n\r\n    public function start():Promise<Bool> {\r\n        return new Promise((resolve, reject) -> {\r\n            resolve(true);\r\n        });\r\n    }\r\n\r\n    public function stop():Promise<Bool> {\r\n        return new Promise((resolve, reject) -> {\r\n            resolve(true);\r\n        });\r\n    }\r\n\r\n    public function enqueue(item:T) {\r\n        items.push(item);\r\n        processQueue();\r\n    }\r\n\r\n    public function requeue(item:T, delay:Null<Int> = null) {\r\n        if (delay == null || delay == 0) {\r\n            enqueue(item);\r\n        } else {\r\n            haxe.Timer.delay(() -> {\r\n                enqueue(item);\r\n            }, delay);\r\n        }\r\n    }\r\n\r\n    private function processQueue() {\r\n        if (_onMessage == null || items.length == 0) {\r\n            return;\r\n        }\r\n\r\n        var item = items.shift();\r\n        _onMessage(item).then(success -> {\r\n            processQueue();\r\n        }, error -> {\r\n            processQueue();\r\n        });\r\n    }\r\n}","package queues;\r\n\r\nimport promises.Promise;\r\n\r\nclass SimpleQueue<T> implements IQueue<T> {\r\n    private var items:Array<T> = [];\r\n\r\n    public function new() {\r\n    }\r\n\r\n    private var _name:String = null;\r\n    public var name(get, set):String;\r\n    private function get_name() {\r\n        return _name;\r\n    }\r\n    private function set_name(value:String):String {\r\n        _name = value;\r\n        return value;\r\n    }\r\n\r\n    private var _onMessage:T->Promise<Bool>;\r\n    public var onMessage(get, set):T->Promise<Bool>;\r\n    private function get_onMessage():T->Promise<Bool> {\r\n        return _onMessage;\r\n    }\r\n    private function set_onMessage(value:T->Promise<Bool>):T->Promise<Bool> {\r\n        _onMessage = value;\r\n        processQueue();\r\n        return value;\r\n    }\r\n\r\n    public function config(config:Dynamic) {\r\n        // no config\r\n    }\r\n\r\n    public function start():Promise<Bool> {\r\n        return new Promise((resolve, reject) -> {\r\n            resolve(true);\r\n        });\r\n    }\r\n\r\n    public function stop():Promise<Bool> {\r\n        return new Promise((resolve, reject) -> {\r\n            resolve(true);\r\n        });\r\n    }\r\n\r\n    public function enqueue(item:T) {\r\n        items.push(item);\r\n        if (items.length == 1) {\r\n            processQueue();\r\n        }\r\n    }\r\n\r\n    public function requeue(item:T, delay:Null<Int> = null) {\r\n        if (delay == null || delay == 0) {\r\n            enqueue(item);\r\n        } else {\r\n            haxe.Timer.delay(() -> {\r\n                enqueue(item);\r\n            }, delay);\r\n        }\r\n    }\r\n\r\n    private var _processingItem:Bool = false;\r\n    private function processQueue() {\r\n        if (_onMessage == null || items.length == 0) {\r\n            return;\r\n        }\r\n\r\n        if (_processingItem) {\r\n            return;\r\n        }\r\n\r\n        _processingItem = true;\r\n        var item = items.shift();\r\n        _onMessage(item).then(success -> {\r\n            _processingItem = false;\r\n            processQueue();\r\n        }, error -> {\r\n            _processingItem = false;\r\n            processQueue();\r\n        });\r\n    }\r\n}","package safety;\r\n\r\n#if (haxe >= version('4.1.0'))\r\nclass SafetyException extends haxe.Exception {}\r\n#else\r\nclass SafetyException {\r\n\tpublic var message:String;\r\n\r\n\tpublic function new(msg:String) {\r\n\t\tmessage = msg;\r\n\t}\r\n\r\n\tpublic function toString():String {\r\n\t\treturn message;\r\n\t}\r\n}\r\n#end","package safety;\r\n\r\nclass NullPointerException extends SafetyException {}","/*\r\n * Copyright (C)2005-2019 Haxe Foundation\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a\r\n * copy of this software and associated documentation files (the \"Software\"),\r\n * to deal in the Software without restriction, including without limitation\r\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\r\n * and/or sell copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\r\n * DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\npackage sys.db;\r\n\r\nclass Mysql {\r\n\tpublic static function connect(params:{\r\n\t\thost:String,\r\n\t\t?port:Int,\r\n\t\tuser:String,\r\n\t\tpass:String,\r\n\t\t?socket:String,\r\n\t\t?database:String\r\n\t}):sys.db.Connection {\r\n\t\tthrow new haxe.exceptions.NotImplementedException(\"Not implemented for this platform\");\r\n\t\treturn null;\r\n\t}\r\n}\r\n","package sys.io;\r\n\r\nimport haxe.io.Bytes;\r\nimport haxe.io.Eof;\r\nimport haxe.io.Error;\r\nimport js.node.Buffer;\r\nimport js.node.Fs;\r\n\r\n@:coreApi\r\nclass FileInput extends haxe.io.Input {\r\n\tvar fd:Int;\r\n\tvar pos:Int;\r\n\r\n\tvar hasReachedEof = false;\r\n\r\n\tinline function throwEof():Void {\r\n\t\thasReachedEof = true;\r\n\t\tthrow new Eof();\r\n\t}\r\n\r\n\t@:allow(sys.io.File)\r\n\tfunction new(fd:Int) {\r\n\t\tthis.fd = fd;\r\n\t\tpos = 0;\r\n\t}\r\n\r\n\toverride public function readByte():Int {\r\n\t\tvar buf = Buffer.alloc(1);\r\n\t\tvar bytesRead = try {\r\n\t\t\tFs.readSync(fd, buf, 0, 1, pos);\r\n\t\t} catch (e:Dynamic) {\r\n\t\t\tif (e.code == \"EOF\")\r\n\t\t\t\tthrowEof();\r\n\t\t\tthrow Error.Custom(e);\r\n\t\t}\r\n\t\tif (bytesRead == 0)\r\n\t\t\tthrowEof();\r\n\t\tpos++;\r\n\t\treturn buf[0];\r\n\t}\r\n\r\n\toverride public function readBytes(s:Bytes, pos:Int, len:Int):Int {\r\n\t\tvar buf = Buffer.hxFromBytes(s);\r\n\t\tvar bytesRead = try {\r\n\t\t\tFs.readSync(fd, buf, pos, len, this.pos);\r\n\t\t} catch (e:Dynamic) {\r\n\t\t\tif (e.code == \"EOF\")\r\n\t\t\t\tthrowEof();\r\n\t\t\tthrow Error.Custom(e);\r\n\t\t}\r\n\t\tif (bytesRead == 0)\r\n\t\t\tthrowEof();\r\n\t\tthis.pos += bytesRead;\r\n\t\treturn bytesRead;\r\n\t}\r\n\r\n\toverride public function close():Void {\r\n\t\tFs.closeSync(fd);\r\n\t}\r\n\r\n\tpublic function seek(p:Int, pos:FileSeek):Void {\r\n\t\thasReachedEof = false;\r\n\t\tswitch (pos) {\r\n\t\t\tcase SeekBegin:\r\n\t\t\t\tthis.pos = p;\r\n\t\t\tcase SeekEnd:\r\n\t\t\t\tthis.pos = cast Fs.fstatSync(fd).size + p;\r\n\t\t\tcase SeekCur:\r\n\t\t\t\tthis.pos += p;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic function tell():Int {\r\n\t\treturn pos;\r\n\t}\r\n\r\n\tpublic function eof():Bool {\r\n\t\treturn hasReachedEof;\r\n\t}\r\n}\r\n","package sys.io;\r\n\r\nimport haxe.io.Bytes;\r\nimport haxe.io.Eof;\r\nimport haxe.io.Error;\r\nimport js.node.Buffer;\r\nimport js.node.Fs;\r\n\r\n@:coreApi\r\nclass FileOutput extends haxe.io.Output {\r\n\tvar fd:Int;\r\n\tvar pos:Int;\r\n\r\n\t@:allow(sys.io.File)\r\n\tfunction new(fd:Int) {\r\n\t\tthis.fd = fd;\r\n\t\tpos = 0;\r\n\t}\r\n\r\n\toverride public function writeByte(b:Int):Void {\r\n\t\tvar buf = Buffer.alloc(1);\r\n\t\tbuf[0] = b;\r\n\t\tFs.writeSync(fd, buf, 0, 1, pos);\r\n\t\tpos++;\r\n\t}\r\n\r\n\toverride public function writeBytes(s:Bytes, pos:Int, len:Int):Int {\r\n\t\tvar buf = Buffer.hxFromBytes(s);\r\n\t\tvar wrote = Fs.writeSync(fd, buf, pos, len, this.pos);\r\n\t\tthis.pos += wrote;\r\n\t\treturn wrote;\r\n\t}\r\n\r\n\toverride public function close():Void {\r\n\t\tFs.closeSync(fd);\r\n\t}\r\n\r\n\tpublic function seek(p:Int, pos:FileSeek):Void {\r\n\t\tswitch (pos) {\r\n\t\t\tcase SeekBegin:\r\n\t\t\t\tthis.pos = p;\r\n\t\t\tcase SeekEnd:\r\n\t\t\t\tthis.pos = cast Fs.fstatSync(fd).size + p;\r\n\t\t\tcase SeekCur:\r\n\t\t\t\tthis.pos += p;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic function tell():Int {\r\n\t\treturn pos;\r\n\t}\r\n}\r\n","package systems;\r\n\r\nimport sys.io.File;\r\nimport sys.FileSystem;\r\nimport db.DebugUtils;\r\nimport promises.PromiseUtils;\r\nimport promises.Promise;\r\nimport util.Duration;\r\nimport db.ITable;\r\nimport db.DatabaseResult;\r\nimport db.Record as RRecord;\r\nimport database.DBEvents;\r\nimport Query.*;\r\nimport db.IDatabase;\r\nimport ecs.System;\r\nimport db.DatabaseFactory;\r\nimport db.mysql.Utils;\r\nimport database.types.DBQuote;\r\nimport database.types.DBSnippet;\r\nimport database.types.DBReminder;\r\n\r\nclass DatabaseSystem extends System {\r\n\tpublic var connected:Bool = false;\r\n\r\n\tvar polls:Map<DBEvents, Int> = [];\r\n\tvar poll_times:Map<DBEvents, Float> = [];\r\n\r\n\tvar inserting:Bool = false;\r\n\tvar updating:Bool = false;\r\n\tvar db:IDatabase;\r\n\tvar watches:Array<DBEvents> = [];\r\n\t@:fastFamily var dbevents:{event:DBEvents};\r\n\r\n\tvar connected_time:Float;\r\n\r\n\tvar event_cache:Array<DBEvents> = [];\r\n\tvar reverse:Array<DBEvents> = [];\r\n\r\n\toverride function onEnabled() {\r\n\t\tvar keys = Main.keys.mysql;\r\n\t\tdb = DatabaseFactory.instance.createDatabase(DatabaseFactory.MYSQL, {\r\n\t\t\tdatabase: keys.database,\r\n\t\t\thost: keys.host,\r\n\t\t\tuser: keys.user,\r\n\t\t\tpass: keys.pass\r\n\t\t});\r\n\r\n\t\tdb.setProperty('autoReconnect', true);\r\n\t\tdb.setProperty('autoReconnectInterval', 5000);\r\n\t\tdb.setProperty('replayQueriesOnReconnection', true);\r\n\r\n\t\tconnected_time = Date.now().getTime() - (Duration.fromString('8hrs') : Float);\r\n\t}\r\n\r\n\r\n\tinline function insert(table:String, value:RRecord, callback) {\r\n\t\tthis.db.table(table).then((result) -> {\r\n\t\t\treturn result.table.add(value);\r\n\t\t}).then(function(result) {\r\n\t\t\tcallback(Success('Inserted'));\r\n\t\t}, function(error) {\r\n\t\t\tcallback(Error('Insert failed', error));\r\n\t\t});\r\n\t}\r\n\r\n\tfunction connect() {\r\n\t\tdb.connect().then(function(state) {\r\n\t\t\tif (state.data) {\r\n\t\t\t\tthis.connected = true;\r\n\t\t\t\tthis.connected_time = Date.now().getTime();\r\n\r\n\t\t\t\ttrace('Database connected');\r\n\t\t\t} else {\r\n\t\t\t\tthis.connected = false;\r\n\t\t\t\tthis.connected_time -= (Duration.fromString('5hrs') : Float);\r\n\t\t\t\ttrace('Database not connected');\r\n\t\t\t}\r\n\t\t}, (err) -> trace(err));\r\n\t}\r\n\r\n\toverride function update(_) {\r\n\t\tif (Date.now().getTime() - this.connected_time > Duration.fromString('5hrs')) {\r\n\t\t\tthis.connected_time = Date.now().getTime();\r\n\t\t\tthis.connected = false;\r\n\t\t\tthis.connect();\r\n\t\t}\r\n\r\n\t\tif (!connected) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (key => ms in polls) {\r\n\t\t\tvar now = Date.now().getTime();\r\n\t\t\tvar last_sent = poll_times.get(key);\r\n\r\n\t\t\tvar diff = now - last_sent;\r\n\t\t\tif (diff > ms) {\r\n\t\t\t\tpoll_times.set(key, now);\r\n\t\t\t\tEcsTools.set(key);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\titerate(dbevents, (entity) -> {\r\n\t\t\tswitch (event) {\r\n\t\t\t\tcase Poll(event, ms):\r\n\t\t\t\t\tif (!polls.exists(event)) {\r\n\t\t\t\t\t\tpolls.set(event, ms);\r\n\t\t\t\t\t\tpoll_times.set(event, 0);\r\n\t\t\t\t\t\ttrace('Saved poll ${event.getName()}');\r\n\t\t\t\t\t}\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treverse.push(event);\r\n\t\t\t}\r\n\t\t\tuniverse.deleteEntity(entity);\r\n\t\t});\r\n\r\n\t\tfor (i in 0...reverse.length) {\r\n\t\t\tvar event:DBEvents = reverse.pop();\r\n\r\n\t\t\tswitch (event) {\r\n\t\t\t\tcase CreateTable(name, columns):\r\n\t\t\t\t\tthis.db.createTable(name, columns);\r\n\t\t\t\tcase Insert(table, value, callback):\r\n\t\t\t\t\tdb.table(table).then((result) -> {\r\n\t\t\t\t\t\treturn result.table.add(value);\r\n\t\t\t\t\t}).then(function(res:DatabaseResult<RRecord>) {\r\n\t\t\t\t\t\tcallback(Success(\"Inserted\", res.data));\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\tif (err.message != null\r\n\t\t\t\t\t\t\t&& (err.message : String).contains('DUPLICATE_DATA')) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttrace(value);\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\tcase Update(table, value, query, callback):\r\n\t\t\t\t\tif (updating) {\r\n\t\t\t\t\t\tEcsTools.set(event);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdating = true;\r\n\t\t\t\t\tdb.table(table).then((result) -> {\r\n\t\t\t\t\t\treturn result.table.update(query, value);\r\n\t\t\t\t\t}).then(function(res) {\r\n\t\t\t\t\t\tupdating = false;\r\n\t\t\t\t\t\tcallback(Success(\"Updated\"));\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\ttrace(queryExprToSql(query));\r\n\t\t\t\t\t\ttrace(value.debugString());\r\n\t\t\t\t\t\tupdating = false;\r\n\t\t\t\t\t});\r\n\t\t\t\tcase GetRecord(table, query, callback):\r\n\t\t\t\t\tdb.table(table).then((result) -> {\r\n\t\t\t\t\t\treturn result.table.findOne(query);\r\n\t\t\t\t\t}).then(function(result) {\r\n\t\t\t\t\t\tif (result != null) {\r\n\t\t\t\t\t\t\tcallback(Record(result.data));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcallback(Error('No data', result.data));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\tcase GetRecords(table, query, callback):\r\n\t\t\t\t\tdb.table(table).then((result) -> {\r\n\t\t\t\t\t\treturn result.table.find(query);\r\n\t\t\t\t\t}).then(function(result) {\r\n\t\t\t\t\t\tif (result != null) {\r\n\t\t\t\t\t\t\tcallback(Records(result.data));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcallback(Error('No data', result.data));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\tcase GetAllRecords(table, callback):\r\n\t\t\t\t\tdb.table(table).then((result) -> {\r\n\t\t\t\t\t\treturn result.table.all();\r\n\t\t\t\t\t}).then(function(result) {\r\n\t\t\t\t\t\tif (result != null) {\r\n\t\t\t\t\t\t\tcallback(Records(result.data));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcallback(Error('No data', result.data));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\tcase Search(table, field, value, callback):\r\n\t\t\t\t\tvar query = \"SELECT * FROM `\"+table+\"` WHERE \"+field+\" LIKE '%\"+ value + \"%'\";\r\n\r\n\t\t\t\t\tdb.raw(query).then(function(result) {\r\n\t\t\t\t\t\tif (result != null) {\r\n\t\t\t\t\t\t\tcallback(Records(result.data));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcallback(Error('No data', result.data));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, (err) -> trace(err));\r\n\t\t\t\tcase SearchBy(table, field, value, by_column, by_value, callback):\r\n\t\t\t\t\tvar query = \"SELECT * FROM `\"+table+\"` WHERE \"+by_column+\" = '\"+by_value+\"' AND \"+field+\" LIKE '%\"+ value + \"%'\";\r\n\r\n\t\t\t\t\tdb.raw(query).then(function(result) {\r\n\t\t\t\t\t\tif (result != null) {\r\n\t\t\t\t\t\t\tcallback(Records(result.data));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcallback(Error('No data', result.data));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(query);\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t});\r\n\t\t\t\tcase DeleteByValue(table, column, value, callback):\r\n\t\t\t\t\tthis.getTable(table, function(result) {\r\n\t\t\t\t\t\tvar record = new RRecord();\r\n\t\t\t\t\t\trecord.field(column, value);\r\n\r\n\t\t\t\t\t\tresult.table.delete(record).then(function(succ) {\r\n\t\t\t\t\t\t\tif (succ.itemsAffected == 0) {\r\n\t\t\t\t\t\t\t\tcallback(Error(\"Failed to delete\"));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcallback(Success(\"Successfully deleted\", succ.data));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\tcallback(Error(\"Failed\", err));\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tcallback(Error(\"Failed\", err));\r\n\t\t\t\t\t});\r\n\t\t\t\tcase DeleteRecord(table, value, callback):\r\n\t\t\t\t\tthis.getTable(table, function(result) {\r\n\t\t\t\t\t\tresult.table.delete(value).then(function(succ) {\r\n\t\t\t\t\t\t\tif (succ.itemsAffected == null || succ.itemsAffected == 0) {\r\n\t\t\t\t\t\t\t\tcallback(Error(\"Failed to delete\"));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcallback(Success(\"Successfully deleted\", succ.data));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\t\tcallback(Error(\"Failed\", err));\r\n\t\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, function(err) {\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\tcallback(Error(\"Failed\", err));\r\n\t\t\t\t\t});\r\n\t\t\t\tcase SearchAndUpdate(table, key, query, value, callback):\r\n\t\t\t\t\tvar parse_key = this.parseKey(key);\r\n\t\t\t\t\tvar key = parse_key.key;\r\n\t\t\t\t\tvar column = parse_key.column;\r\n\r\n\t\t\t\t\tdb.table(table).then((result) -> {\r\n\t\t\t\t\t\treturn result.table.findOne(query);\r\n\t\t\t\t\t}).then((result) -> {\r\n\t\t\t\t\t\t// if (this.updating) {\r\n\t\t\t\t\t\t// \tthis.event_cache.push(event);\r\n\t\t\t\t\t\t// \tvar record = new RRecord();\r\n\t\t\t\t\t\t// \trecord.field('____status', 'blocked');\r\n\t\t\t\t\t\t// \tvar result = new DatabaseResult(result.database, result.table, record);\r\n\t\t\t\t\t\t// \treturn PromiseUtils.promisify(result);\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tthis.updating = true;\r\n\t\t\t\t\t\tif (result.data == null) {\r\n\t\t\t\t\t\t\treturn result.table.add(value);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (column != null) {\r\n\t\t\t\t\t\t\t\tvalue.field(column, result.data.field(column));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (value.hasField('id')) {\r\n\t\t\t\t\t\t\t\tvalue.removeField('id');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn result.table.update(query, value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(function(result) {\r\n\t\t\t\t\t\tif (result.data.hasField('____status')) {\r\n\t\t\t\t\t\t\ttrace('result null ${result.data.field('____status')}');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.updating = false;\r\n\t\t\t\t\t\ttrace('unblock');\r\n\t\t\t\t\t\tif (callback != null) {\r\n\t\t\t\t\t\t\tcallback(Success('Successfully updated record', result.data));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, function(err:Dynamic) {\r\n\t\t\t\t\t\tthis.updating = false;\r\n\t\t\t\t\t\ttrace('unblock');\r\n\t\t\t\t\t\ttrace(value);\r\n\t\t\t\t\t\ttrace(err);\r\n\t\t\t\t\t\ttrace(err.message);\r\n\t\t\t\t\t\t// if (err.message.contains('Duplicate entry')) {\r\n\t\t\t\t\t\t// \tEcsTools.addComponents(event); //recycle for an update instead\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tif (callback != null) {\r\n\t\t\t\t\t\t\tcallback(Error(\"Failed\", err));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\tdefault:\r\n\t\t\t\t\ttrace('${event.getName()} not implemented');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction parseKey(value:String) {\r\n\t\tvar key = null;\r\n\t\tvar column = null;\r\n\t\tif (value.contains(':')) {\r\n\t\t\tvar split = value.split(':');\r\n\t\t\tkey = split[1];\r\n\t\t\tcolumn = split[0];\r\n\t\t} else {\r\n\t\t\tkey = value;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tkey: key,\r\n\t\t\tcolumn: column\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getTable(name:String, succ:DatabaseResult<ITable>->Void, err:Dynamic->Void) {\r\n\t\tdb.table(name).then(succ, err);\r\n\t}\r\n}\r\n","package systems;\r\n\r\nimport discord_js.TextChannel;\r\nimport discord_js.Message;\r\nimport ecs.System;\r\nimport Main.CommandForward;\r\nimport components.TextCommand;\r\n\r\nclass MessageRouter extends System {\r\n\t@:fastFamily var messages:{command:CommandForward, message:Message};\r\n\r\n\toverride function update(_) {\r\n\t\titerate(messages, (entity) -> {\r\n\t\t\tif (command != CommandForward.new_message) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tuniverse.deleteEntity(entity);\r\n\t\t\tvar channel:TextChannel = message.channel;\r\n\r\n\t\t\tEcsTools.set(CommandForward.rate_limit, message);\r\n\t\t\tEcsTools.set(CommandForward.scam_prevention, message);\r\n\t\t\tEcsTools.set(CommandForward.keyword_tracker, message);\r\n\r\n\t\t\tif (channel.id == \"1234544675264925788\") {\r\n\t\t\t\tEcsTools.set(CommandForward.suggestion_box, message);\r\n\t\t\t}\r\n\r\n\t\t\tswitch (channel.type) {\r\n\t\t\t\tcase GUILD_TEXT:\r\n\t\t\t\t\tthis.guildTextChannel(message);\r\n\t\t\t\tcase PUBLIC_THREAD:\r\n\t\t\t\t\tthis.publicThreadChannel(message);\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction publicThreadChannel(message:Message) {\r\n\t\tif (message.content.startsWith(\"[showcase]\")) {\r\n\t\t\ttrace('Author: ${message.author.username}');\r\n\t\t\tEcsTools.set(CommandForward.showcase, message);\r\n\t\t}\r\n\t\tEcsTools.set(CommandForward.thread_count, message);\r\n\t}\r\n\r\n\tfunction guildTextChannel(message:Message) {\r\n\t\tvar channel = message.channel.asType0;\r\n\t\tvar showcase_channel = #if block \"1100053767493255182\" #else \"162664383082790912\" #end;\r\n\t\tif (channel.id == showcase_channel && !message.system) {\r\n\t\t\tEcsTools.set(CommandForward.showcase_message, message);\r\n\t\t}\r\n\r\n\t\tif (message.content.startsWith('!run')) {\r\n\t\t\ttrace('here');\r\n\t\t\tuniverse.setComponents(universe.createEntity(), TextCommand.run, message);\r\n\t\t}\r\n\t}\r\n}","package thenshim.js;\r\n\r\nimport thenshim.PromiseFactory;\r\n\r\n/**\r\n * Factory that calls `js.lib.Promise`\r\n */\r\nclass JSPromiseFactory implements PromiseFactory {\r\n    public function new() {\r\n    }\r\n\r\n    public function make<T>(executor:PromiseExecutor<T>) {\r\n        return new js.lib.Promise(executor);\r\n    }\r\n\r\n    public function asResolved<T>(object:ValueOrPromiseLike<T>) {\r\n        return js.lib.Promise.resolve(object);\r\n    }\r\n\r\n    public function asRejected<T>(reason:Any):thenshim.Promise.UnderlyingPromise<T> {\r\n        return js.lib.Promise.reject(reason);\r\n    }\r\n}\r\n","package thenshim;\r\n\r\nimport thenshim.PromiseFactory;\r\nimport thenshim.Thenable;\r\n\r\n#if (!thenshim_always_fallback && js)\r\n    import thenshim.js.JSPromiseFactory;\r\n\r\n    typedef UnderlyingPromise<T> = js.lib.Promise<T>;\r\n    private typedef _Factory = JSPromiseFactory;\r\n#else\r\n    import thenshim.fallback.FallbackPromiseFactory;\r\n\r\n    typedef UnderlyingPromise<T> = Thenable<T>;\r\n    private typedef _Factory = FallbackPromiseFactory;\r\n#end\r\n\r\n/**\r\n * Abstract over the target's promise implementation.\r\n *\r\n * - On JS, the underlying promise is `js.lib.Promise`.\r\n * - Otherwise, the underlying promise is `FallbackPromise`.\r\n */\r\nabstract Promise<T>(UnderlyingPromise<T>)\r\nfrom UnderlyingPromise<T> to UnderlyingPromise<T> {\r\n    /**\r\n     * Factory that calls the methods to create promises on the current target.\r\n     *\r\n     * - On JS, it is `JSPromiseFactory`\r\n     * - Otherwise, it is `FallbackPromiseFactory`\r\n     */\r\n    public static var factory:PromiseFactory = new _Factory();\r\n\r\n    /**\r\n     * Wrap an implementation as a JavaScript-style promise.\r\n     * @param executor Callback function with resolve and reject functions.\r\n     */\r\n    public function new(executor:PromiseExecutor<T>) {\r\n        this = factory.make(executor);\r\n    }\r\n\r\n    /**\r\n     * Returns a settled promise or flattened promise.\r\n     *\r\n     * - When given a value, it returns a settled promise that is fulfilled\r\n     *   with the given value (as a convenience function).\r\n     * - When given a `Promise`, it returns the promise itself.\r\n     * - When given a `Thenable`, it returns a new promise that reflects\r\n     *   the `Thenable`'s state.\r\n     */\r\n    public static function resolve<T>(object:ValueOrPromiseLike<T>):Promise<T> {\r\n        return factory.asResolved(object);\r\n    }\r\n\r\n    /**\r\n     * Returns a settled promise that is rejected with the given reason.\r\n     */\r\n    public static function reject<T>(reason:Any):Promise<T> {\r\n        return factory.asRejected(reason);\r\n    }\r\n\r\n    /**\r\n     * Calls the given callbacks when this promise is settled.\r\n     *\r\n     * @see `Thenable.then` for callback descriptions.\r\n     */\r\n    public function then<R>(\r\n            onFulfilled:ThenableCallback<T,R>,\r\n            ?onRejected:ThenableCallback<Dynamic,R>):\r\n            Promise<R> {\r\n        @:nullSafety(Off)\r\n        // cast under dox due to bug in Thenable\r\n        return this.then(#if doc_gen cast #end onFulfilled,\r\n            cast onRejected);\r\n    }\r\n}\r\n","package thenshim;\r\n\r\n/**\r\n * Common signature for this library to specify objects that provide a `then`\r\n * method.\r\n */\r\ninterface Thenable<T> {\r\n    /**\r\n     * Calls the given callbacks when this promise is settled.\r\n     *\r\n     * Note that unlike the JavaScript `then`, the return type parameter\r\n     * is only `R` where as JavaScript `then` has possible parameter types of\r\n     * `T`, `R1`, and `R2`.\r\n     *\r\n     * @param onFulfilled A callback that will be called with the value `T`\r\n     *     when the promise is fulfilled. The callback returns a promise\r\n     *     or value.\r\n     * @param onRejected A callback that will be called with the reason `Any`\r\n     *     when the promise is rejected. The callback returns a promise\r\n     *     or value.\r\n     */\r\n    public function then<R>(\r\n        onFulfilled:ThenableCallback<T,R>,\r\n        ?onRejected:ThenableCallback<Any,R>):\r\n        Thenable<R>;\r\n}\r\n\r\n/**\r\n * Abstract that accepts callback functions to the `then` method.\r\n *\r\n * Valid callbacks are:\r\n *\r\n * - `T->R`: Function that returns a value of type `R`.\r\n * - `T->Thenable<R>`: Function that returns a thenable `Thenable` with value\r\n *    type `R`.\r\n * - `T->Promise<R>`: Function that returns a promise `Promise` with value\r\n *    type `R`.\r\n *\r\n * On JS, this unifies to `js.lib.Promise.PromiseHandler`.\r\n */\r\nabstract ThenableCallback<T,R>(T->Dynamic)\r\n    from T->Promise<R> \r\n    from T->Thenable<R>\r\n    from T->R {\r\n        // Exclude cast from dox due to haxe bug #7829\r\n#if (js && !doc_gen)\r\n    // Any/Dynamic don't unify properly yet, so we have to use cast for now\r\n    @:to\r\n    inline function toJSPromiseHandler():js.lib.Promise.PromiseHandler<T,R> {\r\n        return cast this;\r\n    }\r\n#end\r\n}\r\n","package util;\r\n\r\nimport haxe.PosInfos;\r\nimport discord_js.ReactionCollector;\r\nimport discord_js.TextChannel;\r\nimport discord_js.User;\r\nimport discord_js.MessageReaction;\r\nimport discord_js.Message;\r\nimport discord_js.ApplicationCommandPermissionsManager;\r\nimport discord_js.ApplicationCommand;\r\nimport js.Browser;\r\nclass DiscordUtil {\r\n\tpublic static function setCommandPermission(command:ApplicationCommand,\r\n\t\t\tpermissions:Array<ApplicationCommandPermissionData>, ?succ:Void->Void,\r\n\t\t\t?fail:Dynamic->Void) {\r\n\t\tcommand.permissions.set({\r\n\t\t\tguild: Main.guild_id,\r\n\t\t\tcommand: command.id,\r\n\t\t\tpermissions: permissions\r\n\t\t}).then(function(_) {\r\n\t\t\tif (succ != null) {\r\n\t\t\t\tsucc();\r\n\t\t\t}\r\n\t\t\ttrace('Updated permissions for ' + command.name);\r\n\t\t}, function(err) {\r\n\t\t\tif (fail != null) {\r\n\t\t\t\tfail(err);\r\n\t\t\t}\r\n\t\t\ttrace(err);\r\n\t\t\ttrace('Failed to update permissions for ' + command.name);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic static function reactionTracker(message:Message,\r\n\t\t\ttrack:(collector:ReactionCollector, collected:MessageReaction, user:User) -> Void,\r\n\t\t\t?time:Float = -1) {\r\n\t\tvar filter = (reaction:MessageReaction, user:User) -> {\r\n\t\t\tif (reaction.emoji.name == \"✅\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif (reaction.emoji.name == \"❎\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treaction.remove();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (time == -1) {\r\n\t\t\ttime = 60000 * 60 * 48;\r\n\t\t}\r\n\r\n\t\tmessage.react(\"✅\").then(null, function(err) {\r\n\t\t\ttrace(err);\r\n\t\t\tBrowser.console.dir(err);\r\n\t\t}).then(function(_) {\r\n\t\t\tmessage.react(\"❎\").then(null, function(err) {\r\n\t\t\t\ttrace(err);\r\n\t\t\t\tBrowser.console.dir(err);\r\n\t\t\t}).then(function(_) {\r\n\t\t\t\tvar collector = message.createReactionCollector({filter: filter, time: time});\r\n\t\t\t\tcollector.on('collect', track.bind(collector));\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpublic static function getChannel(channel_id:String, callback:(channel:TextChannel) -> Void) {\r\n\t\tMain.client.channels.fetch(channel_id).then(callback, function(err) {\r\n\t\t\ttrace(err);\r\n\t\t\tBrowser.console.dir(err);\r\n\t\t});\r\n\t}\r\n}\r\n","package util;\r\n\r\nenum abstract Duration(Float) to Float {\r\n\tvar minute = 60000;\r\n\tvar hour = 3600000;\r\n\tvar day = 86400000;\r\n\tvar week = 604800000;\r\n\tvar month = 2419200000;\r\n\r\n\tpublic function new(value) {\r\n\t\tthis = value;\r\n\t}\r\n\r\n\t@:op(A > B) static function gt(a:Duration, b:Duration):Bool;\r\n\r\n\t@:op(A >= B) static function gtequalto(a:Duration, b:Duration):Bool;\r\n\r\n\t@:op(A < B) static function lt(a:Duration, b:Duration):Bool;\r\n\r\n\t@:op(A <= B) static function ltequalto(a:Duration, b:Duration):Bool;\r\n\r\n\t@:op(A == B) static function equality(a:Duration, b:Duration):Bool;\r\n\r\n\t@:op(A > B) static function gtfloat(a:Float, b:Duration):Bool;\r\n\r\n\t@:op(A >= B) static function gtequaltofloat(a:Float, b:Duration):Bool;\r\n\r\n\t@:op(A < B) static function ltfloat(a:Float, b:Duration):Bool;\r\n\r\n\t@:op(A <= B) static function ltequaltofloat(a:Float, b:Duration):Bool;\r\n\r\n\t@:op(A == B) static function equalityFloat(a:Float, b:Duration):Bool;\r\n\r\n\t@:op(A + B) static function addition(a:Duration, b:Duration):Duration;\r\n\r\n\t@:from public static function fromString(input:String):Duration {\r\n\t\tvar time = 0.;\r\n\r\n\t\tvar sec_regex = ~/([0-9]+)[ ]?(s|sec|secs)\\b/gi;\r\n\t\tif (sec_regex.match(input)) {\r\n\t\t\tvar num = Std.parseFloat(sec_regex.matched(1));\r\n\t\t\ttime = num * 1000;\r\n\t\t}\r\n\r\n\t\tvar min_regex = ~/([0-9]+)[ ]?(m|min|mins)\\b/gi;\r\n\t\tif (min_regex.match(input)) {\r\n\t\t\tvar num = Std.parseFloat(min_regex.matched(1));\r\n\t\t\ttime = num * 60000;\r\n\t\t}\r\n\r\n\t\tvar hour_regex = ~/([0-9]+)[ ]?(h|hr|hrs|hours)\\b/gi;\r\n\t\tif (hour_regex.match(input)) {\r\n\t\t\tvar num = Std.parseFloat(hour_regex.matched(1));\r\n\t\t\ttime = num * 3600000;\r\n\t\t}\r\n\r\n\t\tvar day_regex = ~/([0-9]+)[ ]?(d|day|days)\\b/gi;\r\n\t\tif (day_regex.match(input)) {\r\n\t\t\tvar num = Std.parseFloat(day_regex.matched(1));\r\n\t\t\ttime = num * 86400000;\r\n\t\t}\r\n\r\n\t\tvar week_regex = ~/([0-9]+)[ ]?(w|wk|wks|week|weeks)\\b/gi;\r\n\t\tif (week_regex.match(input)) {\r\n\t\t\tvar num = Std.parseFloat(week_regex.matched(1));\r\n\t\t\ttime = num * 604800000;\r\n\t\t}\r\n\r\n\t\tvar month_regex = ~/([0-9]+)[ ]?(mo|mos|mths|month|months)\\b/gi;\r\n\t\tif (month_regex.match(input)) {\r\n\t\t\tvar num = Std.parseFloat(month_regex.matched(1));\r\n\t\t\ttime = num * 2419200000;\r\n\t\t}\r\n\r\n\t\treturn new Duration(time);\r\n\t}\r\n}","package util;\r\n\r\nclass Random {\r\n\t/** Return a random boolean value (true or false) */\r\n\tpublic static inline function bool():Bool {\r\n\t\treturn Math.random() < 0.5;\r\n\t}\r\n\r\n\t/** Return a random integer between 'from' and 'to', inclusive. */\r\n\tpublic static inline function int(from:Int, to:Int):Int {\r\n\t\treturn from + Math.floor(((to - from + 1) * Math.random()));\r\n\t}\r\n\r\n\t/** Return a random float between 'from' and 'to', inclusive. */\r\n\tpublic static inline function float(from:Float, to:Float):Float {\r\n\t\treturn from + ((to - from) * Math.random());\r\n\t}\r\n\r\n\t/** Return a random string of a certain length.  You can optionally specify \r\n\t\twhich characters to use, otherwise the default is (a-zA-Z0-9) */\r\n\tpublic static function string(length:Int, ?charactersToUse = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\"):String {\r\n\t\tvar str = \"\";\r\n\t\tfor (i in 0...length) {\r\n\t\t\tstr += charactersToUse.charAt(Random.int(0, charactersToUse.length - 1));\r\n\t\t}\r\n\t\treturn str;\r\n\t}\r\n\r\n\t/** Return a random date & time from within a range.  The behaviour is unspecified if either `earliest` or `latest` is null.  Earliest and Latest are inclusive */\r\n\tpublic static inline function date(earliest:Date, latest:Date):Date {\r\n\t\treturn Date.fromTime(float(earliest.getTime(), latest.getTime()));\r\n\t}\r\n\r\n\t/** Return a random item from an array.  Will return null if the array is null or empty. */\r\n\tpublic static inline function fromArray<T>(arr:Array<T>):Null<T> {\r\n\t\treturn (arr != null && arr.length > 0) ? arr[int(0, arr.length - 1)] : null;\r\n\t}\r\n\r\n\t/** Shuffle an Array.  This operation affects the array in place, and returns that array.\r\n\t\tThe shuffle algorithm used is a variation of the [Fisher Yates Shuffle](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle) */\r\n\tpublic static function shuffle<T>(arr:Array<T>):Array<T> {\r\n\t\tif (arr != null) {\r\n\t\t\tfor (i in 0...arr.length) {\r\n\t\t\t\tvar j = int(0, arr.length - 1);\r\n\t\t\t\tvar a = arr[i];\r\n\t\t\t\tvar b = arr[j];\r\n\t\t\t\tarr[i] = b;\r\n\t\t\t\tarr[j] = a;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\t/** Return a random item from an iterable.  Will return null if the iterable is null or empty. */\r\n\tpublic static inline function fromIterable<T>(it:Iterable<T>):Null<T> {\r\n\t\treturn (it != null) ? fromArray(Lambda.array(it)) : null;\r\n\t}\r\n\r\n\t/** Return a random constructor from an Enum.  Will return null if the enum has no constructors. Only works with enum constructors that take no parameters. */\r\n\tpublic static inline function enumConstructor<T>(e:Enum<T>):Null<T> {\r\n\t\treturn (e != null) ? fromArray(Type.allEnums(e)) : null;\r\n\t}\r\n}"],
"names":[],
"mappings":"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MDuK0B;ADxIvB,CC4HpB,aAiBI;AD7IgB,CCgJpB,eAAiB,2BAA+B;ADhJ5B,CCkJhB,UCvLf,AAMQ,IAAoB,MDiL2B;ADlJxB,CEqDvB,ADqGyB,IAAY,KCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,KCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,KCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,KCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,MCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,KCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,KCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,MCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,KCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,KCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,KCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,KCrGvB,ADqGmC,mBAA4B;AD1JtD,CEqDvB,ADqGyB,IAAY,MCrGvB,ADqGmC,mBAA4B;AD1JtD,CCiJpB,iBAcI,8BAA8B,SAAU;AD/JxB,CGrE/B,eFsO4E;ADjK7C,CCiK6C;AAAA;AAAA;ADjK7C,CGrE/B,YA+QA,AAAoC,CAAC;AH1MN,CGnE9B,EAAG,YAAW,GAiRb;AAAA,EAAS,SAhRT;AAgRA,EAAuB,UAhRX,UAAU,WAAW;AAgRjC,OAAI,CAAK,KAAc,KAAvB;AAAA,GAAS;AAAT,GACC,AAjRD,MAiRM,KAAK;AADX;AAAA;AH9M6B,CCiKpB,gBAAkB,6BEtO7B,MDgCA,AAMQ,IAAoB,MDgM8F;ADjK3F,CCmKhB,UCxMf,AAMQ,IAAoB,MDkMsB;ADnKnB,CGrE/B,eF8O6D;ADzK9B,CCyK8B;AAAA;AAAA;ADzK9B,CGrE/B,YA+QA,AAAoC,CAAC;AH1MN,CGnE9B,EAAG,YAAW,GAiRb;AAAA,EAAS,SAhRT;AAgRA,EAAuB,UAhRX,UAAU,WAAW;A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N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,4BAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,8BAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,sBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,2BAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CC0MR,YCvKf,ADuK6B,OAAe;AD1MrB,CCyNI,QAAU,2BAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CCyNI,QAAU,mBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CCyNI,QAAU,qBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CCyNI,QAAU,gBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CCyNI,QAAU,kBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CCyNI,QAAU,kBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CCyNI,QAAU,sBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CCyNI,QAAU,qBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CCyNI,QAAU,4BAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CCyNI,QAAU,mCAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CCyNI,QAAU,yBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CCyNI,QAAU,mBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CCyNI,QAAU,qBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CCyNI,QAAU,iBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CCyNI,QAAU,oBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CCyNI,QAAU,kBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CCyNI,QAAU,6BAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CCyNI,QAAU,mBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CCyNI,QAAU,iBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CCyNI,QAAU,kBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC0MR,YCvKf,ADuK6B,OAAe;AD1MrB,CCyNI,QAAU,2BAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,qBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,mBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,sBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,yBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,mCAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,4BAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,wBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,qBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,wBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,KAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,KAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,sBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,wBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,kBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,sBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,mBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,iBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,mBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,oBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,kBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,kBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,kBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,qBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,kBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,uBAAQ;ADzNtB,CEqDvB,ADsK2C,cAAsB,MAAK;AD3N/C,CEqDvB,ADuK2C,qBAA6B,MAAS;AD5N1D,CC8NmD;AD9NnD,CCyNI,QAAU,gBAAQ;ADzNtB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AAAD,QAOF;AAPE,ICyImB,oBDjIF;AARjB,IC4ImB,ADpIzB,6BCoIiD,cAAmB,EDpIpB;AAR1C,IC4ImB,ADpIzB,6BCoIiD,cAAmB,EDnInE;AATK,ICwNa,sBC3XhB,AF2KH,+BCgNuE;ADxNjE,IC8NiB,mBAAuB,ADtN9C,2BCsNwE;AD9NlE,IC+NiB,EAAI,kCAAuB,8BACxC;AAAA,sBAAiB;AAAjB;ADhOJ,IC8NiB,mBAAuB,ADtN9C,2BCsNwE;AD9NlE,IC+NiB,EAAI,kCAAuB,8BACxC;AAAA,sBAAiB;AAAjB;ADhOJ,IC8NiB,mBAAuB,ADtN9C,2BCsNwE;AD9NlE,IC+NiB,EAAI,kCAAuB,8BACxC;AAAA,sBAAiB;AAAjB;ADhOJ,IC8NiB,mBAAuB,ADtN9C,2BCsNwE;AD9NlE,IC+NiB,EAAI,kCAAuB,8BACxC;AAAA,sBAAiB;AAAjB;ADhOJ,IC8NiB,mBAAuB,ADtN9C,2BCsNwE;AD9NlE,IC+NiB,EAAI,kCAAuB,8BACxC;AAAA,sBAAiB;AAAjB;ADhOJ,IC8NiB,mBAAuB,ADtN9C,2BCsNwE;AD9NlE,IC+NiB,EAAI,kCAAuB,8BACxC;AAAA,sBAAiB;AAAjB;ADhOJ,IC8NiB,mBAAuB,ADtN9C,2BCsNwE;AD9NlE,IC+NiB,EAAI,kCAAuB,8BACxC;AAAA,sBAAiB;AAAjB;ADhOJ,IC8NiB,mBAAuB,ADtN9C,2BCsNwE;AD9NlE,IC+NiB,EAAI,kCAAuB,8BACxC;AAAA,sBAAiB;AAAjB;ADhOJ,IC8NiB,mBAAuB,ADtN9C,2BCsNwE;AD9NlE,IC+NiB,EAAI,kCAAuB,8BACxC;AAAA,sBAAiB;AAAjB;ADhOJ;AAAA,QAUF;AAVE,ICyImB,oBD9HF;AAXjB,IC4ImB,ADjIzB,6BCiIiD,cAAmB,EDjIpB;AAX1C,IC4ImB,ADjIzB,6BCiIiD,cAAmB,EDhInE;AAZK,ICwNa,sBC3XhB,AF8KH,+BC6MuE;ADxNjE,IC8NiB,mBAAuB,ADnN9C,2BCmNwE;AD9NlE,IC+NiB,EAAI,kCAAuB,8BACxC;AAAA,sBAAiB;AAAjB;ADhOJ,IC8NiB,mBAAuB,ADnN9C,2BCmNwE;AD9NlE,IC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B,MQ0DlC,oBAAU,kBR1DwB;AAAA,GqGjEnC,gB7F+HC,eAAK;AR9D6B,GqGhE/B,iB7FmDH,A6FnDoB,Y7FmDlB,A6FnD2B;ArGgEK,GqG/D/B,EAAI,UAAS,UAAW,a7FsDlC;AAAA,I6FrDc,U7FqDZ,A6FrDwB,aAAW;A7FqDrC;ARSyC;AqGnEkB,EAQrD,YAAO;AAR8C;cAWO;AAAA,EAC5D,WAAW;AADiD,E7F0G7B,QA/CL,A6FzDR;AAF0C,E7F2D3D,qBAiDA,YAAY;A6F5G+C,E7F2D3D,uBAkDE;A6F7GyD,E7F2D3D,wBAmDG;A6F9GwD,ErGwDzB,MQ0DlC,oBAAU,kBR1DwB;AAAA,GqGtDnC,gB7FoHC,eAAK;AR9D6B,GqGrD/B,EAAI,UAAS,YACT;AAAA,cAAU;AAAV;ArGoD2B;AqGxDyB,EAO5D,OAAO;AAPqD;mBAUM;AAAA,EAClE,WAAoB;AAD8C,E7FgGnC,QA/CL,A6F/CR;AAFgD,E7FiDjE,qBAiDA,YAAY;A6FlGqD,E7FiDjE,uBAkDE;A6FnG+D,E7FiDjE,wBAmDG;A6FpG8D,ErG8C/B,MQ0DlC,oBAAU,kBR1DwB;AAAA,GqG5CnC,gB7F0GC,eAAK;AR9D6B,GqG3C/B,iB7F8BH,A6F9BoB,Y7F8BlB,A6F9B2B;ArG2CK,GqG1C/B,EAAI,eAAc,MACd;AAAA;AAAA;ArGyC2B,GqGvC/B,EAAI,UAAS,UhGxChB,AgGwC2B,aACpB;AAAA,chGzCP,AgGyCiB;AAAV;ArGsC2B;AqG9C+B,EAWlE,OAAO;AAX2D;SAcb;AAAA,EACrD,EAAI,UAAS,MAAM;AAAA,G7FsBzB,A6FrBU,Y7FqBR,A6FrBiB,QAAM;AADA,GAEf,OAAO;AAFQ;AADkC,E7FmBpD,O6FbM,Y7FaJ,A6Fba;AANqC;SAStB,e7FcrC;AAAA,E6FbM,Y7FaJ,A6Fba,QAAM;A7FarB;U6FVsC;AAAA,EAChC,QAAQ;AADwB,E7FqED,QA/CL,A6FpBhB;AAFsB,E7FsB/B,aAiDA,YAAY;A6FvEmB,E7FsB/B,eAkDE;A6FxE6B,E7FsB/B,gBAmDG;A6FzE4B,ErGmBG,MQ0DlC,YAAU,UR1DwB;AAAA,GqGjBnC,Q7F+EC,OAAK;AR9D6B,GqGhB/B,O7FGH,A6FHU,Y7FGR,A6FHiB;ArGgBe;AqGnBH,EAKhC,OAAO;AALyB;gBAQS;AAAA,EACzC,QAAQ;AADiC,E7F6DV,QA/CL,A6FZhB;AAF+B,E7FcxC,aAiDA,YAAY;A6F/D4B,E7FcxC,eAkDE;A6FhEsC,E7FcxC,gBAmDG;A6FjEqC,ErGWN,MQ0DlC,YAAU,UR1DwB;AAAA,GqGTnC,Q7FuEC,OAAK;AR9D6B,GqGRxB;ArGQwB,GAxBlC,aqGgBqB;ArGQa,GqGRxB,GrGhBV,WqGgB8B,MAApB;AAAA;AAAA,UhGpEV;AAAA,ILoDA,aqGgBqB;AhGpErB,IgGoEU,MhGpEV,WLoDA,WqGgB8B;AhGpE9B;AL4EkC,GqGR/B,OAAO;ArGQwB;AqGXM,EAKzC,OAAO;AALkC;eAQJ,e7FHG;AAAA,cRDvC,AqGKD;A7FJwC,EACvC,EAZA,sCAAqC,AAYjC,Q6FGO,O7FFjB;AAAA,UAAiB,Q6FEA;A7FFjB;AAF6C;Q6FOd;AAAA,EAC1B,QAAQ;AADkB,EAE1B,SrGyBC,AAAK,AQbL,6BAAW,A6FZH;AAFiB,EAG1B,OAAO;AAHmB;eAMO;AAAA,EACxB,W9G/EX;A8G8EmC,E7F2CF,QA/CL,A6FMhB;AAFuB,E7FJhC,aAiDA,YAAY;A6F7CoB,E7FJhC,eAkDE;A6F9C8B,E7FJhC,gBAmDG;A6F/C6B,ErGPE,MQ0DlC,YAAU,UR1DwB;AAAA,GqGSnC,Q7FqDC,OAAK;AR9D6B,GTtDzC,Q8GgEiB;ArGVwB,GTtDzC,QAAK;ASsDoC,GTvDF,QiB0ChC,A6FyBU,Y7FzBR,A6FyBiB;ArGZe,GTtDzC,QAAK,qBctBE,WdsBF;ASsDoC,GTtDzC,QAAK;ASsDoC;AqGOF,EAQjC,O9GlCC;A8G0BgC;SAWD,gBAChC;AAAA,E7F+B+B,QA/CL,A6FgBd;AAAZ,E7FhBC,eAiDA,YAAY;A6FjCb,E7FhBC,iBAkDE;A6FlCH,E7FhBC,kBAmDG;A6FnCJ,ErGnBmC,MQ0DlC,cAAU,YR1DwB;AAAA,GqGmBnC,U7F2CC,SAAK;AR9D6B,GqGoB/B,Y7FjCH,A6FiCe,a7FjCb,A6FiC4B;ArGpBI,GQTzC,A6F8BU,Y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C,AAyNnB,AAzNM,AA0BN,gB7GyXA,A8G7YmC,eDoB3B,cA1BU,AA0BlB,gB7GiXA,A8GrYmC,gBDoB3B,aA+LJ;ACpNQ,I9GTF,aAsQL;A8G7PO,I9GTF,YAsQC;A8G7PC,I9GyNnB,Y6GLO,AAjNM,A7GmYN,A8GrYgB,eDEE,A7GmYlB,S6GlLI;ACpNQ,I9G0NnB,W6GNO,AAjNM,A7G2YN,A8G7YgB,cDEE,A7G2YlB,Q6G1LI;ACpNQ,I9G2NnB,EAAI,qBAmLG,A8G7YgB,Y9G6YhB,SAnL4B,G6GvOoB;AAAA,KAC7C,E7GuOT;A6GxOsD,K7GwOtD,Q6GRM,AA9NM,A7GsOZ,Q6GRU;AAhO4C;ACYpC,I9GtBpB,A8GuBI,U9GvBJ,AAakB,6BAsOL,MAAM;A8G7NC,IAEhB,EAAI,E9GsCA,CA8VA,A8GpYa,e9GsCJ,I8GrCZ;AAAA,iCAAM;AAAN;AAHe,UAKV;AAAA,I9GuOT,UAAS,AAkKF,A8GxYmC,iB9GsOzB;A8GvOR,I9GuOT,UAA4B,AAkKrB,A8GxYmC,mB9GsOJ;A8GvO7B,I9GwOT,UAAS,AAiKF,YAjKU;A8GxOR,I9GwOT,UAA4B,AAiKrB,cAjK+B;A8GxO7B,I9GyOT,W6GzNO,gB7GyNG,IAAK;A8GzON,I9G0OT,W6G1NO,gB7G0NG,IAAK;A8G1ON,I9G2OT,W6G3NO,gB7G2NG,IAAK;A8G3ON,I9G4OT,W6G5NO,gB7G4NG,IAAK;A8G5ON,I9G6OT,WAAU;A8G7OD,I9G8OT,Y6G/BO,AAzNM,CAyNN,AAzNM,A7GwPF,O6GxPc,C7GwPR,AAAC,SAAQ,M6G/Bf,KAzNc,C7GwPO,AAAC,SAAQ,M6G/B9B;AC/MF,I9G+OT,SAAQ;A8G/OC,I9GgPT,O6GjCO,AAzNM,A7G0Pb,O6G1PyB,A7G0PlB,O6GjCI;AC/MF,I9GiPT,EAAI,qBAAe,KAAK,QAAO,G6G3QwB;AAAA,KAC7C,E7G2QT;A6G5QsD,K7G4QtD,Q6GnCM,AAvOM,A7G0QZ,Q6GnCU;AAzO4C;AC0B9C,I9GmPT,SAAQ;A8GnPC,I9GoPT,O6GrCO,AAzNM,A7G8Pb,O6G9PyB,A7G8PlB,O6GrCI;AC/MF,I9GqPT,EAAI,qBAAe,KAAK,QAAO,G6G/QwB;AAAA,KAC7C,E7G+QT;A6GhRsD,K7GgRtD,Q6GvCM,AAvOM,A7G8QZ,Q6GvCU;AAzO4C;AC0B9C,ID+MF,A7GwCP,Q6GxCO,AAzNM,A7GiQb,Q6GjQyB,CAAC,AAyNnB,AAzNM,AA0BN,gB7GyXA,A8GxYmC,eDe3B,cA1BU,AA0BlB,gB7GiXA,A8GhYmC,gBDe3B,aA+LJ;AC/MF,I9GdQ,cAsQL;A8GxPH,I9GdQ,aAsQC;A8GxPT,I9GsMT,Y6GSO,AAzNM,A7G2YN,A8GhYgB,eDXE,A7G2YlB,U6GlLI;AC/MF,I9GuMT,W6GQO,AAzNM,A7GmZN,A8GxYgB,cDXE,A7GmZlB,S6G1LI;AC/MF,I9GwMT,EAAI,qBAAe,KAiMZ,A8GxYgB,e9GuMU,G6GlOsB;AAAA,KAC7C,E7GkOT;A6GnOsD,K7GmOtD,Q6GMM,AAvOM,A7GiOZ,Q6GMU;AAzO4C;AC0B9C,I9G3BV,A8G4BI,U9G5BJ,AAakB,6BAwNL,MAAM;A8G1MT,IAEN,E9GiCI,CA8VA,A8G/XY,e9GiCH,G8GhCZ;AAAA,iCAAM;AAAN;AAHK;AAPW;AAPpB,E9GqPA,UAAS,AAkKF,A8GjYiB,iB9G+NP;A8GrPjB,E9GqPA,UAA4B,AAkKrB,A8GjYiB,mB9G+Nc;A8GrPtC,E9GsPA,UAAS,AAiKF,WAjKU;A8GtPjB,E9GsPA,UAA4B,AAiKrB,aAjK+B;A8GtPtC,E9GuPA,W6GzNO,gB7GyNG,IAAK;A8GvPf,E9GwPA,W6G1NO,gB7G0NG,IAAK;A8GxPf,E9GyPA,W6G3NO,gB7G2NG,IAAK;A8GzPf,E9G0PA,W6G5NO,gB7G4NG,IAAK;A8G1Pf,E9G2PA,WAAU;A8G3PV,E9G4PA,Y6G/BO,AAzNM,CAyNN,AAzNM,A7GwPF,O6GxPc,C7GwPR,AAAC,SAAQ,M6G/Bf,KAzNc,C7GwPO,AAAC,SAAQ,M6G/B9B;AC7NX,E9G6PA,SAAQ;A8G7PR,E9G8PA,O6GjCO,AAzNM,A7G0Pb,O6G1PyB,A7G0PlB,O6GjCI;AC7NX,E9G+PA,EAAI,qBAAe,KAAK,QAAO,G6G3QwB;AAAA,GAC7C,E7G2QT;A6G5QsD,G7G4QtD,Q6GnCM,AAvOM,A7G0QZ,Q6GnC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;AwL1f5E,GxL2f2B,EAAI,mCAAuB,+BACxC;AAAA,sBAAiB;AAAjB;AwL5fd,GxL0f2B,oBAAuB,AwLlfpC,0CxLkf8D;AwL1f5E,GxL2f2B,EAAI,mCAAuB,+BACxC;AAAA,sBAAiB;AAAjB;AwL5fd,GxIsBmB,cAAa;AwItBhC,GxLwa6B,AwL/Zf,4CxL+ZuC,QAAmB,EwL/Z1D;AATd,GxLwa6B,AwL/Zf,4CxL+ZuC,QAAmB,EwL/Z1B;AAT9C,GxLofuB,uBC3XhB,AuLhHO,8CxL2e6D;AwLpf3E,GxL0f2B,oBAAuB,AwLjfpC,0CxLif8D;AwL1f5E,GxL2f2B,EAAI,mCAAuB,+BACxC;AAAA,sBAAiB;AAAjB;AwL5fd,GxL0f2B,oBAAuB,AwLjfpC,0CxLif8D;AwL1f5E,GxL2f2B,EAAI,mCAAuB,+BACxC;AAAA,sBAAiB;AAAjB;AwL5fd,GxL0f2B,qBAAuB,AwLjfpC,0CxLif8D;AwL1f5E,GxL2f2B,EAAI,mCAAuB,gCACxC;AAAA,uBAAiB;AAAjB;AwL5fd,GxL0f2B,qBAAuB,AwLjfpC,0CxLif8D;AwL1f5E,GxL2f2B,EAAI,mCAAuB,gCACxC;AAAA,uBAAiB;AAAjB;AwL5fd,GAWC,EAAI,eAAc,uBACJ;AAAA,IxIUI,cAAa;AwIVjB,IxL4Zc,AwL5Zd,4CxL4ZsC,QAAmB,EwL5ZzD;AAAA,IxL4Zc,AwL5Zd,4CxL4ZsC,QAAmB,EwL5Z1B;AAA/B,IxLweQ,uBC3XhB,AuL7GQ,8CxLwe4D;AwLxe5D,IxL8eY,qBAAuB,AwL9enC,0CxL8e6D;AwL9e7D,IxL+eY,EAAI,mCAAuB,gCACxC;AAAA,wBAAiB;AAAjB;AwLhfC,IxL8eY,qBAAuB,AwL9enC,0CxL8e6D;AwL9e7D,IxL+eY,EAAI,mCAAuB,gCACxC;AAAA,wBAAiB;AAAjB;AwLhfC,IxL8eY,qBAAuB,AwL9enC,0CxL8e6D;AwL9e7D,IxL+eY,EAAI,mCAAuB,gCACxC;AAAA,wBAAiB;AAAjB;AwLhfC,IxL8eY,qBAAuB,AwL9enC,0CxL8e6D;AwL9e7D,IxL+eY,EAAI,mCAAuB,gCACxC;AAAA,wBAAiB;AAAjB;AwLhfC;AAZ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"
}